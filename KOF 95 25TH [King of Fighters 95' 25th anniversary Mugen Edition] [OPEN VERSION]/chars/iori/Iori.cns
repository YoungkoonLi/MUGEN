; Shin Iori's constants and states.
===================================

; Var(18) - Used in Counter Code
; Var(12)~(17) - used in projectiles
; Var(11) - used in Armor Mode
; Var(10) - used in Counter Mode
; Var(9) - used in AI modification
; Var(8) - used in jump
; Var(7) - used in dizzy mode
; Var(6) - used in guard crush mode
; Var(1)~(5) - used for various counters

; Voice channels:
; 0 - Shin Iori
; 1 ~ 4 - Sounds effects
; 20 - Running effects

[Data]
life = 1000          ;Amount of life to start with
power = 3000
attack = 100         ;100% attack power (more is stronger)
defence = 100        ;100% defensive power (more is stronger)
fall.defence_up = 50 ;Def goes up by 50% everytime player is hit on ground
liedown.time = 30    ;Time player takes before getting up from HIT_LIEDOWN
airjuggle = 15       ;Can do 15 points of juggling
sparkno = 1      ;Default spark number
guard.sparkno = 41;Default guard spark number
KO.echo = 0          ;1 to enable echo on KO
volume = 255         ;Volume offset (negative for softer)

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 27     ;Player width (back, ground)
ground.front = 21    ;Player width (front, ground)
air.back = 20        ;Player width (back, air)
air.front = 21       ;Player width (front, air)
z.width = 3          ;Player width (into and out)
attack.width = 4,4   ;Default attack width: back, front
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
head.pos = -9, -101   ;Approximate position of head
mid.pos = -5, -61    ;Approximate position of midsection

[Velocity]
walk.fwd  = 2.7      ;Walk forward
walk.back = -2.6     ;Walk backward
run.fwd  = 5.5       ;Run forward (x, y)  - if y<0, player will hop
run.back = -10,-4    ;Run backward (x, y) - if y=0, player will run
jump.neu = 0,-9      ;Neutral jumping velocity (x, y)
jump.back = -3       ;Jump back Speed (x, y)
jump.fwd = 3         ;Jump forward Speed (x, y)
runjump.fwd = 4,-9         ;.
;airjump.neu = 0,-9        ;.
;airjump.back = -2.55,-9   ;Air jump speeds (opt)
;airjump.fwd = 2.5,-9      ;.

[Movement]
;airjump.num = 0      ;Number of air jumps allowed (opt)
;airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .585         ;Vertical acceleration
stand.friction = .82  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;--------------------------------------------------

; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 191

[State 5900, 3] ;Intro for round 1
type = ChangeState
triggerall = roundno > 1 && TeamMode = Turns
trigger1 = P2Name = "Kyo Kusanagi"
trigger2 = P4Name = "Kyo Kusanagi"
value = 191

[State 5900, turn] ;Intro for Team
type = ChangeState
trigger1 = TeamMode = Turns
trigger1 = roundno > 1
trigger1 = RoundsExisted = 0
value = 191

;=============
; Intro & Wins
;=============
; INTRO
[Statedef 191]
type = S
physics = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 1] ; Intro vs Kyo 99
type = Changestate
trigger1 = P2Name = "Kyo 99"
trigger2 = P4Name = "Kyo 99"
trigger3 = P2Name = "Kyo99"
trigger4 = P4Name = "Kyo99"
trigger5 = P2Name = "Kyo Kusanagi 99"
trigger6 = P4Name = "Kyo Kusanagi 99"
trigger7 = P2Name = "Kyo Kusanagi99"
trigger8 = P4Name = "Kyo Kusanagi99"
value = 193
ctrl = 0

[State 191, 2] ; Intro vs Kyo 98
type = Changestate
trigger1 = P2Name = "Kyo 98"
trigger2 = P4Name = "Kyo 98"
trigger3 = P2Name = "Kyo98"
trigger4 = P4Name = "Kyo98"
trigger5 = P2Name = "Kyo Kusanagi 98"
trigger6 = P4Name = "Kyo Kusanagi 98"
trigger7 = P2Name = "Kyo Kusanagi"
trigger8 = P4Name = "Kyo Kusanagi"
value = 190 ;194
ctrl = 0

[State 191, 3] ; Alternate Intro
type = Changestate
trigger1 = Random < 600;60% of chances
trigger1 = time = 0
value = 192
ctrl = 0

[State 191, 4] ;Intro not yet over
type = AssertSpecial
trigger1 = Time = [0,88]
flag = Intro

[State 191, 5]
type = Changestate
trigger1 = Time >= 88
value = 0

;---------------------------------------------------------------------------
; Alternate Intro
[Statedef 192]
type = S
physics = S
ctrl = 0
anim = 192
velset = 0,0

[State 192, 1] ;Intro not yet over
type = AssertSpecial
trigger1 = Time = [0,130]
flag = Intro

[State 192, 2]
type = Playsnd
trigger1 = animelem = 3
value = 0,18
volume = 0
channel = 0

[State 192, 3]
type = Changestate
trigger1 = Time >= 130
value = 0

;---------------------------------------------------------------------------
; Intro vs Kyo 99
[Statedef 193]
type = S
physics = S
ctrl = 0
anim = 193
velset = 0,0

[State 193, 1] ;Intro not yet over
type = AssertSpecial
trigger1 = Time = [0,367]
flag = Intro

[State 193, 2.1]
type = Playsnd
trigger1 = animelem = 7
value = 0,14
volume = 80
channel = 0

[State 193, 2.2]
type = Playsnd
trigger1 = animelem = 23
value = 1,14
volume = 0

[State 193, 3]
type = Changestate
trigger1 = Time >= 367
value = 0

[State 193, 4.1];purple flame
type = Explod
trigger1 = animelem = 7
id = 8900
anim = 8900
pos = 55,-95
ontop = 1
ownpal = 1
removetime = -1

[State 193, 4.2]
type = RemoveExplod
trigger1 = animelem = 23
id = 8900

[State 193, 4.1]
type = Explod
trigger1 = animelem = 23
id = 8901
anim = 8901
pos = 55,-98
ontop = 1
ownpal = 1

;---------------------------------------------------------------------------
; Intro vs Kyo 98
[Statedef 194]
type = S
physics = S
ctrl = 0
anim = 194
velset = 0,0

[State 194, 1] ;Intro not yet over
type = AssertSpecial
trigger1 = Time = [0,398]
flag = Intro

[State 194, 2.1]
type = Playsnd
trigger1 = animelem = 2, = 2
value = 0,19
volume = 80
channel = 0

[State 194, 2.2]
type = Playsnd
trigger1 = animelem = 8, = 60
value = 1,19
volume = 80
channel = 0

[State 194, 2.3]
type = Playsnd
trigger1 = animelem = 10
value = 1,14
volume = 0

[State 194, 3]
type = Changestate
trigger1 = Time >= 398
value = 0

[State 194, 4.1];purple flame
type = Explod
trigger1 = animelem = 6
id = 8900
anim = 8900
pos = -5,-124
ontop = 1
ownpal = 1
removetime = -1

[State 194, 4.2];purple flame
type = Explod
trigger1 = animelem = 7
id = 8901
anim = 8900
pos = 14,-121
ontop = 1
ownpal = 1
removetime = -1

[State 194, 4.3];purple flame
type = Explod
trigger1 = animelem = 8
id = 8902
anim = 8900
pos = 23,-115
ontop = 1
ownpal = 1
removetime = -1

[State 194, 4.4];purple flame
type = Explod
trigger1 = animelem = 9
id = 8903
anim = 8900
pos = 23,-116
ontop = 1
ownpal = 1
removetime = -1

[State 194, 4.5];purple flame
type = Explod
trigger1 = animelem = 10
anim = 8902
pos = 28,-130
ontop = 1
ownpal = 1

[State 194, 5.1]
type = RemoveExplod
trigger1 = animelem = 7
id = 8900

[State 194, 5.2]
type = RemoveExplod
trigger1 = animelem = 8
id = 8901

[State 194, 5.3]
type = RemoveExplod
trigger1 = animelem = 9
id = 8902

[State 194, 5.4]
type = RemoveExplod
trigger1 = animelem = 10
id = 8903

;---------------------------------
;Intro Vs. Kyo KOF2K1
[Statedef 190]
type = S
movetype = I
physics = S
velset = 0
anim = 190

[State 192, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2,7
volume = 30
channel = 0

[State 192, Voice]
type = PlaySnd
trigger1 = AnimElem = 7, = 10
value = 2,8
volume = 0
channel = 0

[State 192, ANIM]
type = Posadd
trigger1 = Time = 0
;trigger1 = roundstate != 0
x = 50

[State 192, ANIM]
type = Changeanim
trigger1 = roundstate = 0
value = 190

[State 192, AS]
type = AssertSpecial
trigger1 = time <= 392
flag = Intro

[State 192, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 179

;Hop back (in the air)
[Statedef 179]
type = A
physics = N
anim = 105

[State 193, Boom]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
trigger2 = Animelem = 1, = 8
value = 8,2
volume = 20

;BURN 0 (son varias explosiones en realidad)
[State 193, Burn 0]
type = Explod
trigger1 = AnimElem = 1, = 0
trigger2 = Animelem = 1, = 8
ignorehitpause
persistent = 0
anim = 8910
id = 1400
pos = 0,-79
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 30,40
sprpriority = 2
ownpal = 1

[State 194, Burn 0]
type = Explod
trigger1 = AnimElem = 1, = 3
ignorehitpause
persistent = 0
anim = 8910
id = 1400
pos = 10,-85
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 30,40
sprpriority = 2
ownpal = 1

;BURN 0
[State 194, Burn 0]
type = Explod
trigger1 = AnimElem = 2, = 5
trigger1 = numexplod(1402) <= 4
ignorehitpause
persistent = 0
anim = 8911
id = 1402
pos = 0,-79
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 30,40
sprpriority = 2
ownpal = 1

;BURN 1
[State 193, Burn 1]
type = Explod
trigger1 = AnimElem = 1, = 0
trigger2 = Animelem = 1, = 8
ignorehitpause
persistent = 1
anim = 8910
id = 1401
pos = 0,-79
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 75,75
sprpriority = 2
ownpal = 1

;BURN 0
[State 192, Burn 0]
type = Explod
trigger1 = AnimElem = 1, >= 0
trigger1 = numexplod(1402) <= 4
ignorehitpause
persistent = 0
anim = 8911
id = 1402
pos = 0,-79
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 30,40
sprpriority = 2
ownpal = 1

;BURN 1
[State 192, Burn 1]
type = Explod
trigger1 = AnimElem = 1, > 0
trigger1 = numexplod(1403) <= 5
ignorehitpause
persistent = 1
anim = 8912
id = 1403
pos = 0,-79
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 75,75
sprpriority = 2
ownpal = 1

[State 193, EnvShake]
type = EnvShake
trigger1 = AnimElem = 1, = 0
time = 22
ampl = -5
freq = 180

[State 293, 1]
type = VelSet
trigger1 = Time = 0
x = - 4.14
y = -6.1

[State 193, 2]
type = PlaySnd
trigger1 = Time = 0
value = 1,2

[State 193, 3]
type = velmul
trigger1 = time >= 4
x = .933

[State 193, 3]
type = VelAdd
trigger1 = Time <= 10
y = .5846

[State 193, 3]
type = VelAdd
trigger1 = Time > 10
y = 1.4846

[State 193, 4]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -5
value = 189
;---------------------------------
; Dashing back (landing)
[Statedef 189]
type = S
physics = S
anim = 180
velset = 0,0
ctrl = 0

[State 194, Boom]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 8,2
volume = 20

;BURN 0 (son varias explosiones en realidad)
[State 194, Burn 0]
type = Explod
trigger1 = AnimElem = 1, = 0
ignorehitpause
persistent = 0
anim = 8910
id = 1400
pos = 0,-79
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 30,40
sprpriority = 2
ownpal = 1

[State 194, Burn 0]
type = Explod
trigger1 = AnimElem = 1, = 3
ignorehitpause
persistent = 0
anim = 8910
id = 1400
pos = 10,-85
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 30,40
sprpriority = 2
ownpal = 1

;BURN 0
[State 194, Burn 0]
type = Explod
trigger1 = AnimElem = 2, = 5
trigger1 = numexplod(1402) <= 4
ignorehitpause
persistent = 0
anim = 8911
id = 1402
pos = 0,-79
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 30,40
sprpriority = 2
ownpal = 1

;BURN 1
[State 194, Burn 1]
type = Explod
trigger1 = AnimElem = 1, = 0
ignorehitpause
persistent = 1
anim = 8910
id = 1401
pos = 0,-79
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 75,75
sprpriority = 2
ownpal = 1

;BURN 0
[State 194, Burn 0]
type = Explod
trigger1 = AnimElem = 1, < 5
trigger1 = numexplod(1402) <= 4
ignorehitpause
persistent = 0
anim = 8911
id = 1402
pos = 0,-79
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 30,40
sprpriority = 2
ownpal = 1

;BURN 1
[State 194, Burn 1]
type = Explod
trigger1 = AnimElem = 1, < 5
trigger1 = numexplod(1403) <= 5
ignorehitpause
persistent = 1
anim = 8912
id = 1403
pos = 0,-79
postype = P1
bindtime = 1
supermovetime = 9999999999999
pausemovetime = 999999999999
random = 75,75
sprpriority = 2
ownpal = 1

[State 194, 1]
type = posadd
trigger1 = teamside = 2
trigger1 = Time = 0
x = -1

[State 194, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 194, 2]
type = PlaySnd
trigger1 = Time = 0
value = 1,5

[State 194, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; WIN
[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 1
range = 0,100

[State 180, 2] ;Choose win1 or win4
type = VarSet
trigger1 = Command = "hold_x"
var(1) = 0

[State 180, 3] ;Choose win2 or win5
type = VarSet
trigger1 = Command = "hold_y"
var(1) = 33

[State 180, 4] ;Choose win3 or win6
type = VarSet
trigger1 = Command = "hold_z"
var(1) = 66

[State 180, 5]
type = ChangeState
trigger1 = Var(1) < 30
value = 181

[State 180, 6]
type = ChangeState
trigger1 = Var(1) = [33,65]
value = 182

[State 180, 7]
type = ChangeState
trigger1 = var(1) >= 66
value = 183

:--------------------------------------------------------------------------
; WIN 1
[Statedef 181]
type = S
physics = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 181, 1];Win4
type = Changestate
trigger1 = Random < 500;50% of chances
trigger1 = time = 0
value = 184
ctrl = 0

[State 181, 2.1]
type = PlaySnd
trigger1 = animelem = 1
value = 0,15
volume = 0
channel = 0

[State 181, 2.2]
type = PlaySnd
trigger1 = animelem = 7
value = 1,15
volume = 0
channel = 0

[State 181, 2.3]
type = PlaySnd
trigger1 = animelem = 22
value = 2,15
volume = 0
channel = 0

[State 181, 3]
type = AssertSpecial
trigger1 = Time = [0,324]
flag = Roundnotover

;---------------------------------------------------------------------------
; WIN 2
[Statedef 182]
type = S
physics = S
ctrl = 0
anim = 182
velset = 0,0,0

[State 182, 1];Win5
type = Changestate
trigger1 = Random < 500;50% of chances
trigger1 = time = 0
value = 185
ctrl = 0

[State 182, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0,16
volume = 0
channel = 0

;---------------------------------------------------------------------------
; WIN 3
[Statedef 183]
type = S
physics = S
ctrl = 0
anim = 183
velset = 0,0,0

[State 183, 1];Win6
type = Changestate
trigger1 = Random < 500;50% of chances
trigger1 = time = 0
value = 186
ctrl = 0

[State 183, 2]
type = PlaySnd
trigger1 = animelem = 6
value = 0,17 
volume = 0
channel = 0

[State 183, 3]
type = Posadd
trigger1 = animelem = 4
x = 50

;---------------------------------------------------------------------------
; WIN 4
[Statedef 184]
type = S
physics = S
ctrl = 0
anim = 184
velset = 0,0,0

[State 184, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0,17 
volume = 0
channel = 0

;---------------------------------------------------------------------------
; WIN 5
[Statedef 185]
type = S
physics = S
ctrl = 0
anim = 185
velset = 0,0,0

[State 185, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 1,14
volume = 0

[State 185, 2];purple flame
type = Explod
trigger1 = animelem = 1
anim = 8904
pos = 7,-97
sprpriority = 10
ownpal = 1

;---------------------------------------------------------------------------
; WIN 6
[Statedef 186]
type = S
physics = S
ctrl = 0
anim = 186
velset = 0,0,0

[State 186, 1]
type = AssertSpecial
trigger1 = Time = [0,280]
flag = Roundnotover

[State 186, 2]
type = Playsnd
trigger1 = animelem = 11
value = 1,14
volume = 0

[State 186, 3.1];purple flame
type = Explod
trigger1 = animelem = 7
id = 8910
anim = 3006
pos = 55,-94
ontop = 1
ownpal = 1
removetime = -1

[State 186, 3.2]
type = RemoveExplod
trigger1 = animelem = 11
id = 8910

[State 186, 3.1]
type = Explod
trigger1 = animelem = 11
id = 8901
anim = 8901
pos = 55,-98
ontop = 1
ownpal = 1

;===============
; Basic Controls
;===============
; RUN_FWD
[Statedef 100]
type    = S
physics = S
anim = 100
ctrl = 1
velset = 0

[State 100, 1]
type = ChangeState
trigger1 = prevstateno = 100
trigger1 = time = 0
value = 0
ctrl = 1

[State 100, 2]
type = VelSet
trigger1 = AnimElem = 2, < 0
x = 0

[State 100, 3]
type = VelSet
trigger1 = AnimElem = 2, >= 0
x = const(velocity.run.fwd.x)

; Play sound when running
[State 100, 4.1]
type = PlaySnd
trigger1 = Timemod = 71,0;start playing from time = 0,then play again for every 71 more ticks
value = 0,5
channel = 20
volume = 80

;Stop channel 20's sound when button fwd is release
[State 100, 4]
type = StopSnd
trigger1 = AnimElem = 6, >= 0
trigger1 = command != "holdfwd"
channel = 20;running snd

[State 100, 5]
type = ChangeState
trigger1 = AnimElem = 6, >= 0
trigger1 = command != "holdfwd"
value = 0

[State 100, 6]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

;---------------------------------------------------------------------------
; STEP_BACK
[Statedef 105]
type    = A
physics = A
ctrl = 0;step back does not have control
anim = 105
ctrl = 0

[State 105, 1]
type = VelSet
trigger1 = time = 4
x = const(velocity.run.back.x);use back constant value
y = const(velocity.run.back.y);use back constant value

[State 105, 1.1]
type = PlaySnd
trigger1 = time = 0
value = 0,4
volume = -95
persistent = 0 ;make sure it play only once each time

[State 105, 2]
type = VelMul
trigger1 = Time > 9
x = .83

[State 105, 3.1]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 105, 3.2]
type = Varset
trigger1 = command = "y"
trigger1 = command = "holdback"
var(1) = 1

[State 105, 4.1]
type = ChangeState
trigger1 = time > 4
trigger1 = var(1) = 1
value = 611

[State 105, 4.2]
type = ChangeState
trigger1 = time > 4
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106
ctrl = 0

;---------------------------------------------------------------------------
; STEP_BACK (land)
[Statedef 106]
type    = S
physics = S
anim = 106
velset = 0,0

[State 106, 1.1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 1.2]
type = Posadd
trigger1 = Time = 0
x = -20

[State 106, 1.3]
type = Posadd
trigger1 = Animtime = 0
x = 10

[State 106, 2]
type = ctrlset
trigger1 = Time = 1
value = 1

; Play sound when landing
[State 106, 3]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 106, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Slide Fwd
[Statedef 250]
type    = S
physics = S
anim = 250
ctrl = 0
velset = 0

[State 250, 1]
type = Playerpush
trigger1 = Time >= 9
trigger1 = Time < 24
value = 0

[State 250, 2];start to move fwd
type = Velset
trigger1 = Time >= 9
trigger1 = Time < 24
x = 5.5

[State 250, 3];stop the move
type = Velset
trigger1 = Time = 24
x = 0

[State 250, 4] ; Shadows
type = Afterimage
trigger1 = Time = 3
time = 8
length = 8
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2

[State 250, 5]
type = Hitby
trigger1 = Time >= 0
value = SCA, NT,ST,HT

[State 250, 6]
type = Playsnd
trigger1 = Time = 0
value = 0,12
volume = 0
channel = 0

[State 250, 7]
type = Posadd
trigger1 = animtime = 0
x = 15

[State 250, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Guard Cancel Fwd
[Statedef 255]
type    = S
physics = S
movetype= I
anim = 255
ctrl = 0
poweradd = -1000

[State 255, 1]
type = Pause
trigger1 = Time = 0
time = 3
movetime = 3

[State 255, 2]
type = Envcolor
trigger1 = Time = 0
value = 248,248,248
time = 3
under = 1

[State 255, 3]
type = Explod
trigger1 = Time = 0
anim = 8000
pos = 1,-59
ontop = 1
ownpal = 1

[State 255, 4] ; Shadows
type = Afterimage
trigger1 = Time = 8
time = 15
length = 9
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 3

[State 255, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 255, 6]
type = VelSet
trigger1 = Time >= 9
trigger1 = Time <= 27
x = 4.5

[State 255, 7]
type = HitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 255, 8]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 255, 9]
type = playerpush
trigger1 = 1
value = 0

[State 255, 10]
type = Playsnd
trigger1 = Time = 1
value = 0,12
volume = 0
channel = 0

;---------------------------------------------------------------------------
; Dodge Back
[Statedef 260]
type    = S
physics = S
movetype= I
anim = 260
ctrl = 0

[State 265, 4] ; Shadows
type = Afterimage
trigger1 = Time = 5
time = 15
length = 9
FrameGap = 3

[State 265, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 265, 6]
type = VelSet
trigger1 = Time >= 11
trigger1 = Time <= 24
x = -6

[State 265, 7]
type = HitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 265, 8]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 265, 9]
type = playerpush
trigger1 = 1
value = 0

[State 265, 10]
type = Playsnd
trigger1 = Time = 1
value = 0,12
volume = 0
channel = 0

;---------------------------------------------------------------------
;--------------------------------------------
; Guard Cancel Back
[Statedef 265]
type    = S
physics = S
movetype= I
anim = 265
ctrl = 0
poweradd = -1000

[State 265, 1]
type = Pause
trigger1 = Time = 0
time = 3
movetime = 3

[State 265, 2]
type = Envcolor
trigger1 = Time = 0
value = 248,248,248
time = 3
under = 1

[State 265, 3]
type = Explod
trigger1 = Time = 0
anim = 8000
pos = 1,-59
ontop = 1
ownpal = 1

[State 265, 4] ; Shadows
type = Afterimage
trigger1 = Time = 5
time = 15
length = 9
FrameGap = 3

[State 265, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 265, 6]
type = VelSet
trigger1 = Time >= 11
trigger1 = Time <= 24
x = -6

[State 265, 7]
type = HitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 265, 8]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 265, 9]
type = playerpush
trigger1 = 1
value = 0

[State 265, 10]
type = Playsnd
trigger1 = Time = 1
value = 0,12
volume = 0
channel = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type    = S
physics = S
movetype= I
anim = 195
ctrl = 0
velset = 0,0
facep2 = 1

[State 195, 1.1]
type = Playsnd
trigger1 = Time = 0
value = 0,11
volume = 0
channel = 0

[State 195, 1.2]
type = Stopsnd
triggerall = time >= 30
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
channel = 0

[State 195, 2]
type = CtrlSet
triggerall = time >= 30
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
value = 1

[State 195, LifeAdd]
type = LifeAdd; menos es mas rapido
trigger1 = timemod = 4, = 0 && power = PowerMax
value = 1

[State 195, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;=============
; Basic Throws
;=============
; Reverse Flayer(Throw 1)
[Statedef 2000]
type    = S
physics = S
movetype= A
anim = 2000
ctrl = 0
velset = 0,0
juggle = 15
facep2 = 1

[State 2000, 1]
type = Nothitby
trigger1 = 1
value = SCA

[State 2000, 2]
type = Hitdef
trigger1 = Time = 0
attr = S, NT
Hitflag = M-
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 2001
p2stateno = 2020
p2getp1state = 1
hitonce = 1
numhits = 0
getpower = 200
givepower = 100

[State 2000, 3];back to walking action 
type = ChangeState
trigger1 = time = 1
value = 20
ctrl = 1

;----------------------------------
; Reverse Flayer(Throw 1) - Succeed
[Statedef 2001]
type    = S
physics = N
movetype= A
anim = 2001
ctrl = 0
velset = 0,0

[State 2001, 1]
type = Width
trigger1 = time <= 34
edge = 50,0

[State 2001, 2.1]
type = sprpriority
trigger1 = time <= 20
value = 3

[State 2001, 2.2]
type = sprpriority
trigger1 = time >= 21
value = 2

[State 2001, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 13
pos = 24,0

[State 2001, 3.2]
type = TargetBind
trigger1 = time >= 14
trigger1 = time <= 20
pos = 21,0

[State 2001, 3.3]
type = TargetBind
trigger1 = time >= 21
trigger1 = time <= 27
pos = 27,0

[State 2001, 3.4]
type = TargetBind
trigger1 = time >= 28
trigger1 = time <= 33
pos = 26,0

[State 2001, 3.5]
type = Targetstate
trigger1 = time = 34
value = 2021

[State 2001, 3.6]
type = TargetBind
trigger1 = time = 34
pos = 30,-24

[State 2001, 4]
type = Posadd
trigger1 = animelem = 10
x = -15

[State 2001, 5.1];normal grab spark
type = Explod
trigger1 = animelem = 1
anim = 8250
pos = 23,-62
postype = p1
bindtime = 1
sprpriority = 2
ownpal = 1

[State 2001, 5.2];cross slash spark
type = Explod
trigger1 = animelem = 5
anim = f12
pos = 18,-68
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 2001, DAMAGE]
type = targetlifeadd
Trigger1 = AnimElem = 5
value = (-const(data.attack)*120)/100

[State 2001, 6.1]
type = Playsnd
trigger1 = animelem = 1
value = 0,57
volume = -80

[State 2001, 6.2]
type = PlaySnd
trigger1 = animelem = 5
value = 2,51
volume = 0

[State 2001, 6.3]
type = Playsnd
trigger1 = animelem = 5
value = 1,31
volume = 0

[State 2001, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------
; Throw by Reverse Flayer(Throw 1)
[Statedef 2020]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2020, 1]
type = Changeanim2
trigger1 = time = 0
value = 2020

[State 2020, 2]
type = sprpriority
trigger1 = 1
value = 1

[State 2020, 3]
type = Width
trigger1 = 1
value = -30,-30

[State 2020, 4];reach this line when error occurs
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------
; Throw by Reverse Flayer(Throw 1) - fly off
[Statedef 2021]
type    = A
physics = N
movetype= H
ctrl = 0
velset = -10,-7.5

[State 2021, 1]
type = Changeanim
trigger1 = time = 0
value = 5050

[State 2021, 2.1];gravity
type = veladd
trigger1 = 1
y = .55

[State 2021, 2.2];slow down
type = velmul
trigger1 = vel x <= -3
x = .95

[State 2021, 7]
type = SelfState
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 5100

;---------------------------------------------------------------------------
; Reversed Reverse Flayer(Throw 2)
[Statedef 2100]
type    = S
physics = S
movetype= A
anim = 2000
ctrl = 0
velset = 0,0
juggle = 15
facep2 = 1

[State 2100, 1]
type = Nothitby
trigger1 = 1
value = SCA

[State 2100, 2]
type = Hitdef
trigger1 = Time = 0
attr = S, NT
Hitflag = M-
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 2101
p2stateno = 2120
p2getp1state = 1
hitonce = 1
numhits = 0
getpower = 200
givepower = 100

[State 2100, 3];back to walking action 
type = ChangeState
trigger1 = time = 1
value = 20
ctrl = 1

;-------------------------------------------
; Reversed Reverse Flayer(Throw 2) - Succeed
[Statedef 2101]
type    = S
physics = N
movetype= A
anim = 2100
ctrl = 0
velset = 0,0

[State 2101, 1.1]
type = Width
trigger1 = time <= 13
edge = (30-(5*(floor((time+1)/2)))),0

[State 2101, 1]
type = Width
trigger1 = time >= 13
edge = 50,0

[State 2101, 2.1]
type = sprpriority
trigger1 = time <= 13
value = 1

[State 2101, 2.2]
type = sprpriority
trigger1 = time >= 13
value = 2

[State 2101, 3.1]
type = TargetBind
trigger1 = time = 0
pos = 51,0

[State 2101, 3.2]
type = BindTotarget
trigger1 = time = [1,13]
pos = (40-(11*(floor((time+1)/2)))),0,Foot

[State 2101, 3.3]
type = TargetBind
trigger1 = time >= 13
trigger1 = time <= 47
pos = 40,0

[State 2101, 3.7]
type = Targetstate
trigger1 = time = 48
value = 2121

[State 2101, 3.8]
type = TargetBind
trigger1 = time = 48
pos = 50,-24

[State 2101, 4]
type = Posadd
trigger1 = animelem = 10
x = -15

[State 2101, 5]
type = turn
trigger1 = animelem = 8

[State 2101, 6.1];normal grab spark
type = Explod
trigger1 = animelem = 8
anim = 8250
pos = 23,-62
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 2101, 6.2];cross slash spark
type = Explod
trigger1 = animelem = 12
anim = f12
pos = 18,-68
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 2101, DAMAGE]
type = targetlifeadd
Trigger1 = AnimElem = 12
value = (-const(data.attack)*120)/100

[State 2101, 7.1]
type = Playsnd
trigger1 = animelem = 8
value = 0,57
volume = -80

[State 2101, 7.2]
type = PlaySnd
trigger1 = animelem = 12
value = 2,51
volume = 0

[State 2101, 7.3]
type = Playsnd
trigger1 = animelem = 12
value = 1,31
volume = 0

[State 2101, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------
; Throw by Reversed Reverse Flayer(Throw 2)
[Statedef 2120]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2020, 1]
type = Changeanim2
trigger1 = time = 0
value = 2120

[State 2120, 2.1]
type = sprpriority
trigger1 = time <= 13
value = 2

[State 2120, 2.2]
type = sprpriority
trigger1 = time >= 13
value = 1

[State 2120, 3]
type = Width
trigger1 = 1
value = -30,-30

[State 2020, 4];reach this line when error occurs
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------
; Throw by Reversed Reverse Flayer(Throw 2) - fly off
[Statedef 2121]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 10,-7.5

[State 2121, 1]
type = Changeanim
trigger1 = time = 0
value = 5050

[State 2121, 2.1];gravity
type = veladd
trigger1 = 1
y = .55

[State 2121, 2.2];slow down
type = velmul
trigger1 = vel x >= 3
x = .95

[State 2121, 7]
type = SelfState
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 5100

;==============
; Basic Attacks
;==============
; Standing Near Light Punch
[Statedef 200]
type    = S
physics = S
movetype= A
anim = 200
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,13
channel = 0
volume = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,21

[State 200, 3.1]
type = Hitdef
trigger1 = animelem = 3
trigger1 = prevstateno != 410
attr = S, NA
hitflag = MA
guardflag = M
animtype = light
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 40, 0
pausetime = 11, 12
guard.pausetime = 11, 12
sparkno = 0
guard.sparkno = 40
sparkxy = -10, -63
hitsound = 5,0
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -9
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -9
sprpriority = 1
getpower = 50, 50
givepower = 20, 20

[State 200, 3.2]
type = Hitdef
trigger1 = animelem = 3
trigger1 = prevstateno = 410
attr = S, NA
hitflag = MA
guardflag = M
animtype = light
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 40, 0
pausetime = 11, 12
guard.pausetime = 11, 12
sparkno = 0
guard.sparkno = 40
sparkxy = -10, -63
hitsound = 5,0
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -5
guard.velocity = -4.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 50, 50
givepower = 20, 20

[State 200, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Far Light Punch
[Statedef 201]
type    = S
physics = S
movetype= A
anim = 201
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 201, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,13
channel = 0
volume = 0

[State 201, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,21

[State 201, 3]
type = Hitdef
trigger1 = animelem = 4
attr = S, NA
hitflag = MA
guardflag = M
animtype = light
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 40, 0
pausetime = 11, 12
guard.pausetime = 11, 12
sparkno = 0
guard.sparkno = 40
sparkxy = -10, -68
hitsound = 5,0
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 50, 50
givepower = 20, 20

[State 201, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Forward Light Slash
[Statedef 202]
type    = S
physics = S
movetype= A
anim = 202
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 202, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,13
channel = 0
volume = 0

[State 202, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,21

[State 202, 3.1]
type = Hitdef
trigger1 = animelem = 5
trigger1 = prevstateno <= 200 
attr = S, NA
hitflag = MA
guardflag = M
animtype = hard
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 60, 0
pausetime = 13, 12
guard.pausetime = 13, 12
sparkno = 11
guard.sparkno = 40
sparkxy = 8, -43
hitsound = S1, 31
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -11.5
guard.velocity = -11
air.velocity = -3.5, -4
ground.cornerpush.veloff = -16
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -16
sprpriority = 1
getpower = 75, 75
givepower = 30, 30
air.fall = 1
fall.recover = 0

[State 202, 3.2]
type = Hitdef
trigger1 = animelem = 5
trigger1 = prevstateno >= 200 
attr = S, NA
hitflag = MA
guardflag = M
animtype = hard
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 30, 0
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 11
guard.sparkno = 40
sparkxy = 8, -65
hitsound = S1, 31
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -11.5
guard.velocity = -11
air.velocity = -3.5, -4
ground.cornerpush.veloff = -16
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -16
sprpriority = 1
getpower = 75, 75
givepower = 30, 30
air.fall = 1
fall.recover = 0

[State 202, 4.1]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 202, 4.2]
type = Varset
trigger1 = time = 0
var(2) = 0

[State 202, 4.3]
type = Varset
triggerall = command = "x"
trigger1 = time = [4,18]
trigger1 = Movecontact = 0
trigger2 = time > 10
trigger2 = Movecontact
var(1) = 1

[State 202, 4.3]
type = Varset
trigger1 = Movehit
var(2) = 1

[State 202, 5.1]
type = ChangeState
trigger1 = animelem = 5, >= 2
trigger1 = animelem = 5, <= 3
trigger1 = var(1) = 1
value = 203

[State 202, 5.2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Foreign Style : Dream Bullet
[Statedef 203]
type    = S
physics = S
movetype= A
anim = 203
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 203, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 203, 2.1]
type = Hitdef
trigger1 = animelem = 5
trigger1 = var(2) = 1
attr = S, NA
hitflag = MA
guardflag = M
animtype = hard
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 20, 0
pausetime = 10, 12
guard.pausetime = 10, 12
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -78
hitsound = 5,2
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -11
guard.velocity = -10.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -15
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
sprpriority = 1
getpower = 75, 75
givepower = 30, 30
air.fall = 1
fall.recover = 0

[State 203, 2.2]
type = Hitdef
trigger1 = animelem = 5
trigger1 = var(2) = 0
attr = S, NA
hitflag = MA
guardflag = M
animtype = hard
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 40, 0
pausetime = 10, 12
guard.pausetime = 10, 12
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -50
hitsound = 5,2
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -11
guard.velocity = -10.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -15
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
sprpriority = 1
getpower = 75, 75
givepower = 30, 30
air.fall = 1
fall.recover = 0

[State 203, 3.1]
type = Posadd
trigger1 = animelem = 3
x = 20

[State 203, 3.2]
type = Posadd
trigger1 = animelem = 4
x = 10

[State 203, 3.3]
type = Posadd
trigger1 = animtime = 0
x = 4

[State 203, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Punch
[Statedef 400]
type    = C
physics = C
movetype= A
anim = 400
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,13
channel = 0
volume = 0

[State 400, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,21

[State 400, 3]
type = Hitdef
trigger1 = animelem = 3
attr = C, NA
hitflag = MA
guardflag = M
animtype = light
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 40, 0
pausetime = 11, 12
guard.pausetime = 11, 12
sparkno = 0
guard.sparkno = 40
sparkxy = 0, -46
hitsound = 5,0
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -12
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
sprpriority = 1
getpower = 50, 50
givepower = 20, 20

[State 400, 4]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Light Punch
[Statedef 600]
type    = A
physics = A
movetype= A
anim = 600
ctrl = 0
juggle = 5

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,13
channel = 0
volume = 0

[State 600, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,21

[State 600, 3]
type = Hitdef
trigger1 = animelem = 2
attr = A, NA
hitflag = MA
guardflag = H
animtype = light
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 40, 0
pausetime = 12, 14
guard.pausetime = 12, 14
sparkno = 0
guard.sparkno = 40
sparkxy = 0, -60
hitsound = 5,0
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6.5
guard.velocity = -6
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 50, 50
givepower = 20, 20

;---------------------------------------------------------------------------
; Standing Near Light Kick
[Statedef 210]
type    = S
physics = S
movetype= A
anim = 210
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,13
channel = 0
volume = 0

[State 210, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,21

[State 210, 3]
type = Hitdef
trigger1 = animelem = 3
attr = S, NA
hitflag = MA
guardflag = L
animtype = light
air.animtype = back
fall.animtype = back
priority = 7,Hit
damage = 40, 0
pausetime = 10, 12
guard.pausetime = 10, 12
sparkno = 0
guard.sparkno = 40
sparkxy = 2, -14
hitsound = 5,1
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -5
guard.velocity = -4.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -9
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -9
sprpriority = 1
getpower = 50, 50
givepower = 20, 20

[State 210, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Far Light Kick
[Statedef 211]
type    = S
physics = S
movetype= A
anim = 211
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 211, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,13
channel = 0
volume = 0

[State 211, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,21

[State 211, 3]
type = Hitdef
trigger1 = animelem = 4
attr = S, NA
hitflag = MA
guardflag = M
animtype = light
air.animtype = back
fall.animtype = back
priority = 7,Hit
damage = 40, 0
pausetime = 10, 12
guard.pausetime = 10, 12
sparkno = 0
guard.sparkno = 40
sparkxy = 4, -45
hitsound = 5,1
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 50, 50
givepower = 20, 20

[State 211, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Forward Light Kick
[Statedef 212]
type    = S
physics = S
movetype= A
anim = 212
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 212, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,20
channel = 0
volume = 0

[State 212, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 212, 3.1]
type = Hitdef
trigger1 = animelem = 7
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 60, 0
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -94
hitsound = 5,3
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = -16
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -16
sprpriority = 1
getpower = 75, 75
givepower = 30, 30
air.fall = 1
fall.recover = 0

[State 212, 3.2]
type = Hitdef
trigger1 = animelem = 8
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 40, 0
pausetime = 10, 12
guard.pausetime = 10, 12
sparkno = 1
guard.sparkno = 41
sparkxy = 10, -64
hitsound = 5,3
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = -16
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -16
sprpriority = 1
getpower = 75, 75
givepower = 30, 30
air.fall = 1
fall.recover = 0

[State 212, 4.1]
type = Posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 20

[State 212, 4.2]
type = Posadd
trigger1 = animelem = 11
x = 16

[State 212, 4.3]
type = Posadd
trigger1 = animtime = 0
x = -6

[State 212, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Forward Light Kick(linked)
[Statedef 213]
type    = S
physics = S
movetype= A
anim = 213
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 213, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,20
channel = 0
volume = 0

[State 213, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 213, 3.1]
type = Hitdef
trigger1 = animelem = 7
attr = S, NA
hitflag = MA
guardflag = H
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 30, 0
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -94
hitsound = 5,3
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = -16
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -16
sprpriority = 1
getpower = 75, 75
givepower = 30, 30
air.fall = 1
fall.recover = 0

[State 213, 3.2]
type = Hitdef
trigger1 = animelem = 8
attr = S, NA
hitflag = MA
guardflag = H
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 20, 0
pausetime = 10, 12
guard.pausetime = 10, 12
sparkno = 1
guard.sparkno = 41
sparkxy = 10, -64
hitsound = 5,3
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = -16
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -16
sprpriority = 1
getpower = 75, 75
givepower = 30, 30
air.fall = 1
fall.recover = 0

[State 213, 4.1]
type = Posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 20

[State 213, 4.2]
type = Posadd
trigger1 = animelem = 11
x = 16

[State 213, 4.3]
type = Posadd
trigger1 = animtime = 0
x = -6

[State 213, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Kick
[Statedef 410]
type    = C
physics = C
movetype= A
anim = 410
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,13
channel = 0
volume = 0

[State 410, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,21

[State 410, 3]
type = Hitdef
trigger1 = animelem = 4
attr = C, NA
hitflag = MA
guardflag = L
animtype = light
air.animtype = back
fall.animtype = back
priority = 7,Hit
damage = 40, 0
pausetime = 10, 12
guard.pausetime = 10, 12
sparkno = 0
guard.sparkno = 40
sparkxy = -4, -3
hitsound = 5,1
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -5
guard.velocity = -4.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -6.2
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -6.2
sprpriority = 1
getpower = 50, 50
givepower = 20, 20

[State 410, 4]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Light Kick
[Statedef 610]
type    = A
physics = A
movetype= A
anim = 610
ctrl = 0
juggle = 5

[State 610, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,13
channel = 0
volume = 0

[State 610, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,21

[State 610, 3]
type = Hitdef
trigger1 = animelem = 2
attr = A, NA
hitflag = MA
guardflag = H
animtype = light
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 40, 0
pausetime = 12, 14
guard.pausetime = 12, 14
sparkno = 0
guard.sparkno = 40
sparkxy = 0, -74
hitsound = 5,1
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6.5
guard.velocity = -6
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 50, 50
givepower = 20, 20

;---------------------------------------------------------------------------
; Foreign Style: Lily Break
[Statedef 611]
type    = A
physics = A
movetype= A
anim = 611
ctrl = 0
juggle = 5

[State 611, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,13
channel = 0
volume = 0

[State 611, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 611, 3]
type = Hitdef
trigger1 = animelem = 2
attr = A, NA
hitflag = MA
guardflag = H
animtype = hard
air.animtype = back
fall.animtype = back
priority = 7,Hit
damage = 90, 0
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -63
hitsound = 5,3
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -7.5
guard.velocity = -7
air.velocity = -3.5, -4
ground.cornerpush.veloff = -15
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
sprpriority = 1
getpower = 50, 50
givepower = 20, 20
air.fall = 1
fall.recover = 0

;---------------------------------------------------------------------------
; Standing Near Strong Punch
[Statedef 220]
type    = S
physics = S
movetype= A
anim = 220
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 220, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,20
channel = 0
volume = 0

[State 220, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 220, 3]
type = Hitdef
trigger1 = animelem = 4
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 90
pausetime = 10, 14
guard.pausetime = 10, 14
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -66
hitsound = 5,2
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 14
guard.hittime = 14
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = -11
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -11
sprpriority = 1
getpower = 75, 75
givepower = 30, 30

[State 220, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Heavy Slash
[Statedef 221]
type    = S
physics = S
movetype= A
anim = 221
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 221, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,20
channel = 0
volume = 0

[State 221, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 221, 3]
type = Hitdef
trigger1 = animelem = 5
attr = S, NA
hitflag = MA
guardflag = M
animtype = hard
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 90, 0
pausetime = 13, 14
guard.pausetime = 13, 14
sparkno = 11
guard.sparkno = 41
sparkxy = 8, -43
hitsound = S1, 31
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -9.5
guard.velocity = -9
air.velocity = -3.5, -4
ground.cornerpush.veloff = -15
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
sprpriority = 1
getpower = 75, 75
givepower = 30, 30

[State 221, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Slash
[Statedef 420]
type    = C
physics = C
movetype= A
anim = 420
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 420, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,20
channel = 0
volume = 0

[State 420, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 420, 3]
type = Hitdef
trigger1 = animelem = 5
attr = C, NA
hitflag = MA
guardflag = M
animtype = hard
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 90, 0
pausetime = 15, 14
guard.pausetime = 15, 14
sparkno = 11
guard.sparkno = 41
sparkxy = 10, -76
hitsound = S1, 31
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = -18
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -18
sprpriority = 1
getpower = 75, 75
givepower = 30, 30

[State 420, 4]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Strong Punch
[Statedef 620]
type    = A
physics = A
movetype= A
anim = 620
ctrl = 0
juggle = 10

[State 620, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,20
channel = 0
volume = 0

[State 620, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 620, 3]
type = Hitdef
trigger1 = animelem = 5
attr = A, NA
hitflag = MA
guardflag = H
animtype = hard
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 90
pausetime = 12, 14
guard.pausetime = 12, 14
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -40
hitsound = 5,2
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6.5
guard.velocity = -6
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 75, 75
givepower = 30, 30

;---------------------------------------------------------------------------
; Standing Near Strong Kick
[Statedef 230]
type    = S
physics = S
movetype= A
anim = 230
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 230, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,20
channel = 0
volume = 0

[State 230, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 230, 3]
type = Hitdef
trigger1 = animelem = 5
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 90
pausetime = 12, 15
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 2, -90
hitsound = 5,3
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.2
guard.velocity = -11.8
air.velocity = -3.5, -4
ground.cornerpush.veloff = -17
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -17
sprpriority = 1
getpower = 75, 75
givepower = 30, 30

[State 230, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Far Strong Kick
[Statedef 231]
type    = S
physics = S
movetype= A
anim = 231
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 231, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,20
channel = 0
volume = 10

[State 231, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 231, 3]
type = Hitdef
trigger1 = animelem = 5
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 100
pausetime = 12, 15
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -79
hitsound = 5,3
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.2
guard.velocity = -11.8
air.velocity = -3.5, -4
ground.cornerpush.veloff = -17
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -17
sprpriority = 1
getpower = 75, 75
givepower = 30, 30

[State 231, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Kick
[Statedef 430]
type    = C
physics = C
movetype= A
anim = 430
ctrl = 0
velset = 0,0
juggle = 15
facep2 = 1

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,20
channel = 0
volume = 0

[State 430, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 430, 3]
type = Hitdef
trigger1 = animelem = 3
attr = C, NA
hitflag = MA
guardflag = L
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 100
pausetime = 12, 8
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = -10, -44
hitsound = 5,3
guardsound = 6,0
ground.type = low
air.type = low
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2.2, -6.5
guard.velocity = -16.8
air.velocity = -2.2, -6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
getpower = 75, 75
givepower = 30, 30
fall = 1
yaccel = .6

[State 430, 4.1]
type = Posadd
trigger1 = animelem = 2
x = 5

[State 430, 4.2]
type = Posadd
trigger1 = animelem = 3
x = 12

[State 430, 5]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Strong Kick
[Statedef 630]
type    = A
physics = A
movetype= A
anim = 630
ctrl = 0
juggle = 10

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,20
channel = 0
volume = 0

[State 630, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 630, 3]
type = Hitdef
trigger1 = animelem = 4
attr = A, NA
hitflag = MA
guardflag = H
animtype = hard
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 90
pausetime = 12, 14
guard.pausetime = 12, 14
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -58
hitsound = 5,3
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6.5
guard.velocity = -6
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 75, 75
givepower = 30, 30

;---------------------------------------------------------------------------
; Slide Attacks
[Statedef 235]
type    = S
physics = S
movetype= A
anim = 235
ctrl = 0
velset = 0,0
juggle = 5

[State 235, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,13
channel = 0
volume = 0

[State 235, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,21

[State 235, 3.1]
type = Hitdef
trigger1 = animelem = 5
trigger1 = var(11) = 0
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 80, 0
pausetime = 12, 14
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -78
hitsound = S0, 26
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 21
guard.hittime = 21
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -16.2
guard.velocity = -15.8
air.velocity = -3.8, -5
ground.cornerpush.veloff = -28
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -28
sprpriority = 1
getpower = 50, 50
givepower = 20, 20
air.fall = 1
fall.recover = 1

[State 235, 3.2];for armor mode
type = Hitdef
trigger1 = animelem = 5
trigger1 = var(11) != 0
attr = S, NA
hitflag = MA
guardflag = M
animtype = dragup
priority = 4,Hit
damage = 53, 0
pausetime = 12, 14
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -78
hitsound = S0, 26
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 21
guard.hittime = 21
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -3.8, -6
guard.velocity = -15.8
air.velocity = -3.8, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
fall = 1
fall.animtype = dragUp
getpower = 50, 50
givepower = 20, 20

[State 235, 4]
type = Posadd
trigger1 = time = 0
x = 20

[State 235, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Knock Down
[Statedef 240]
type    = S
physics = N
movetype= A
anim = 240
ctrl = 0
velset = 0,0
juggle = 15
facep2 = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,30
channel = 0
volume = 0

[State 240, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 240, 3]
type = Hitdef
trigger1 = animelem = 3
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 120
pausetime = 12, 10
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -52
hitsound = 5,4
guardsound = 6,0
ground.type = low
air.type = low
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -4.2, -7.5
guard.velocity = -16.8
air.velocity = -3.7, -7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
getpower = 80, 80
givepower = 35, 35
fall = 1
yaccel = .6

[State 240, 4.1]
type = Posadd
trigger1 = animelem = 2
x = 8

[State 240, 4.2]
type = Velset
trigger1 = animelem = 3
x = 3

[State 240, 4.3]
type = Velset
trigger1 = animelem = 4
x = 0

[State 240, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Knock Down
[Statedef 640]
type    = A
physics = A
movetype= A
anim = 640
ctrl = 0
juggle = 15

[State 640, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,30
channel = 0
volume = 0

[State 640, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,22

[State 640, 3]
type = Hitdef
trigger1 = animelem = 5
attr = A, NA
hitflag = MA
guardflag = H
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 120
pausetime = 12, 10
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -67
hitsound = 5,4
guardsound = 6,0
ground.type = low
air.type = low
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -4.2, -7.5
guard.velocity = -16.8
air.velocity = -3.7, -7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
getpower = 80, 80
givepower = 35, 35
fall = 1
yaccel = .6

;---------------------------------------------------------------------------
; Guard Reversal
[Statedef 245]
type    = S
physics = S
movetype= A
anim = 245
ctrl = 0
velset = 0,0
juggle = 15
poweradd = -1000
facep2 = 1

[State 245, 1]
type = Pause
trigger1 = Time = 0
time = 8
movetime = 8

[State 245, 2]
type = Envcolor
trigger1 = Time = 0
value = 248,248,248
time = 3
under = 1

[State 245, 3]
type = Explod
trigger1 = Time = 3
anim = 8000
pos = 1,-59
ontop = 1
ownpal = 1

[State 245, 4]
type = PlaySnd
trigger1 = Time = 4
value = 0,22

[State 245, 5]
type = Hitdef
trigger1 = animelem = 3
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 50, 0
pausetime = 12, 10
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -52
hitsound = 5,4
guardsound = 6,0
ground.type = low
air.type = low
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -4.2, -7.5
guard.velocity = -16.8
air.velocity = -3.7, -7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
fall = 1
yaccel = .6

[State 245, 6.1]
type = Posadd
trigger1 = animelem = 2
x = 8

[State 245, 6.2]
type = Velset
trigger1 = animelem = 3
x = 3

[State 245, 6.3]
type = Velset
trigger1 = animelem = 4
x = 0

[State 245, 7]
type = Hitby
trigger1 = Time >= 0
trigger1 = Time < 14
value = SCA, NT,ST,HT

[State 245, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------Power up (start)
[Statedef 310]
type = S
movetype = I
physics = S
anim = 310
velset = 0
ctrl = 0

[State 301, snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 20,0
channel = 0

[State 301, snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = f21,0
channel = 2

[State 730, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 311

; Power up
[Statedef 311]
type = S
movetype = I
physics = S
anim = 311

[State 705, 2]
type = Explod
trigger1 = Time = 0
anim = f130
ID = 311
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
removeongethit = 1

[State 735, 1]
type = ChangeState
trigger1 = command != "hold_y"
trigger2 = command != "hold_z"
value = 312

[State 735, 2]
type = PowerAdd
trigger1 = Time = [0,12]
value = 8

[State 735, 2]
type = ChangeState
trigger1 = Power = Powermax
value = 313

[State 735, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 311

; Power up (end)
[Statedef 312]
type = S
movetype = I
physics = S
anim = 312

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 311

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 2

[State 740, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Power up (maxed out)
[Statedef 313]
type = S
movetype = I
physics = S
anim = 312

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 310

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 2

[State 741, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;================
; Speical Attacks
;================
; Style No. 108 : Darkness Sweep(light)
[Statedef 800]
type    = S
physics = S
movetype= A
anim = 800
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1
poweradd = 80

[State 800, 1.1]
type = Playsnd
trigger1 = Animelem = 1
value = 0,32
volume = 0
channel = 0

[State 800, 1.2]
type = Playsnd
trigger1 = Animelem = 4, = 1
value = 0,33
volume = -80

[State 1700, JorDamage]
type = AttackMulSet
triggerall = prevstateno >=200
trigger1 = 1
value = .5

[State 800, 2]
type = Projectile
trigger1 = animelem = 4, = 1
ProjID = 800 
projanim = 810
projhitanim = 815
velocity = 3, 0
projpriority = 1
projsprpriority = 5
offset = 45, 0
postype = p1
attr = S, SP
hitflag = MAFD
guardflag = M
animtype = Hard
priority = 4,Hit
damage = ifelse(p2statetype=L,20,90),10
pausetime = 0, 6
guard.pausetime = 0, 6
sparkno = 1
guard.sparkno = 42
sparkxy = 10, -44
hitsound = S0, 34
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -8.5
guard.velocity = -8
air.velocity = -3.5, -5
sprpriority = 3
getpower = 75, 75
givepower = 30, 30
palfx.time = 25
palfx.sinadd = 20,5,20,16;48,50,32,16
palfx.add = 36,10,140
air.fall = 1
fall.recover = 1

[State 800, 3]
type = Explod
trigger1 = animelem = 3,= 1
anim = 8905
pos = 19,-45
ontop = 1
ownpal = 1

[State 800, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 108 : Darkness Sweep(heavy)
[Statedef 801]
type    = S
physics = S
movetype= A
anim = 800
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1
poweradd = 80

[State 801, 1.1]
type = Playsnd
trigger1 = Animelem = 1
value = 0,32
volume = 0
channel = 0

[State 801, 1.2]
type = Playsnd
trigger1 = Animelem = 4, = 1
value = 0,33
volume = -80

[State 1700, JorDamage]
type = AttackMulSet
triggerall = prevstateno >=200
trigger1 = 1
value = .5

[State 801, 2]
type = Projectile
trigger1 = animelem = 4, = 1
ProjID = 800 
projanim = 810
projHITanim = 815
velocity = 6, 0
projpriority = 1
projsprpriority = 5
offset = 45, 0
postype = p1
attr = S, SP
hitflag = MAFD
guardflag = M
animtype = Hard
priority = 4,Hit
damage = ifelse(p2statetype=L,20,90),10
pausetime = 0, 6
guard.pausetime = 0, 6
sparkno = 1
guard.sparkno = 42
sparkxy = 10, -44
hitsound = S0, 34
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -8.5
guard.velocity = -8
air.velocity = -3.5, -5
sprpriority = 3
getpower = 75, 75
givepower = 30, 30
palfx.time = 25
palfx.sinadd = 20,5,20,16;48,50,32,16
palfx.add = 36,10,140
air.fall = 1
fall.recover = 1

[State 801, 3]
type = Explod
trigger1 = animelem = 3,= 1
anim = 8905
pos = 19,-45
ontop = 1
ownpal = 1

[State 801, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Scum Gale Attempt - 98 & above style
[Statedef 900]
type    = S
physics = S
movetype= A
anim = 900
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[State 900, 1]
type = Playsnd
trigger1 = Animelem = 5
value = 0,13
volume = 0
channel = 0

[State 900, 2]
type = Hitdef
trigger1 = animelem = 4
trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140;make sure opponent is not in guarding state
trigger1 = p2movetype != H
attr = S, ST
hitflag = M-
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 901
p2stateno = 910
p2getp1state = 1
id = 900
;chainID = id_number (int)
;nochainID = nochain_1, nochain_2 (int)
numhits = 0
getpower = 340
givepower = 244
persistent = 0

[State 900, 3]
type = Nothitby
trigger1 = time = [12,15]
value = SCA

[State 900, 4]
type = posadd
trigger1 = animelem = 3
x = 14

[State 900, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Scum Gale Attempt - 97 & below style
[Statedef 950]
type    = S
physics = S
movetype= A
anim = 950
ctrl = 0
juggle = 15
facep2 = 1
velset = 0,0

[State 950, 1]
type = Hitdef
trigger1 = animelem = 1
attr = S, ST
hitflag = M
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 901
p2stateno = 910
p2getp1state = 1
id = 900
;chainID = id_number (int)
;nochainID = nochain_1, nochain_2 (int)
numhits = 0
getpower = 340
givepower = 244
persistent = 0

[State 950, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 950, 3]
type = ChangeState
trigger1 = time = 1
value = 20
ctrl = 1

;------------------
; Scum Gale succeed
[Statedef 901]
type    = S
physics = S
movetype= A
anim = 901
ctrl = 0
velset = 0,0

[State 901, 1]
type = turn
trigger1 = time = 0

[State 901, 2]
type = Width
trigger1 = time <= 44
edge = 20,30

[State 901, 3]
type = Explod
trigger1 = animelem = 1
anim = 8200
pos = -41,-80
postype = p1
bindtime = 1
sprpriority = 2
ownpal = 1

[State 901, 4.1]
type = sprpriority
trigger1 = time > 35
value = 1

[State 901, 4.2]
type = sprpriority
trigger1 = time <= 34
value = 3

[State 901, 5.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 2
pos = -33,0

[State 901, 5.2]
type = TargetBind
trigger1 = time >= 3
trigger1 = time <= 6
pos = -45,0

[State 901, 5.3]
type = TargetBind
trigger1 = time >= 7
trigger1 = time <= 10
pos = -46,0

[State 901, 5.4]
type = TargetBind
trigger1 = time >= 11
trigger1 = time <= 19
pos = -43,0

[State 901, 5.5]
type = TargetBind
trigger1 = time >= 20
trigger1 = time <= 23
pos = -34,0

[State 901, 5.6]
type = TargetBind
trigger1 = time >= 24
trigger1 = time <= 27
pos = -33,0

[State 901, 5.7]
type = TargetBind
trigger1 = time >= 28
trigger1 = time <= 31
pos = -31,0

[State 901, 5.8]
type = TargetBind
trigger1 = time >= 32
trigger1 = time <= 35
pos = -28,0

[State 901, 5.9]
type = TargetBind
trigger1 = time >= 36
trigger1 = time <= 39
pos = -6,0

[State 901, 5.10]
type = TargetBind
trigger1 = time >= 40
trigger1 = time <= 43
pos = -5,0

[State 901, 5.11]
type = TargetBind
trigger1 = time = 44
pos = 0,0

[State 901, 6.1]
type = Playsnd
trigger1 = time = 44
value = 0,35
volume = 0
channel = 0

[State 901, 6.2]
type = Playsnd
trigger1 = Animelem = 1
value = 0,36
volume = -80

[State 901, 6.3]
type = Playsnd
trigger1 = time = 45
value = 0,37
volume = -80

[State 901, 7]
type = posadd
trigger1 = animtime = 0
x = -17

[State 901, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------
; Throw by Scum Gale
[Statedef 910]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 910, 1]
type = Changeanim2
trigger1 = time = 0
value = 910

[State 910, 2]
type = turn
trigger1 = animelem = 10

[State 910, 3.1]
type = Velset
trigger1 = time = 44
x = -22

[State 910, 3.2];Standard friction for all
type = Velmul
trigger1 = time >= 44
x = .82

[State 901, 4.1]
type = sprpriority
trigger1 = time > 35
value = 2

[State 901, 4.2]
type = sprpriority
trigger1 = time <= 34
value = 1

[State 910, 5]
type = Width
trigger1 = time <= 44
value = -30,-30

[State 910, 6]
type = Selfstate
trigger1 = time = 75
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 127: Hollyhock Flower(light) - 1st Punch
[Statedef 1000]
type    = S
physics = N
movetype= A
anim = 1000
ctrl = 0
velset = 0,0
juggle = 1
facep2 = 1
poweradd = 80

[State 1000, 1.1]
type = PlaySnd
trigger1 = animelem = 2
value = 0,38
channel = 0
volume = 0

[State 1000, 1.2]
type = PlaySnd
trigger1 = animelem = 2
value = 0,46
volume = -80

[State 1000, 2.1]
type = Velset
trigger1 = animelem = 1
x = 12

[State 1000, 2.2];friction
type = Velmul
trigger1 = time >= 0
x = .86

[State 1000, 2.3]
type = Velset
trigger1 = animelem = 5
x = 0

[State 1000, 2.4]
type = posadd
trigger1 = animelem = 8
x = -3

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1000, 3]
type = Hitdef
trigger1 = animelem = 5
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 80, 5
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 8, -78
hitsound = 5,2
guardsound = 6,1
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 14
guard.hittime = 14
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = -17
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -17
sprpriority = 1
getpower = 100, 70
givepower = 35, 35
air.fall = 1
fall.recover = 0

[State 1000, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 127: Hollyhock Flower(light) - 2nd Punch
[Statedef 1001]
type    = S
physics = N
movetype= A
anim = 1001
ctrl = 0
hitcountpersist = 1
velset = 0,0
juggle = 5
poweradd = 80

[State 1001, 1.1]
type = PlaySnd
trigger1 = animelem = 2
value = 1,38
channel = 0
volume = 0

[State 1001, 1.2]
type = PlaySnd
trigger1 = animelem = 2
value = 0,46
volume = -80

[State 1001, 2.1]
type = Velset
trigger1 = animelem = 2
x = 12

[State 1001, 2.2];friction
type = Velmul
trigger1 = time >= 0
x = .86

[State 1001, 2.3]
type = Velset
trigger1 = animelem = 5
x = 0

[State 1001, 2.4]
type = posadd
trigger1 = animelem = 8
x = -4

[State 1001, 3]
type = Hitdef
trigger1 = animelem = 5
attr = S, SA
hitflag = MA
guardflag = M
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = ifelse(hitcount>=1,40,80), 5
pausetime = 12, 10
guard.pausetime = 12, 10
sparkno = 2
guard.sparkno = 42
sparkxy = 8, -88
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 14
guard.hittime = 14
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -3.5, -8
guard.velocity = -13
air.velocity = -3.5, -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -17
sprpriority = 1
getpower = 100, 70
givepower = 35, 35
fall = 1
fall.recover = 0
yaccel = .6

[State 1001, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 127: Hollyhock Flower(light) -  Final Punch
[Statedef 1002]
type    = S
physics = N
movetype= A
anim = 1002
ctrl = 0
velset = 0,0
juggle = 9
hitcountpersist = 1
poweradd = 80

[State 1002, 1.1]
type = PlaySnd
trigger1 = animelem = 2
value = 2,38
channel = 0
volume = 0

[State 1002, 1.2]
type = PlaySnd
trigger1 = animelem = 4
value = 0,46
volume = -80

[State 1002, 2.1]
type = Velset
trigger1 = animelem = 3
x = 6
y = -5

[State 1002, 2.2];High Gravity
type = Veladd
trigger1 = time >= 7
y = .75

[State 1002, 3]
type = Hitdef
trigger1 = animelem = 5
attr = S, SA
hitflag = MAF
guardflag = H
animtype = Hard
air.animtype = Dragup
fall.animtype = Dragup
priority = 4,Hit
damage = ifelse(hitcount>=1,20,100), 5
pausetime = 3, 4
guard.pausetime = 3, 4
sparkno = 2
guard.sparkno = 42
sparkxy = -5, -61
hitsound = 5,4
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 14
guard.hittime = 14
air.hittime = 0
guard.ctrltime = 15
ground.velocity = 0
guard.velocity = -13
air.velocity = -3, 0
fall.velocity = -3, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -17
sprpriority = 1
getpower = 100, 70
givepower = 35, 35
persistent = 0

[State 1002, 4.1]
type = Targetstate
trigger1 = movehit
trigger1 = HitPauseTime = 1
value = 1020
ignorehitpause = 1
persistent = 0

[State 1002, 4.2]
type = TargetBind
trigger1 = movehit
trigger1 = HitPauseTime = 1
pos = (p2bodydist x + 52),(p2bodydist y - 50)
ignorehitpause = 1
persistent = 0

[State 1002, 5]
type = StateTypeSet
trigger1 = animelem = 3
value = A

[State 1002, 6]
type = Nothitby
trigger1 = time = [17,18]
value = SCA

[State 1002, 7]
type = Varset
trigger1 = movehit
trigger1 = HitPauseTime = 1
var(14) = 1
ignorehitpause = 1
persistent = 0

[State 1002, 8]
type = ChangeState
trigger1 = time >= 7
trigger1 = pos y >= -10
trigger1 = Vel y > 0
value = 1003

;---------------------------------------------------------------------------
; Style No. 127: Hollyhock Flower(light) -  Final Punch,reach ground
[Statedef 1003]
type    = S
physics = N
movetype= I
anim = 1003
ctrl = 0
velset = 0,0

[State 1003, 1.1]
type = Posset
trigger1 = time = 0
y = 0

[State 1003, 1.2]
type = Posadd
trigger1 = time = 0
x = 5

[State 1003, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 127: Hollyhock Flower(heavy) - 1st Punch
[Statedef 1010]
type    = S
physics = N
movetype= A
anim = 1010
ctrl = 0
velset = 0,0
juggle = 1
facep2 = 1
poweradd = 80

[State 1010, 1.1]
type = PlaySnd
trigger1 = animelem = 2
value = 0,38
channel = 0
volume = 0

[State 1010, 1.2]
type = PlaySnd
trigger1 = animelem = 2
value = 0,46
volume = -80

[State 1010, 2.1]
type = Velset
trigger1 = animelem = 1
x = 15

[State 1010, 2.2];friction
type = Velmul
trigger1 = time >= 0
x = .86

[State 1010, 2.3]
type = Velset
trigger1 = animelem = 5
x = 0

[State 1010, 2.4]
type = posadd
trigger1 = animelem = 8
x = -3

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1010, 3]
type = Hitdef
trigger1 = animelem = 5
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 80, 5
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 8, -78
hitsound = 5,2
guardsound = 6,1
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 14
guard.hittime = 14
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -11.5
guard.velocity = -11
air.velocity = -3.5, -4
ground.cornerpush.veloff = -16
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -16
sprpriority = 1
getpower = 100, 70
givepower = 35, 35
air.fall = 1
fall.recover = 0

[State 1010, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 127: Hollyhock Flower(heavy) - 2nd Punch
[Statedef 1011]
type    = S
physics = N
movetype= A
anim = 1011
ctrl = 0
velset = 0,0
juggle = 5
hitcountpersist = 1
poweradd = 80

[State 1011, 1.1]
type = PlaySnd
trigger1 = animelem = 2
value = 1,38
channel = 0
volume = 0

[State 1011, 1.2]
type = PlaySnd
trigger1 = animelem = 2
value = 0,46
volume = -80

[State 1011, 2.1]
type = Velset
trigger1 = animelem = 2
x = 15

[State 1011, 2.2];friction
type = Velmul
trigger1 = time >= 0
x = .86

[State 1011, 2.3]
type = Velset
trigger1 = animelem = 5
x = 0

[State 1011, 2.4]
type = posadd
trigger1 = animelem = 8
x = -4

[State 1011, 3]
type = Hitdef
trigger1 = animelem = 5
attr = S, SA
hitflag = MA
guardflag = M
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = ifelse(hitcount>=1,40,80), 5
pausetime = 12, 10
guard.pausetime = 12, 10
sparkno = 2
guard.sparkno = 42
sparkxy = 8, -88
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 14
guard.hittime = 14
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -3.5, -8
guard.velocity = -13
air.velocity = -3.5, -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -16
sprpriority = 1
getpower = 100, 70
givepower = 35, 35
fall = 1
fall.recover = 0
yaccel = .6

[State 1011, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 127: Hollyhock Flower(heavy) -  Final Punch
[Statedef 1012]
type    = S
physics = N
movetype= A
anim = 1012
ctrl = 0
velset = 0,0
juggle = 9
hitcountpersist = 1
poweradd = 80

[State 1012, 1.1]
type = PlaySnd
trigger1 = animelem = 2
value = 2,38
channel = 0
volume = 0

[State 1012, 1.2]
type = PlaySnd
trigger1 = animelem = 4
value = 0,46
volume = -80

[State 1012, 2.1]
type = Velset
trigger1 = animelem = 3
x = 6.5
y = -7.5

[State 1012, 2.2];High Gravity
type = Veladd
trigger1 = time >= 7
y = .75

[State 1012, 3]
type = Hitdef
trigger1 = animelem = 5
attr = S, SA
hitflag = MAF
guardflag = H
animtype = Hard
air.animtype = Dragup
fall.animtype = Dragup
priority = 4,Hit
damage = ifelse(hitcount>=1,20,100), 5
pausetime = 3, 4
guard.pausetime = 3, 4
sparkno = 2
guard.sparkno = 42
sparkxy = -5, -61
hitsound = 5,4
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 14
guard.hittime = 14
air.hittime = 0
guard.ctrltime = 15
ground.velocity = 0
guard.velocity = -13
air.velocity = -3, 0
fall.velocity = -3, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -16
sprpriority = 1
getpower = 100, 70
givepower = 35, 35
persistent = 0

[State 1012, 4.1]
type = Targetstate
trigger1 = movehit
trigger1 = HitPauseTime = 1
value = 1020
ignorehitpause = 1
persistent = 0

[State 1012, 4.2]
type = TargetBind
trigger1 = movehit
trigger1 = HitPauseTime = 1
pos = (p2bodydist x + 52),(p2bodydist y - 50)
ignorehitpause = 1
persistent = 0

[State 1012, 5.1]
type = Varset
trigger1 = time = 0
var(13) = 0

[State 1012, 5.2]
type = Varset
trigger1 = p2stateno = 1022
trigger2 = (p2stateno = 1030 && p2statetype = L)
var(13) = 1

[State 1012, 6]
type = Varset
trigger1 = movehit
trigger1 = HitPauseTime = 1
var(14) = 1
ignorehitpause = 1
persistent = 0

[State 1012, 7]
type = StateTypeSet
trigger1 = animelem = 3
value = A

[State 1012, 8]
type = Nothitby
trigger1 = time = [17,25]
value = SCA

[State 1012, 9]
type = ChangeState
trigger1 = time >= 7
trigger1 = pos y >= -10
trigger1 = Vel y > 0
value = 1013

;---------------------------------------------------------------------------
; Style No. 127: Hollyhock Flower(heavy) -  Final Punch,reach ground
[Statedef 1013]
type    = S
physics = N
movetype= I
anim = 1013
ctrl = 0
velset = 0,0

[State 1013, 1.1]
type = Posset
trigger1 = time = 0
y = 0

[State 1013, 1.2]
type = Posadd
trigger1 = time = 0
x = 5

[State 1013, 2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------
; Hit by Style No. 127: Hollyhock Flower -  Final Punch
[Statedef 1020]
type    = A
physics = N
movetype= H
ctrl = 0

[State 1020, 1]
type = Nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1020, 2.1]
type = Changestate
trigger1 = GetHitVar(animtype) = 2
trigger1 = SelfAnimExist(5111)
value = 1030
ignorehitpause = 1

[State 1020, 2.2];in air
type = Changestate
trigger1 = 1
value = 1021
ignorehitpause = 1

;--------------------------------------------------------------
; Hit by Style No. 127: Hollyhock Flower -  Final Punch,Falling
[Statedef 1021]
type    = A
physics = N
movetype= H
ctrl = 0

[State 1021, 1]
type = changeanim2
trigger1 = time <= 2
value = 1021

[State 1021, 2]
type = Posfreeze
trigger1 = time <= 2

[State 1021, 3.1];Ultra High Gravity
type = veladd
trigger1 = time > 2
y = 3

[State 1021, 3.2];Increase speed
type = velmul
trigger1 = time > 2
x = 1.17

[State 1021, 3.3];Set speed
type = velset
trigger1 = time = 0
y = 10

[State 1021, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 1021, 5]
type = Changestate
trigger1 = time > 3
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 1022

;---------------------------------------------------------------
; Hit by Style No. 127: Hollyhock Flower -  Final Punch,Bouncing
[Statedef 1022]
type    = L
physics = N
movetype= H
ctrl = 0

[State 1022, 1]
type = changeanim2
trigger1 = time <= 2
value = 1022

[State 1022, 2]
type = Posfreeze
trigger1 = time >= 0
trigger1 = time <= 2

[State 1022, 3.1]
type = Posset
trigger1 = time = 0
y = -20

[State 1022, 3.2]
type = veladd
trigger1 = time >= 3
y = .5

[State 1022, 4.1]
type = velset
trigger1 = time = 0
y = -5
ignorehitpause = 1

[State 1022, 4.2]
type = velmul
trigger1 = 1
x = .8

[State 1022, 5];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 70
ampl = -6

[State 1022, 6]
type = Nothitby
trigger1 = 1
value = SCA

[State 1022, 7]
type = Posadd
trigger1 = animelem = 3
y = 10

[State 1022, 8]
type = Changestate
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 1023

;--------------------------------------------------------------
; Hit by Style No. 127: Hollyhock Flower -  Final Punch,liedown
[Statedef 1023]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1023, 1]
type = Changeanim
trigger1 = time = 0
value = 5110

[State 1023, 2]
type = posset
trigger1 = time = 0
y = 0

[State 1023, 3]
type = GameMakeAnim
trigger1 = Time = 0
value = 61
pos = 0, 0
under = 1

[State 1023, 4]
type = PlaySnd
trigger1 = Time = 0
value = F7, 0 ;Hit ground

[State 1023, 5]
type = Nothitby
trigger1 = 1
value = SCA

[State 1023, 6.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5110

[State 1023, 6.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;------------------------------------------------------------------
; Hit by Style No. 127: Hollyhock Flower -  Final Punch,ground fall
[Statedef 1030]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1030, 1.1]
type = changeanim2
trigger1 = time <= 2
value = 1030

[State 1030, 1.2]
type = Posfreeze
trigger1 = time <= 2

[State 1030, 1.3]
type = changeanim
trigger1 = time = 6
value = 5111

[State 1030, 2]
type = Posset
trigger1 = time = 4
y = 0

[State 1030, 3];shaking effect
type = Envshake
trigger1 = time = 6
time = 15
freq = 70
ampl = -6

[State 1030, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 1030, 5]
type = Statetypeset
trigger1 = time = 6
value = L

[State 1030, 6]
type = Changestate
trigger1 = time = 9
value = 1031

;--------------------------------------------------------------------
; Hit by Style No. 127: Hollyhock Flower -  Final Punch,ground bounce
[Statedef 1031]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,-5

[State 1031, 1]
type = changeanim2
trigger1 = time = 0
value = 1031

[State 1031, 2.1]
type = Posset
trigger1 = time = 0
y = -20

[State 1031, 2.2];gravity
type = veladd
trigger1 = 1
y = .5

[State 1031, 3]
type = Nothitby
trigger1 = 1
value = SCA

[State 1031, 4]
type = Changestate
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 1032

;---------------------------------------------------------------------
; Hit by Style No. 127: Hollyhock Flower -  Final Punch,ground liedown
[Statedef 1032]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1032, 1]
type = Changeanim
trigger1 = time = 0
value = 5111

[State 1032, 2]
type = posset
trigger1 = time = 0
y = 0

[State 1032, 3]
type = GameMakeAnim
trigger1 = Time = 0
value = 61
pos = 0, 0
under = 1

[State 1032, 4]
type = PlaySnd
trigger1 = Time = 0
value = F7, 0 ;Hit ground

[State 1032, 5]
type = Nothitby
trigger1 = 1
value = SCA

[State 1032, 6.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5110

[State 1032, 6.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Style No. 100: Demon Scorcher(light)
[Statedef 1100]
type    = S
physics = N
movetype= A
anim = 1100
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1
poweradd = 80

[State 1100, 1.1]
type = Playsnd
trigger1 = Animelem = 3
value = 0,40
volume = 0
channel = 0

[State 1100, 1.2]
type = Playsnd
trigger1 = Animelem = 4, = 1
value = 0,41
volume = -80

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1100, 2.11]
type = Hitdef
trigger1 = animelem = 4
trigger1 = var(10) = 0
attr = S, SA
hitflag = MA
guardflag = M
animtype = Back
priority = 4,Hit
damage = 100, 10
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 10, -48
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2, -12
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
getpower = 75, 75
givepower = 30, 30
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.animtype = hard
yaccel = .6

[State 1100, 2.12]
type = Hitdef
trigger1 = animelem = 4
trigger1 = var(10) != 0
attr = S, SA
hitflag = MA
guardflag = M
animtype = Dragup
priority = 4,Hit
damage = 100, 10
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 10, -48
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2, -12
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
getpower = 75, 75
givepower = 30, 30
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.animtype = hard
yaccel = .6

[State 1100, 2.21]
type = Hitdef
trigger1 = animelem = 5
trigger1 = var(10) = 0
attr = S, SA
hitflag = MA
guardflag = M
animtype = Back
priority = 4,Hit
damage = 100, 10
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -88
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2, -12
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
getpower = 75, 75
givepower = 30, 30
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.animtype = hard
yaccel = .6

[State 1100, 2.22]
type = Hitdef
trigger1 = animelem = 5
trigger1 = var(10) != 0
attr = S, SA
hitflag = MA
guardflag = M
animtype = Dragup
priority = 4,Hit
damage = 100, 10
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -88
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2, -12
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
getpower = 75, 75
givepower = 30, 30
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.animtype = hard
yaccel = .6

[State 1100, 2.31]
type = Hitdef
trigger1 = animelem = 6
trigger1 = var(10) = 0
attr = A, SA
hitflag = MA
guardflag = M
animtype = Back
priority = 4,Hit
damage = 100, 10
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -76
hitsound = S0, 34
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2, -12
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
getpower = 75, 75
givepower = 30, 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.animtype = hard
yaccel = .6

[State 1100, 2.32]
type = Hitdef
trigger1 = animelem = 6
trigger1 = var(10) != 0
attr = A, SA
hitflag = MA
guardflag = M
animtype = Dragup
priority = 4,Hit
damage = 100, 10
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -76
hitsound = S0, 34
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2, -12
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
getpower = 75, 75
givepower = 30, 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.animtype = hard
yaccel = .6

[State 1100, 3.1]
type = Explod
trigger1 = animelem = 6
anim = 1150
vel = 0,-.5
pos = 66, -105
ontop = 1
ownpal = 1

[State 1100, 3.2]
type = Explod
trigger1 = animelem = 10, = 1
anim = 1151
vel = 0,-.5
pos = -25,-105 ;-15,-117
ontop = 1
ownpal = 1

[State 1100, 4.1]
type = Posadd
trigger1 = animelem = 5
x = 13

[State 1100, 4.2]
type = Posadd
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 11
x = 10

[State 1100, 4.3]
type = Velset
trigger1 = animelem = 6
y = -5.2

[State 1100, 4.4]
type = gravity
trigger1 = time >= 10

[State 1100, 5]
type = Statetypeset
trigger1 = animelem = 6
value = A

[State 1100, 6.1]
type = varset
trigger1 = time = 0
var(13) = 0

[State 1100, 6.2]
type = varset
trigger1 = movehit
var(13) = 80
persistent = 0
ignorehitpause = 1

[State 1100, 7]
type = Nothitby
trigger1 = time <= 4
value = SCA

[State 1100, 8]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = vel y > 0
trigger1 = time > 11
value = 1101

;--------------------------------------------
; Style No. 100: Demon Scorcher(light) - land
[Statedef 1101]
type    = S
physics = S
movetype= I
anim = 1101
ctrl = 0
velset = 0,0

[State 1101, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 1101, 2]
type = Posset
trigger1 = time = 0
y = 0

[State 1101, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 100: Demon Scorcher(heavy)
[Statedef 1110]
type    = S
physics = N
movetype= A
anim = 1110
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1
poweradd = 80

[State 1110, 1.1]
type = Playsnd
trigger1 = Animelem = 3
value = 0,40
volume = 0
channel = 0

[State 1110, 1.2]
type = Playsnd
trigger1 = Animelem = 4, = 1
value = 0,41
volume = -80

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1110, 2.11]
type = Hitdef
trigger1 = animelem = 4
trigger1 = var(10) = 0
attr = S, SA
hitflag = MA
guardflag = M
animtype = Back
priority = 4,Hit
damage = 100, 5
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 10, -48
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
getpower = 75, 75
givepower = 30, 30
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
yaccel = .6

[State 1110, 2.12]
type = Hitdef
trigger1 = animelem = 4
trigger1 = var(10) != 0
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Dragup
priority = 4,Hit
damage = 100, 5
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 10, -48
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
getpower = 75, 75
givepower = 30, 30
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
yaccel = .6

[State 1110, 2.21]
type = Hitdef
trigger1 = animelem = 5
trigger1 = var(10) = 0
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Back
priority = 4,Hit
damage = ifelse(hitcount>=1,10,100), 5
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -88
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
getpower = 75, 75
givepower = 30, 30
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
yaccel = .6
fall.animtype = hard

[State 1110, 2.22]
type = Hitdef
trigger1 = animelem = 5
trigger1 = var(10) != 0
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Dragup
priority = 4,Hit
damage = ifelse(hitcount>=1,10,100), 5
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -88
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
getpower = 75, 75
givepower = 30, 30
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
yaccel = .6
fall.animtype = hard

[State 1110, 2.31]
type = Hitdef
trigger1 = animelem = 6
trigger1 = var(10) = 0
attr = A, SA
hitflag = MAF
guardflag = M
animtype = Back
priority = 4,Hit
damage = ifelse(hitcount>=1,10,100), 5
pausetime = 14, 14
guard.pausetime = 14, 14
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -76
hitsound = S0, 34
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2, -12
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
getpower = 75, 75
givepower = 30, 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.animtype = hard
yaccel = .6

[State 1110, 2.32]
type = Hitdef
trigger1 = animelem = 6
trigger1 = var(10) != 0
attr = A, SA
hitflag = MAF
guardflag = M
animtype = Dragup
priority = 4,Hit
damage = ifelse(hitcount>=1,10,100), 5
pausetime = 14, 14
guard.pausetime = 14, 14
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -76
hitsound = S0, 34
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -2, -12
guard.velocity = -15
air.velocity = -2, -12
sprpriority = 3
getpower = 75, 75
givepower = 30, 30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -3
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.animtype = hard
yaccel = .6

[State 1110, 3.1]
type = Explod
trigger1 = animelem = 6
anim = 1150
vel = 0,-.5
pos = 66, -105
ontop = 1
ownpal = 1

[State 1110, 3.2]
type = Explod
trigger1 = animelem = 10, = 1
anim = 1151
vel = 0,-.5
pos = -15, -117
ontop = 1
ownpal = 1

[State 1110, 4.1]
type = Posadd
trigger1 = animelem = 5
x = 13

[State 1110, 4.2]
type = Posadd
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 11
x = 10

[State 1110, 4.3]
type = Velset
trigger1 = animelem = 6
y = -10.5

[State 1110, 4.4]
type = gravity
trigger1 = time >= 10

[State 1110, 5]
type = Statetypeset
trigger1 = animelem = 6
value = A

[State 1110, 6.1]
type = varset
trigger1 = time = 0
var(13) = 0

[State 1110, 6.2]
type = varset
trigger1 = movehit
var(13) = 80
persistent = 12
ignorehitpause = 1

[State 1110, 7.1]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1110, 7.2]
type = varadd
trigger1 = movehit
var(2) = 1
ignorehitpause = 1
persistent = 12

[State 1110, 9]
type = MoveHitReset
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
ignorehitpause = 1

[State 1110, 10]
type = Nothitby
trigger1 = time <= 4
value = SCA

[State 1110, 11]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = vel y > 0
trigger1 = time > 11
value = 1111

;--------------------------------------------
; Style No. 100: Demon Scorcher(heavy) - land
[Statedef 1111]
type    = S
physics = S
movetype= I
anim = 1111
ctrl = 0
velset = 0,0

[State 1111, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 1111, 2]
type = Posset
trigger1 = time = 0
y = 0

[State 1111, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 212 : Moon Harp Negative(light)
[Statedef 1200]
type    = S
physics = N
movetype= I
anim = 1200
ctrl = 0
velset = 0,0
facep2 = 1

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(50) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(50) = 1

[State 1200, 1.1]
type = Velset
trigger1 = time = 6
x = 8.5

[State 1200, 1.2];Small friction
type = Velmul
trigger1 = time >= 23
x = 0.89

[State 1200, 2]
type = Changeanim
trigger1 = time = 23
value = 1201

[State 1200, 3]
type = Playsnd
trigger1 = time = 0
value = 0,42
volume = 0
channel = 0

[State 1200, 4.1]
type = Changestate
trigger1 = time = [6,22]
trigger1 = p2bodydist x <= 50
value = 1201

[State 1200, 4.2]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 212 : Moon Harp Negative(heavy)
[Statedef 1210]
type    = S
physics = N
movetype= I
anim = 1200
ctrl = 0
velset = 0,0
facep2 = 1

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(50) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(50) = 1

[State 1210, 1.1]
type = Velset
trigger1 = time = 6
x = 8.5

[State 1210, 1.2];Small friction
type = Velmul
trigger1 = time >= 32
x = 0.89

[State 1210, 2]
type = Changeanim
trigger1 = time = 32
value = 1201

[State 1210, 3]
type = Playsnd
trigger1 = time = 0
value = 0,42
volume = 0
channel = 0

[State 1210, 4.1]
type = Changestate
trigger1 = time = [6,31]
trigger1 = p2bodydist x <= 50
value = 1201

[State 1210, 4.2]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------
; Style No. 212 : Moon Harp Negative - 1st Attack
[Statedef 1201]
type    = S
physics = N
movetype= A
anim = 1202
ctrl = 0
juggle = 15

[State JorDamage3, attack]
type = AttackMulSet
trigger1 = var(50) = 1
value = .5

[State 1201, 2]
type = Hitdef
trigger1 = animelem = 5
attr = S, SA
hitflag = MA
guardflag = M
animtype = Back
priority = 4,Hit
damage = 80, 5
pausetime = 2, 12
guard.pausetime = 2, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 10, -57
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12
guard.velocity = -12
air.velocity = -3.5, -6
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 75, 75
givepower = 30, 30
air.fall = 1
fall.recover = 0

[State 1201, 3.1]
type = posadd
trigger1 = animelem = 1
x = 16

[State 1201, 3.2];Small friction
type = Velmul
trigger1 = 1
x = 0.89

[State 1201, 4.1]
type = Changestate
trigger1 = movecontact
trigger1 = animelem = 6
value = 1202

[State 1201, 4.2]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------
; Style No. 212 : Moon Harp Negative - 2nd Attack
[Statedef 1202]
type    = S
physics = S
movetype= A
anim = 1203
ctrl = 0

[State 1201, 1]
type = Hitdef
trigger1 = animelem = 3, = 1
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 0, 0
pausetime = 0, 0
guard.pausetime = 0, 14
sparkno = 2
guard.sparkno = 42
sparkxy = 10, -75
hitsound = -1
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -12
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p1stateno = 1203
p2stateno = 1220
p2getp1state = 1
p2facing = 1
hitonce = 1

[State 1202, 2]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------
; Style No. 212 : Moon Harp Negative - 2nd Attack Succeed
[Statedef 1203]
type    = S
physics = S
movetype= A
anim = 1204
ctrl = 0

[State 1203, 1]
type = Width
trigger1 = 1
edge = 70,10

[State 1203, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 1203, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 1
pos = 68,-53

[State 1203, 3.2]
type = TargetBind
trigger1 = time >= 2
trigger1 = time <= 6
pos = 27,-8

[State 1203, 3.3]
type = TargetBind
trigger1 = time >= 7
trigger1 = time <= 22
pos = 31,1

[State 1203, 3.4]
type = TargetBind
trigger1 = time >= 23
trigger1 = time <= 33
pos = 25,0

[State 1203, 4.1]
type = Explod
triggerall = time >= 23
triggerall = time <= 40
triggerall = random < 700
trigger1 = timemod = 2,1
anim = 8910
pos = -40,-50
random = 70,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 1203, 4.2]
type = Explod
triggerall = time >= 23
triggerall = time <= 40
triggerall = random < 700
trigger1 = timemod = 2,1
anim = 8911
pos = -40,-50
random = 70,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 1203, 4.3]
type = Explod
triggerall = time >= 23
triggerall = time <= 40
triggerall = random < 700
trigger1 = timemod = 2,1
anim = 8912
pos = -40,-80
random = 70,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 1203, 4.4]
type = Explod
triggerall = time > 30
triggerall = random < 500
trigger1 = timemod = 3,0
anim = 8913
pos = -40,-60
random = 70,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 1203, 4.5];smash ground wave
type = Explod
trigger1 = time = 2
anim = f62
pos = 63,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 1203, 5];shaking effect
type = Envshake
trigger1 = time = 2
trigger2 = time = 23
time = 15
freq = 70
ampl = -7
ignorehitpause = 1

[State 1203, 6.1]
type = Playsnd
trigger1 = time = 0
value = 1,42
volume = 0
channel = 0

[State 1203, 6.2]
type = Playsnd
trigger1 = time = 2
value = 0,39
volume = -80

[State 1203, 6.3]
type = Playsnd
trigger1 = time = 2
value = 0,43
volume = 0

[State 1220, 6]
type = TargetLifeadd
trigger1 = time = 32
value = ifelse(var(50)=1,-15,-30)

[State 1203, 6.4]
type = Playsnd
trigger1 = time = 0
value = 0,36
volume = -80

[State 1203, 7]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------
; Hit by Style No. 212 : Moon Harp Negative - 2nd Attack
[Statedef 1220]
type    = A
physics = N
movetype= H
ctrl = 0

[State 1220, 1]
type = changeanim2
trigger1 = time = 0
value = 1220

[State 1220, 2]
type = Width
trigger1 = time <= 33
edge = -30,-30

[State 1220, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 1220, 4.1]
type = velset
trigger1 = time = 34
x = -4
y = -7

[State 1220, 4.2];gravity
type = veladd
trigger1 = time >= 34
y = .5

[State 1220, 5]
type = PalFX
trigger1 = time = 32
time = 25
sinadd = 20,5,20,16
add = 36,10,140

[State 1220, 7]
type = Changestate
trigger1 = time > 35
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 1221

;----------------------------------------------------------------
; Hit by Style No. 212 : Moon Harp Negative - 2nd Attack,Bouncing
[Statedef 1221]
type    = A
physics = N
movetype= H
ctrl = 0
velset = -3,-5

[State 1221, 1.1]
type = changeanim2
trigger1 = time <= 1
value = 1221

[State 1221, 1.2]
type = posfreeze
trigger1 = time <= 1

[State 1221, 2.1];gravity
type = veladd
trigger1 = time >= 2
y = .5

[State 1221, 2.2]
type = posset
trigger1 = time = 0
y = 0

[State 1221, 2.3]
type = posset
trigger1 = time = 2
y = -5

[State 1221, 3]
type = Nothitby
trigger1 = 1
value = SCA

[State 1221, 4]
type = GameMakeAnim
trigger1 = Time = 0
value = 61
pos = 0, 0
under = 1

[State 1221, 5]
type = Playsnd
trigger1 = time = 0
value = F7, 0 

[State 1221, 6]
type = changestate
trigger1 = time >= 3
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 1222

;---------------------------------------------------------------
; Hit by Style No. 212 : Moon Harp Negative - 2nd Attack,liedown
[Statedef 1222]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1222, 1]
type = Changeanim2
trigger1 = time = 0
value = 1222

[State 1222, 2]
type = posset
trigger1 = time = 0
y = 0

[State 1222, 3]
type = GameMakeAnim
trigger1 = Time = 0
value = 61
pos = 0, 0
under = 1

[State 1222, 4]
type = PlaySnd
trigger1 = Time = 0
value = F7, 0 ;Hit ground

[State 1222, 5.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5110

[State 1222, 5.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Style No. 311 : Claw Comb(light)
[Statedef 1300]
type    = S
physics = N
movetype= I
anim = 1300
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1
poweradd = 80

[State 1300, 1]
type = Playsnd
trigger1 = Animelem = 6
value = 0,45
volume = -80

[State 1300, 2.1]
type = Posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
x = 15

[State 1300, 2.2]
type = Velset
trigger1 = animelem = 6
y = -3
x = 3

[State 1300, 2.3]
type = gravity
trigger1 = time >= 11

[State 1300, 3]
type = Statetypeset
trigger1 = animelem = 6
value = A

[State 1300, 4]
type = ReversalDef
trigger1 = time = 0
reversal.attr = SCA, NA,SA
hitflag = MAFPD
numhits = 0
pausetime = 10,10
sparkno = S1039
sparkxy = 100,-65
hitsound = S200,3

[State 1300, 5]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = vel y > 0
trigger1 = time > 14
value = 1301

;----------------------------------------
; Style No. 311 : Claw Comb(light) - land
[Statedef 1301]
type    = S
physics = S
movetype= A
anim = 1301
ctrl = 0
velset = 0,0

[State 1301, 1.1]
type = PlaySnd
trigger1 = Time = 0
value = 0,41
volume = -80

[State 1301, 1.2]
type = Playsnd
trigger1 = Animelem = 2
value = 0,44
channel = 0
volume = 0

[State 1301, 2]
type = Hitdef
trigger1 = animelem = 2
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = back
priority = 4,Hit
damage = 100, 10
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -48
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12.5
air.velocity = -3.5, -6
sprpriority = 3
ground.cornerpush.veloff = -20
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -20
getpower = 75, 75
givepower = 30, 30
palfx.time = 30
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
air.fall = 1
fall.recover = 1
yaccel = .6

[State 1301, 3]
type = Explod
trigger1 = animelem = 1
anim = 1305
pos = 30, -122
ontop = 1
ownpal = 1

[State 1301, 4]
type = varset
trigger1 = movehit
var(15) = 20
persistent = 0
ignorehitpause = 1

[State 1301, 5.1]
type = Posset
trigger1 = time = 0
y = 0

[State 1301, 5.2]
type = Posadd
trigger1 = animelem = 3
x = 15

[State 1301, 5.3]
type = Posadd
trigger1 = animelem = 1
trigger2 = animelem = 4
x = 13

[State 1301, 6]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Style No. 311 : Claw Comb(heavy)
[Statedef 1310]
type    = S
physics = N
movetype= I
anim = 1310
ctrl = 0
velset = 0,0
facep2 = 1
poweradd = 80

[State 1310, 1]
type = Playsnd
trigger1 = Animelem = 6
value = 0,45
volume = -80

[State 1310, 2.1]
type = Posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
x = 15

[State 1310, 2.2]
type = Velset
trigger1 = animelem = 6
y = -4.3
x = 3.8

[State 1310, 2.3]
type = gravity
trigger1 = time >= 13

[State 1310, 3]
type = Statetypeset
trigger1 = animelem = 6
value = A

[State 1300, 4]
type = ReversalDef
trigger1 = time = 0
reversal.attr = SCA, NA,SA
hitflag = MAFPD
numhits = 0
pausetime = 10,10
sparkno = S1039
sparkxy = 100,-65
hitsound = S200,3

[State 1310, 5]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = vel y > 0
trigger1 = time > 16
value = 1301

;----------------------------------------
; Style No. 311 : Claw Comb(heavy) - land
[Statedef 1311]
type    = S
physics = S
movetype= A
anim = 1311
ctrl = 0
velset = 0,0
juggle = 15

[State 1311, 1.1]
type = PlaySnd
trigger1 = Time = 0
value = 0,41
volume = -80

[State 1311, 1.2]
type = Playsnd
trigger1 = Animelem = 2
value = 0,44
channel = 0
volume = 0

[State 1311, 2]
type = Hitdef
trigger1 = animelem = 2
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = back
priority = 4,Hit
damage = 100, 10
pausetime = 12, 12
guard.pausetime = 12, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 0, -48
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12.5
air.velocity = -3.5, -6
sprpriority = 3
ground.cornerpush.veloff = -20
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -20
getpower = 75, 75
givepower = 30, 30
palfx.time = 30
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
air.fall = 1
fall.recover = 1
yaccel = .6

[State 1311, 3]
type = Explod
trigger1 = animelem = 1
anim = 1305
pos = 30, -122
ontop = 1
ownpal = 1

[State 1311, 4]
type = varset
trigger1 = movehit
var(15) = 20
persistent = 0
ignorehitpause = 1

[State 1311, 5.1]
type = Posset
trigger1 = time = 0
y = 0

[State 1311, 5.2]
type = Posadd
trigger1 = animelem = 3
x = 15

[State 1311, 5.3]
type = Posadd
trigger1 = animelem = 1
trigger2 = animelem = 4
x = 13

[State 1311, 6]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------

;------------------------------------------------

;---------------------------------------------------------------------------
;----------------------------------------------------------

;---------------------------------------------------------------------------
; Forbidden Style No. 1211 : Eight Maidens(light)
[Statedef 3200]
type    = S
physics = N
movetype= A
anim = 3200
poweradd = -1000
ctrl = 0
velset = 0,0
facep2 = 1
juggle = 15

[State 4200, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno >= 1000
flag = nojugglecheck

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(50) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(50) = 1

[State 3000, 19]
type = Helper
triggerall = prevstateno >= 1000
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3200, 1.1]
type = SuperPause
trigger1 = Time = 2
trigger1 = var(10) = 0
anim = -1
time = 30
movetime = 30

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f100
pos = 10,-117
postype = p1
supermove = 1
bindtime = 30
sprpriority = 3
ownpal = 1

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f101
pos = 10,-117
postype = p1
supermove = 1
bindtime = 30
sprpriority = -1
ownpal = 1

[State 3200, 1.3];chime snd
type = playsnd
trigger1 = Time = 2
value = f20,0

[State 3200, 2.1]
type = Nothitby
trigger1 = time <= 32
value = SCA

[State 3200, 2.2]
type = NotHitby
trigger1 = time >= 36
value = A, NT, ST, HT
value2 = A, NA, SA, HA

[State 3200, 3]
type = Velset
trigger1 = time = 36
x = 10

[State 3200, 4]
type = Hitdef
trigger1 = animelem = 6, =1
attr = S, HA
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 10, 10
pausetime = 0, 0
guard.pausetime = 0, 14
sparkno = 3
guard.sparkno = 42
sparkxy = 0, -43
hitsound = s(var(1)), 31
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = 0
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 3220
p2getp1state = 1
p2facing = 1
hitonce = 1

[State 3200, 5.1]
type = Playsnd
trigger1 = animelem = 1
value = 0,52
volume = 100
channel = 0

[State 3200, 5.2]
type = Playsnd
trigger1 = animelem = 5
value = 0,5
volume = 80
channel = 20

[State 3200, 5.3]
type = Stopsnd
trigger1 = animelem = 8
channel = 20

[State 3200, 6];Shadows
type = Afterimage
trigger1 = Time = 37
time = 15
length = 8
FrameGap = 2

[State 3200, 7]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 1

[State 3200, 8.1]
type = Changestate
trigger1 = movehit
value = 3202
ignorehitpause = 1

[State 3200, 8.2]
type = Changestate
trigger1 = time = 52
trigger2 = moveguarded
value = 3201
ignorehitpause = 1

;---------------------------------------------------------
; Forbidden Style No. 1211 : Eight Maidens - miss,breaking
[Statedef 3201]
type    = S
physics = N
movetype= A
anim = 3201
ctrl = 0

[State 3201, 1.1];friction
type = Velmul
trigger1 = 1
x = .92

[State 3201, 1.2]
type = posadd
trigger1 = animelem = 3
x = 15

[State 3201, 2]
type = Stopsnd
trigger1 = time = 0
channel = 20

[State 3201, 3]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Forbidden Style No. 1211 : Eight Maidens(heavy)
[Statedef 3250]
type    = S
physics = N
movetype= A
anim = 3200
poweradd = -1000
ctrl = 0
velset = 0,0
facep2 = 1
juggle = 15

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(50) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(50) = 1

[State 4200, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno >= 1000
flag = nojugglecheck

[State 3000, 19]
type = Helper
triggerall = prevstateno >= 1000
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3250, 1.1]
type = SuperPause
trigger1 = Time = 2
trigger1 = var(10) = 0
anim = -1
time = 30
movetime = 30

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f100
pos = 10,-117
postype = p1
supermove = 1
bindtime = 30
sprpriority = 3
ownpal = 1

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f101
pos = 10,-117
postype = p1
supermove = 1
bindtime = 30
sprpriority = -1
ownpal = 1

[State 3250, 1.3];chime snd
type = playsnd
trigger1 = Time = 2
value = f20,0

[State 3250, 2]
type = Nothitby
trigger1 = time <= 32
value = SCA

[State 3250, 2.2]
type = NotHitby
trigger1 = time >= 36
value = A, NT, ST, HT
value2 = A, NA, SA, HA

[State 3250, 3]
type = Velset
trigger1 = time = 36
x = 10

[State 3250, 4]
type = Hitdef
trigger1 = animelem = 6, =1
attr = S, HA
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 10, 10
pausetime = 0, 0
guard.pausetime = 0, 14
sparkno = 3
guard.sparkno = 42
sparkxy = 0, -43
hitsound = s(var(1)), 31
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = 0
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 3220
p2getp1state = 1
p2facing = 1
hitonce = 1

[State 3250, 5.1]
type = Playsnd
trigger1 = animelem = 1
value = 0,52
volume = 100
channel = 0

[State 3250, 5.2]
type = Playsnd
trigger1 = animelem = 5
value = 0,5
volume = 80
channel = 20

[State 3250, 5.3]
type = Stopsnd
trigger1 = animelem = 8
channel = 20

[State 3250, 6];Shadows
type = Afterimage
trigger1 = Time = 37
time = 15
length = 8
FrameGap = 2

[State 3250, 7]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 1

[State 3250, 8.1]
type = Changestate
trigger1 = movehit
value = 3202
ignorehitpause = 1

[State 3250, 8.2]
type = Changestate
trigger1 = time = 60
value = 3201

;---------------------------------------------------
; Forbidden Style No. 1211 : Eight Maidens - succeed
[Statedef 3202]
type    = S
physics = N
movetype= A
anim = 3202
ctrl = 0
velset = 0,0

[State 3202, 1]
type = posadd
trigger1 = animelem = 3
x = 15

[State 3202, 2.1]
type = TargetBind
trigger1 = time <= 96
pos = 60,0

[State 3202, 2.2]
type = TargetBind
trigger1 = time >= 97
trigger1 = time <= 112
pos = 36,0

[State 3202, 2.3]
type = TargetBind
trigger1 = time >= 113
trigger1 = time <= 156
pos = 34,0

[State 3202, 2.4]
type = TargetBind
trigger1 = time = 157
pos = 59,-76

[State 3202, 3.1]
type = Explod
trigger1 = Time = 10
anim = f3
pos = 50,-64
ontop = 1
ownpal = 1

[State 3202, 3.2]
type = Explod
trigger1 = Time = 16
anim = f3
pos = 62,-63
ontop = 1
ownpal = 1

[State 3202, 3.3]
type = Explod
trigger1 = Time = 32
trigger2 = Time = 50
trigger3 = Time = 62
trigger4 = Time = 72
trigger5 = Time = 86
anim = f12
pos = 52,-63
ontop = 1
ownpal = 1

[State 3202, 3.4]
type = Explod
trigger1 = Time = 113
anim = f21
pos = 30,-76
sprpriority = 2
ownpal = 1

[State 3202, 3.5]
type = Explod
trigger1 = Time = 154
trigger2 = Time = 155
trigger3 = Time = 156
anim = 8910
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 3202, 3.6]
type = Explod
trigger1 = Time = 154
trigger2 = Time = 155
trigger3 = Time = 156
anim = 8911
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 3202, 3.7]
type = Explod
trigger1 = Time = 154
trigger2 = Time = 155
trigger3 = Time = 156
anim = 8910
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 3202, 3.8]
type = Explod
trigger1 = Time = 154
trigger2 = Time = 155
trigger3 = Time = 156
anim = 8911
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 3202, 3.9]
type = Explod
trigger1 = Time = 154
trigger2 = Time = 155
trigger3 = Time = 156
anim = 8910
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 3202, 3.10]
type = Explod
trigger1 = Time = 154
trigger2 = Time = 155
trigger3 = Time = 156
anim = 8911
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 3202, 4]
type = Width
trigger1 = time <= 157
edge = 60,10

[State 3202, 5.1]
type = sprpriority
trigger1 = time <= 112
value = 2

[State 3202, 5.2]
type = sprpriority
trigger1 = time >= 113
value = 3

[State 3202, 6]
type = hitadd
trigger1 = Time = 10
trigger2 = Time = 16
trigger3 = Time = 32
trigger4 = Time = 50
trigger5 = Time = 62
trigger6 = Time = 72
trigger7 = Time = 86
value = 1

[State 3220, 8.1]
type = targetlifeadd
trigger1 = Time = 10
trigger2 = Time = 72
value = ifelse(var(50)=1,-5,-10)
absolute = 1
kill = 0

[State 3220, 8.2]
type = targetlifeadd
trigger1 = Time = 16
trigger2 = Time = 32
trigger3 = Time = 50
trigger4 = Time = 62
trigger5 = Time = 86
value = ifelse(var(50)=1,-10,-20)
absolute = 1
kill = 0

[State 3220, 8.3]
type = targetlifeadd
trigger1 = Time = 156
value = ifelse(var(50)=1,-85,-170)
absolute = 1

[State 3202, 7]
type = varset
trigger1 = time = 157
var(17) = 60

[State 3202, 8.1]
type = Playsnd
trigger1 = Time = 10
trigger2 = Time = 16
trigger3 = Time = 32
trigger4 = Time = 50
trigger5 = Time = 62
trigger6 = Time = 72
trigger7 = Time = 86
value = var(1),31
volume = 0

[State 3202, 8.2]
type = VarRandom
trigger1 = 1
v = 1
range = 1

[State 3202, 8.3]
type = Playsnd
trigger1 = Time = 26
value = 1,52
volume = 0

[State 3202, 8.4]
type = Playsnd
trigger1 = Time = 154
value = 0,43
volume = 0

[State 3202, 8.5]
type = Stopsnd
trigger1 = time = 0
channel = 20

[State 3202, 8.6]
type = Playsnd
trigger1 = Time = 113
value = 0,36
volume = -80

[State 3202, 9]
type = Changestate
trigger1 = animtime = 0
trigger2 = time <= 157
trigger2 = p2stateno != 3220
value = 0
ctrl = 1

;------------------------------------------------
; Hit by Forbidden Style No. 1211 : Eight Maidens
[Statedef 3220]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3220, 1.1]
type = changestate
trigger1 = p2stateno != 3202
trigger1 = time < 5
value = 3221

[State 3220, 1.2]
type = changeanim2
trigger1 = time = 0
value = 3220

[State 3220, 2.1]
type = velset
trigger1 = time = 157
x = -4
y = -7

[State 3220, 2.2];gravity
type = veladd
trigger1 = time >= 157
y = .5

[State 3220, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 3220, 4]
type = Width
trigger1 = time <= 156
value = -30,-30

[State 3220, 5]
type = PalFX
trigger1 = time = 156
time = 40
sinadd = 20,5,20,16
add = 36,10,140

[State 3220, 6];shaking effect
type = Envshake
trigger1 = time = 154
time = 20
freq = 70
ampl = -9

[State 3220, 7];short flash
type = Envcolor
trigger1 = time = 0
trigger2 = Time = 10
trigger3 = Time = 16
trigger4 = Time = 32
trigger5 = Time = 50
trigger6 = Time = 62
trigger7 = Time = 72
trigger8 = Time = 86
value = 248,248,248
time = 2
under = 1

[State 3220, 9]
type = selfstate
trigger1 = time > 160
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 5100

;----------------------------------------------------------
; Hit by Forbidden Style No. 1211 : Eight Maidens - falloff
[Statedef 3221]
type    = A
physics = N
movetype= H
ctrl = 0
velset = -4,-7

[State 3221, 1]
type = changeanim
trigger1 = time = 0
value = 5050

[State 3221, 2.1]
type = veladd
trigger1 = 1
y = .5

[State 3221, 3]
type = selfstate
trigger1 = time > 4
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 5100

;---------------------------------------------------------------------------
; Forbidden Style No. 1211 : Eight Maidens(light)(max)
[Statedef 4200]
type    = S
physics = N
movetype= A
anim = 4200
poweradd = -2000
ctrl = 0
velset = 0,0
facep2 = 1
juggle = 15

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(50) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(50) = 1

[State 3000, 19]
type = Helper
triggerall = prevstateno = [1000,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3500, 9]
type = Helper
triggerall = prevstateno >= 3000
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 3700
stateno = 3700
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 4200, 1.1]
type = SuperPause
trigger1 = Time = 2
trigger1 = var(10) = 0
anim = -1
time = 30
movetime = 30

[State 4200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f102
pos = 10,-117
postype = p1
supermove = 1
bindtime = 30
sprpriority = 3
ownpal = 1

[State 4200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f103
pos = 10,-117
postype = p1
supermove = 1
bindtime = 30
sprpriority = -1
ownpal = 1

[State 4200, 1.3];chime snd
type = playsnd
trigger1 = Time = 2
value = f20,1

[State 4200, 2.1]
type = Nothitby
trigger1 = time <= 27
value = SCA

[State 4200, 2.2]
type = NotHitby
trigger1 = time >= 31
value = A, NT, ST, HT
value2 = A, NA, SA, HA

[State 4200, 3]
type = Velset
trigger1 = time = 31
x = 10

[State 4200, 4]
type = Hitdef
trigger1 = time = 0 ;animelem = 6,= 1
attr = S, HA
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 0, 0
pausetime = 0, 0
guard.pausetime = 0, 14
sparkno = 3
guard.sparkno = 42
sparkxy = 0, -43
hitsound = s(var(1)), 31
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = 0
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 4220
p2getp1state = 1
p2facing = 1
hitonce = 1
persistent = 0

[State 4200, 5.1]
type = Playsnd
trigger1 = animelem = 1
value = 0,52
volume = 100
channel = 0

[State 4200, 5.2]
type = Playsnd
trigger1 = animelem = 5
value = 0,5
volume = 80
channel = 20

[State 4200, 5.3]
type = Stopsnd
trigger1 = animelem = 8
channel = 20

[State 4200, 6];Shadows
type = Afterimage
trigger1 = Time = 32
time = 15
length = 8
FrameGap = 2

[State 4200, 7]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 1

[State 4200, 8.1]
type = Changestate
trigger1 = movehit
value = 4202
ignorehitpause = 1

[State 4200, 8.2]
type = Changestate
trigger1 = time = 47
trigger2 = moveguarded
value = 3201
ignorehitpause = 1

;---------------------------------------------------------------------------
; Forbidden Style No. 1211 : Eight Maidens(heavy)(max)
[Statedef 4250]
type    = S
physics = N
movetype= A
anim = 4200
poweradd = -2000
ctrl = 0
velset = 0,0
facep2 = 1
juggle = 15

[State 4200, AssertSpecial]
type = AssertSpecial
triggerall = time > 0
trigger1 = prevstateno >= 1000
flag = nojugglecheck

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(50) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(50) = 1

[State 3000, 19]
type = Helper
triggerall = prevstateno = [1000,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3500, 9]
type = Helper
triggerall = prevstateno >= 3000
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 3700
stateno = 3700
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 4250, 1.1]
type = SuperPause
trigger1 = Time = 2
trigger1 = var(10) = 0
anim = -1
time = 30
movetime = 30

[State 4200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f102
pos = 10,-117
postype = p1
supermove = 1
bindtime = 30
sprpriority = 3
ownpal = 1

[State 4200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f103
pos = 10,-117
postype = p1
supermove = 1
bindtime = 30
sprpriority = -1
ownpal = 1

[State 4250, 1.3];chime snd
type = playsnd
trigger1 = Time = 2
value = f20,1

[State 4250, 2]
type = Nothitby
trigger1 = time <= 27
value = SCA

[State 4250, 2.2]
type = NotHitby
trigger1 = time >= 31
value = A, NT, ST, HT
value2 = A, NA, SA, HA

[State 4250, 3]
type = Velset
trigger1 = time = 31
x = 10

[State 4250, 4]
type = Hitdef
trigger1 = animelem = 6, =1
attr = S, HA
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 0, 0
pausetime = 0, 0
guard.pausetime = 0, 14
sparkno = 3
guard.sparkno = 42
sparkxy = 0, -43
hitsound = s(var(1)), 31
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = 0
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
p2stateno = 4220
p2getp1state = 1
p2facing = 1
hitonce = 1
persistent = 0

[State 4250, 5.1]
type = Playsnd
trigger1 = animelem = 1
value = 0,52
volume = 100
channel = 0

[State 4250, 5.2]
type = Playsnd
trigger1 = animelem = 5
value = 0,5
volume = 80
channel = 20

[State 4250, 5.3]
type = Stopsnd
trigger1 = animelem = 8
channel = 20

[State 4250, 6];Shadows
type = Afterimage
trigger1 = Time = 32
time = 15
length = 8
FrameGap = 2

[State 4250, 7]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 1

[State 4250, 8.1]
type = Changestate
trigger1 = movehit
value = 4202
ignorehitpause = 1

[State 4250, 8.2]
type = Changestate
trigger1 = time = 55
value = 3201

;--------------------------------------------------------
; Forbidden Style No. 1211 : Eight Maidens(max) - succeed
[Statedef 4202]
type    = S
physics = N
movetype= A
anim = 4202
ctrl = 0
velset = 0,0

[State 4202, 1]
type = posadd
trigger1 = animelem = 3
x = 15

[State 4202, 2.1]
type = TargetBind
trigger1 = time <= 96
pos = 60,0

[State 4202, 2.2]
type = TargetBind
trigger1 = time >= 97
trigger1 = time <= 112
pos = 36,0

[State 4202, 2.3]
type = TargetBind
trigger1 = time >= 113
trigger1 = time <= 260
pos = 34,0

[State 4202, 2.4]
type = TargetBind
trigger1 = time = 261
pos = 59,-76

[State 4202, 3.1]
type = Explod
trigger1 = Time = 10
anim = f3
pos = 50,-64
ontop = 1
ownpal = 1

[State 4202, 3.2]
type = Explod
trigger1 = Time = 16
anim = f3
pos = 62,-63
ontop = 1
ownpal = 1

[State 4202, 3.3]
type = Explod
trigger1 = Time = 32
trigger2 = Time = 50
trigger3 = Time = 62
trigger4 = Time = 72
trigger5 = Time = 86
anim = f12
pos = 52,-63
ontop = 1
ownpal = 1

[State 4220, 8.1]
type = targetlifeadd
trigger1 = Time = 10
trigger2 = Time = 72
value = ifelse(var(50)=1,-10,-20)
absolute = 1
kill = 0

[State 4220, 8.2]
type = targetlifeadd
trigger1 = Time = 16
trigger2 = Time = 32
trigger3 = Time = 50
trigger4 = Time = 62
trigger5 = Time = 86
trigger6 = Time = 125
trigger7 = Time = 145
trigger8 = Time = 185
trigger9 = Time = 205
value = ifelse(var(50)=1,-15,-30)
absolute = 1
kill = 0

[State 4220, 8.3]
type = targetlifeadd
trigger1 = Time = 165
value = ifelse(var(50)=1,-25,-50)
absolute = 1
kill = 0

[State 4220, 8.4]
type = targetlifeadd
trigger1 = Time = 260
value = ifelse(var(50)=1,-70,-140)
absolute = 1

[State 4202, 3.4]
type = Explod
trigger1 = Time = 113
anim = 8200
pos = 30,-76
sprpriority = 2
ownpal = 1

[State 4202, 3.5]
type = Explod
trigger1 = Time = 255
trigger2 = Time = 256
trigger3 = Time = 257
anim = 8910
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.6]
type = Explod
trigger1 = Time = 255
trigger2 = Time = 256
trigger3 = Time = 257
anim = 8911
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.7]
type = Explod
trigger1 = Time = 255
trigger2 = Time = 256
trigger3 = Time = 257
anim = 8910
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.8]
type = Explod
trigger1 = Time = 255
trigger2 = Time = 256
trigger3 = Time = 257
anim = 8911
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.9]
type = Explod
trigger1 = Time = 255
trigger2 = Time = 256
trigger3 = Time = 257
anim = 8910
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.10]
type = Explod
trigger1 = Time = 255
trigger2 = Time = 256
trigger3 = Time = 257
anim = 8911
pos = 0,-80
random = 80,100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.11]
type = Explod
trigger1 = Time = 125
trigger2 = Time = 145
trigger3 = Time = 165
trigger4 = Time = 185
trigger5 = Time = 205
trigger6 = Time = 225
anim = 8910
pos = 25,-70
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.12]
type = Explod
trigger1 = Time = 125
trigger2 = Time = 145
trigger3 = Time = 165
trigger4 = Time = 185
trigger5 = Time = 205
trigger6 = Time = 225
anim = 8911
pos = 0,-100
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.13]
type = Explod
trigger1 = Time = 125
trigger2 = Time = 145
trigger3 = Time = 165
trigger4 = Time = 185
trigger5 = Time = 205
trigger6 = Time = 225
anim = 8910
pos = 30,-60
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.14]
type = Explod
trigger1 = Time = 125
trigger2 = Time = 145
trigger3 = Time = 165
trigger4 = Time = 185
trigger5 = Time = 205
trigger6 = Time = 225
anim = 8911
pos = -5,-40
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.15]
type = Explod
trigger1 = Time = 125
trigger2 = Time = 145
trigger3 = Time = 165
trigger4 = Time = 185
trigger5 = Time = 205
trigger6 = Time = 225
anim = 8910
pos = 15,-55
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.16]
type = Explod
trigger1 = Time = 125
trigger2 = Time = 145
trigger3 = Time = 165
trigger4 = Time = 185
trigger5 = Time = 205
trigger6 = Time = 225
anim = 8911
pos = -20,-80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.17]
type = Explod
trigger1 = Time = 125
trigger2 = Time = 145
trigger3 = Time = 165
trigger4 = Time = 185
trigger5 = Time = 205
trigger6 = Time = 225
anim = 8910
pos = -20,-55
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.18]
type = Explod
trigger1 = Time = 135
trigger2 = Time = 155
trigger3 = Time = 175
trigger4 = Time = 195
trigger5 = Time = 215
trigger6 = Time = 235
anim = 8910
pos = 10,-65
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.19]
type = Explod
trigger1 = Time = 135
trigger2 = Time = 155
trigger3 = Time = 175
trigger4 = Time = 195
trigger5 = Time = 215
trigger6 = Time = 235
anim = 8910
pos = -10,-45
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 3.20]
type = Explod
trigger1 = Time = 135
trigger2 = Time = 155
trigger3 = Time = 175
trigger4 = Time = 195
trigger5 = Time = 215
trigger6 = Time = 235
anim = 8910
pos = 0,-55
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 4202, 4]
type = Width
trigger1 = time <= 260
edge = 60,10

[State 4202, 5.1]
type = sprpriority
trigger1 = time <= 112
value = 2

[State 4202, 5.2]
type = sprpriority
trigger1 = time >= 113
value = 3

[State 4202, 6]
type = hitadd
trigger1 = Time = 10
trigger2 = Time = 16
trigger3 = Time = 32
trigger4 = Time = 50
trigger5 = Time = 62
trigger6 = Time = 72
trigger7 = Time = 86
value = 1

[State 4202, 7]
type = varset
trigger1 = time = 260
var(17) = 60

[State 4202, 8.1]
type = Playsnd
trigger1 = Time = 10
trigger2 = Time = 16
trigger3 = Time = 32
trigger4 = Time = 50
trigger5 = Time = 62
trigger6 = Time = 72
trigger7 = Time = 86
value = var(1),31
volume = 0

[State 4202, 8.2]
type = VarRandom
trigger1 = 1
v = 1
range = 1

[State 4202, 8.3]
type = Playsnd
trigger1 = Time = 26
value = 1,52
volume = 0

[State 4202, 8.4]
type = Playsnd
trigger1 = Time = 255
value = 0,43
volume = 0

[State 4202, 8.5]
type = Stopsnd
trigger1 = time = 0
channel = 20

[State 4202, 8.6]
type = Playsnd
trigger1 = Time = 113
value = 0,36
volume = -80

[State 4202, 8.7]
type = Playsnd
trigger1 = Time = 125
trigger2 = Time = 145
trigger3 = Time = 165
trigger4 = Time = 185
trigger5 = Time = 205
trigger6 = Time = 225
value = 0,34
volume = 0

[State 4202, 9]
type = Changestate
trigger1 = animtime = 0
trigger2 = time <= 261
trigger2 = p2stateno != 4220
value = 0
ctrl = 1

;-----------------------------------------------------
; Hit by Forbidden Style No. 1211 : Eight Maidens(max)
[Statedef 4220]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4220, 1.1]
type = changeanim2
trigger1 = time = 0
value = 4220

[State 4220, 1.2]
type = changestate
trigger1 = p2stateno != 4202
trigger1 = time < 5
value = 3221

[State 4220, 2.1]
type = velset
trigger1 = time = 261
x = -4
y = -7

[State 4220, 2.2];gravity
type = veladd
trigger1 = time >= 261
y = .5

[State 4220, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 4220, 4]
type = Width
trigger1 = time <= 260
value = -30,-30

[State 4220, 5]
type = PalFX
trigger1 = time = 260
time = 40
sinadd = 20,5,20,16
add = 36,10,140

[State 4220, 6.1];shaking effect
type = Envshake
trigger1 = Time = 125
trigger2 = Time = 145
trigger3 = Time = 165
trigger4 = Time = 185
trigger5 = Time = 205
trigger6 = Time = 225
time = 15
freq = 80
ampl = -7

[State 4220, 6.2];shaking effect
type = Envshake
trigger1 = time = 255
time = 20
freq = 70
ampl = -9

[State 4220, 7];short flash
type = Envcolor
trigger1 = time = 0
trigger2 = Time = 10
trigger3 = Time = 16
trigger4 = Time = 32
trigger5 = Time = 50
trigger6 = Time = 62
trigger7 = Time = 72
trigger8 = Time = 86
trigger9 = Time = 125
trigger10 = Time = 145
trigger11 = Time = 165
trigger12 = Time = 185
trigger13 = Time = 205
trigger14 = Time = 225
value = 248,248,248
time = 2
under = 1

[State 4220, 9]
type = selfstate
trigger1 = time > 262
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 5100

;---------------------------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb(light)
[Statedef 3300]
type    = S
physics = N
movetype= A
anim = 3300
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1
poweradd = -1000

[State 4200, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno >= 1000
flag = nojugglecheck

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(50) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(50) = 1

[State 3000, 19]
type = Helper
triggerall = prevstateno >= 1000
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3300, 1.1]
type = SuperPause
trigger1 = Time = 1
trigger1 = var(10) = 0
anim = -1
time = 30

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f100
pos = 13,-81
postype = p1
supermove = 1
bindtime = 30
sprpriority = 3
ownpal = 1

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f101
pos = 13,-81
postype = p1
supermove = 1
bindtime = 30
sprpriority = -1
ownpal = 1

[State 3300, 1.3];chime snd
type = playsnd
trigger1 = Time = 1
value = f20,0

[State 3300, 2.1]
type = Playsnd
trigger1 = Animelem = 2
value = 0,58
volume = 0
channel = 0

[State 3300, 2.2]
type = Playsnd
trigger1 = Animelem = 9
value = 0,41
volume = -80

[State 3300, 3.1]
type = Posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
trigger5 = animelem = 9
x = 15

[State 3300, 3.2]
type = Velset
trigger1 = animelem = 7
y = -3.4
x = 4.5

[State 3300, 3.3]
type = gravity
trigger1 = time >= 15

[State 3300, 4]
type = Statetypeset
trigger1 = animelem = 7
value = A

[State 3300, NotHitBy]
type = NotHitBy
trigger1 = time = [14,21]
value = SCA

[State 3300, 5]
type = Hitdef
trigger1 = animelem = 9
attr = S, HA
hitflag = MAF
guardflag = H
animtype = Hard
air.animtype = back
priority = 4,Hit
damage = 20, 30
pausetime = 2, 2
guard.pausetime = 2, 2
sparkno = 3
guard.sparkno = 42
sparkxy = 0, -95
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -6.5
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
givepower = 50, 100
hitonce = 1
persistent = 0
p2facing = 1
ID = 3300

[State 3300, 6]
type = Explod
trigger1 = animelem = 9
anim = 1305
pos = 30, -142
ontop = 1
ownpal = 1

[State 3300, 7.1]
type = Nothitby
trigger1 = time <= 3
value = SCA

[State 3300, 7.2]
type = Hitby
trigger1 = time >= 22
value = SCA, NP,SP,HP

[State 3300, 8.1]
type = targetstate
trigger1 = movehit
value = 3320
persistent = 0

[State 3300, 8.2]
type = changestate
trigger1 = movehit
value = 3302
persistent = 0

[State 3300, 9]
type = ChangeState
trigger1 = pos y >= 15
trigger1 = vel y > 0
trigger1 = time > 17
value = 3301

;-----------------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb(light) - reach ground
[Statedef 3301]
type    = S
physics = S
movetype= I
anim = 3301
ctrl = 0
velset = 0,0

[State 3301, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 3301, 2.1]
type = Posset
trigger1 = time = 0
y = 0

[State 3301, 2.2]
type = Posadd
trigger1 = animelem = 2
x = 15

[State 3301, 2.3]
type = Posadd
trigger1 = animelem = 3
x = 13

[State 3301, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb(heavy)
[Statedef 3350]
type    = S
physics = N
movetype= A
anim = 3350
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1
poweradd = -1000

[State 4200, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno >= 1000
flag = nojugglecheck

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(50) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(50) = 1

[State 3000, 19]
type = Helper
triggerall = prevstateno >= 1000
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3350, 1.1]
type = SuperPause
trigger1 = Time = 2
trigger1 = var(10) = 0
anim = -1
time = 30

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f100
pos = 13,-81
postype = p1
supermove = 1
bindtime = 30
sprpriority = 3
ownpal = 1

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f101
pos = 13,-81
postype = p1
supermove = 1
bindtime = 30
sprpriority = -1
ownpal = 1

[State 3350, 1.3];chime snd
type = playsnd
trigger1 = Time = 2
value = f20,0

[State 3350, 2.1]
type = Playsnd
trigger1 = Animelem = 2
value = 0,58
volume = 0
channel = 0

[State 3350, 2.2]
type = Playsnd
trigger1 = Animelem = 10
value = 0,41
volume = -80

[State 3350, 3.1]
type = Posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
trigger5 = animelem = 10
x = 15

[State 3350, 3.2]
type = Velset
trigger1 = animelem = 7
y = -6
x = 5

[State 3350, 3.3]
type = gravity
trigger1 = time >= 17

[State 3350, 4]
type = Statetypeset
trigger1 = animelem = 7
value = A

[State 3350, NotHitBy]
type = NotHitBy
trigger1 = time = [13,28]
value = SCA

[State 3350, 5]
type = Hitdef
trigger1 = animelem = 10
attr = S, HA
hitflag = MAF
guardflag = H
animtype = Hard
air.animtype = back
priority = 4,Hit
damage = 20,30
pausetime = 2, 2
guard.pausetime = 2, 2
sparkno = 3
guard.sparkno = 42
sparkxy = 0, -45
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -6.5
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
givepower = 50, 100
hitonce = 1
persistent = 0
p2facing = 1
ID = 3300

[State 3350, 6]
type = Explod
trigger1 = animelem = 10
anim = 1305
pos = 30, -142
ontop = 1
ownpal = 1

[State 3350, 7.1]
type = Nothitby
trigger1 = time <= 4
value = SCA

[State 3350, 7.2]
type = Hitby
trigger1 = time >= 28
value = SCA, NP,SP,HP

[State 3350, 8.1]
type = targetstate
trigger1 = movehit
value = 3320
persistent = 0

[State 3350, 8.2]
type = changestate
trigger1 = movehit
value = 3302
persistent = 0

[State 3350, 9]
type = ChangeState
trigger1 = pos y >= 15
trigger1 = vel y > 0
trigger1 = time > 19
value = 3351

;-----------------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb(heavy) - reach ground
[Statedef 3351]
type    = S
physics = S
movetype= I
anim = 3351
ctrl = 0
velset = 0,0

[State 3351, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 3351, 2.1]
type = Posset
trigger1 = time = 0
y = 0

[State 3351, 2.2]
type = Posadd
trigger1 = animelem = 2
x = 15

[State 3351, 2.3]
type = Posadd
trigger1 = animelem = 3
x = 13

[State 3351, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb - succeed
[Statedef 3302]
type    = S
physics = N
movetype= A
anim = 3302
ctrl = 0
velset = 0,0

[State 3302, 1]
type = width
trigger1 = 1
edge = 80,10

[State 3302, 2.1]
type = sprpriority
trigger1 = time = 0
trigger2 = time >= 4
trigger2 = time <= 40
value = 2

[State 3302, 2.2]
type = sprpriority
trigger1 = time >= 1
trigger1 = time <= 3
trigger2 = time >= 41
value = 1

[State 3302, 3.1]
type = targetbind
trigger1 = time = 0
pos = 70,0

[State 3302, 3.2]
type = targetbind
trigger1 = time >= 1
trigger1 = time <= 3
pos = 85,-39

[State 3302, 3.3]
type = targetbind
trigger1 = time >= 4
trigger1 = time <= 6
pos = 66,-13

[State 3302, 3.4]
type = targetbind
trigger1 = time >= 7
trigger1 = time <= 16
pos = 40,-5

[State 3302, 3.5]
type = targetbind
trigger1 = time >= 17
trigger1 = time <= 30
pos = 45,-7

[State 3302, 3.6]
type = targetbind
trigger1 = time >= 31
trigger1 = time <= 35
pos = 21,-7

[State 3302, 3.7]
type = targetbind
trigger1 = time >= 36
trigger1 = time <= 40
pos = 17,-4

[State 3302, 3.8]
type = targetbind
trigger1 = time >= 41
trigger1 = time <= 45
pos = 27,0

[State 3302, 3.9]
type = targetbind
trigger1 = time >= 46
trigger1 = time <= 49
pos = 39,-53

[State 3302, 3.10]
type = targetbind
trigger1 = time >= 50
pos = 56,-80

[State 3302, 4.1]
type = posset
trigger1 = time = 0
y = 0

[State 3302, 4.2]
type = posadd
trigger1 = animelem = 4
x = 20

[State 3302, 5];smash ground wave
type = Explod
trigger1 = time = 17
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 3302, 6]
type = playsnd
trigger1 = time = 17
value = 0,39
volume = 0

[State 3302, 7.1]
type = ChangeState
trigger1 = animtime = 0
value = 3303

[State 3302, 7.2]
type = ChangeState
trigger1 = time < 45
trigger1 = p2stateno != 3320
value = 0
ctrl = 1

;----------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb - leave ground
[Statedef 3303]
type    = A
physics = N
movetype= A
anim = 3303
ctrl = 0
velset = 0,-7.5

[State 3303, 1]
type = width
trigger1 = time <= 12
edge = 40,40

[State 3303, 2.1]
type = sprpriority
trigger1 = time >= 3
trigger1 = time <= 6
value = 2

[State 3303, 2.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 2
trigger2 = time >= 7
value = 1

[State 3303, 3.1]
type = targetbind
trigger1 = time = 0
pos = 33,-109

[State 3303, 3.2]
type = targetbind
trigger1 = time >= 1
trigger1 = time <= 2
pos = 29,-106

[State 3303, 3.3]
type = targetbind
trigger1 = time >= 3
trigger1 = time <= 4
pos = 25,-103

[State 3303, 3.4]
type = targetbind
trigger1 = time = 5
pos = 3,-109

[State 3303, 3.5]
type = targetbind
trigger1 = time = 6
pos = -9,-94

[State 3303, 3.6]
type = targetbind
trigger1 = time = 7
pos = 6,-97

[State 3303, 3.7]
type = targetbind
trigger1 = time = 8
pos = 34,-98

[State 3303, 3.8]
type = targetbind
trigger1 = time = 9
pos = 44,-128

[State 3303, 4.1]
type = Explod
trigger1 = animelem = 8, = 1
anim = 1150
vel = 0,-.5
pos = 49, -111
ontop = 1
ownpal = 1

[State 3303, 4.2]
type = Explod
trigger1 = animelem = 17, = 1
anim = 8914
vel = -1,0
pos = 80, -87
sprpriority = 3
ownpal = 1

[State 3303, 5]
type = Hitdef
trigger1 = animelem = 9, = 1
trigger2 = animelem = 11, = 1
trigger3 = animelem = 15, = 1
trigger4 = animelem = 17, = 3
attr = A, HA
hitflag = AF
air.animtype = Dragup
fall.animtype = DragUp
priority = 4,Hit
pausetime = 0, 2
sparkno = 3
sparkxy = 10, -114
hitsound = S0, 34
air.type = Low
air.hittime = 0
air.velocity = -3, -5
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
givepower = 25
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.recover = 0
ID = 3300
ChainID = 3300

[State 3303, 6]
type = targetbind
trigger1 = movehit
pos = 43,-37
persistent = 0

[State 3303, 7.1]
type = varset
trigger1 = time = 0
var(1) = 0
ignorehitpause = 1

[State 3303, 7.2]
type = varadd
trigger1 = movehit
var(1) = 1
ignorehitpause = 1
persistent = 3

[State 3303, 7.3]
type = varset
trigger1 = movehit
var(16) = 80
ignorehitpause = 1

[State 3303, 8.1]
type = Targetlifeadd
trigger1 = var(1) = 1
value = ifelse(var(50)=1,-60,-60)
kill = 0
absolute = 1
persistent = 0
ignorehitpause = 1

[State 3303, 8.2]
type = Targetlifeadd
trigger1 = var(1) = 2
value = ifelse(var(50)=1,-20,-20)
kill = 0
absolute = 1
persistent = 0
ignorehitpause = 1

[State 3303, 8.3]
type = Targetlifeadd
trigger1 = var(1) = 3
value = ifelse(var(50)=1,-20,-20)
kill = 0
absolute = 1
persistent = 0
ignorehitpause = 1

[State 3303, 8.4]
type = Targetlifeadd
trigger1 = var(1) = 4
value = ifelse(var(50)=1,-20,-20)
absolute = 1
persistent = 0
ignorehitpause = 1

[State 3303, 9.1]
type = Explod
trigger1 = movehit
anim = 8910
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3303, 9.2]
type = Explod
trigger1 = movehit
anim = 8911
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3303, 9.3]
type = Explod
trigger1 = movehit
anim = 8912
pos = -20,-80
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3303, 10];short flash
type = Envcolor
trigger1 = movehit
trigger1 = time <= 29
value = 248,248,248
time = 2
under = 1
ignorehitpause = 1
persistent = 3

[State 3303, 11]
type = movehitreset
trigger1 = animelem = 10
trigger2 = animelem = 12
trigger3 = animelem = 16
trigger4 = animelem = 21
ignorehitpause = 1

[State 3303, 12.1]
type = veladd
trigger1 = vel y <= -1
trigger2 = time >= 46
y = .5

[State 3303, 12.2]
type = posadd
trigger1 = animelem = 1
x = 10

[State 3303, 13.1]
type = playsnd
trigger1 = animelem = 1
value = 1,58
volume = 0
channel = 0

[State 3303, 13.2]
type = Playsnd
trigger1 = var(1) = 4
value = 0,59
volume = 0
persistent = 0

[State 3303, 14]
type = ChangeState
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 3304

;----------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb - reach ground
[Statedef 3304]
type    = S
physics = N
movetype= I
anim = 3304
ctrl = 0
velset = 0,0

[State 3304, 1]
type = posset
trigger1 = time = 0
y = 0

[State 3304, 2]
type = playsnd
trigger1 = time = 0
value = 0,2
volume = -80

[State 3304, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------
; Hit by Reversed Style No. 311 : Tearing Claw Comb
[Statedef 3320]
type    = S
physics = N
movetype= H
ctrl = 0

[State 3320, 1.1]
type = changestate
trigger1 = p2stateno != 3302
trigger1 = time < 5
value = 3221

[State 3320, 1.2]
type = Changeanim2
trigger1 = time = 0
value = 3320

[State 3320, 1.31]
type = Changeanim
trigger1 = SelfAnimExist(5111)
trigger1 = time = 41
value = 5111

[State 3320, 1.32]
type = Changeanim2
trigger1 = !SelfAnimExist(5111)
trigger1 = time = 41
value = 3321

[State 3320, 2.1]
type = sprpriority
trigger1 = time = 0
trigger2 = time >= 4
trigger2 = time <= 40
value = 1

[State 3320, 2.2]
type = sprpriority
trigger1 = time >= 1
trigger1 = time <= 3
trigger2 = time >= 41
value = 2

[State 3320, 3]
type = width
trigger1 = 1
value = -30,-30

[State 3320, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 3320, 5]
type = lifeadd
trigger1 = time = 18
value = -150
kill = 0
absolute = 1

[State 3320, 6];shaking effect
type = Envshake
trigger1 = time = 12
time = 20
freq = 70
ampl = -8
g
[State 3320, 7]
type = Changestate
trigger1 = time = 46
value = 3322

;----------------------------------------------------------------
; Hit by Reversed Style No. 311 : Tearing Claw Comb - been attack
[Statedef 3322]
type    = A
physics = N
movetype= H
ctrl = 0

[State 3322, 1]
type = Changeanim2
trigger1 = time = 0
value = 3322

[State 3322, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 3322, 3]
type = width
trigger1 = 1
value = -30,-30

[State 3322, 4]
type = Changestate
trigger1 = time = 9
value = 3323

;------------------------------------------------------------------
; Hit by Reversed Style No. 311 : Tearing Claw Comb - been attack 2
[Statedef 3323]
type    = A
physics = N
movetype= H
ctrl = 0

[State 3323, 1]
type = Changeanim2
trigger1 = time = 0
value = 3323

[State 3323, 2.1]
type = sprpriority
trigger1 = time >= 3
trigger1 = time <= 6
value = 1

[State 3323, 2.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 2
trigger2 = time >= 7
value = 2

[State 3323, 3]
type = width
trigger1 = 1
value = -30,-30

[State 3323, 4]
type = hitby
trigger1 = 1
value = A, HA

[State 3323, 5.1]
type = posadd
trigger1 = animtime = 0
y = 100

[State 3323, 5.2]
type = velset
trigger1 = animtime = 0
x = -3

[State 3323, 5.3]
type = turn
trigger1 = animelem = 8
trigger2 = animtime = 0

[State 3323, 5.4]
type = selfstate
trigger1 = animtime = 0
value = 5040

;---------------------------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb(max)
[Statedef 4300]
type    = S
physics = N
movetype= A
anim = 4300
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1
poweradd = -2000

[State 4200, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno >= 1000
flag = nojugglecheck

[State 3000, 19]
type = Helper
triggerall = prevstateno = [1000,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3500, 9]
type = Helper
triggerall = prevstateno >= 3000
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 3700
stateno = 3700
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 4300, 1.1]
type = SuperPause
trigger1 = Time = 2
trigger1 = var(10) = 0
anim = -1
time = 30

[State 4300, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f102
pos = 13,-81
postype = p1
supermove = 1
bindtime = 30
sprpriority = 3
ownpal = 1

[State 4300, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 2
anim = f103
pos = 13,-81
postype = p1
supermove = 1
bindtime = 30
sprpriority = -1
ownpal = 1

[State 4300, 1.3];chime snd
type = playsnd
trigger1 = Time = 2
value = f20,1

[State 4300, 2.1]
type = Playsnd
trigger1 = Animelem = 2
value = 0,58
volume = 0
channel = 0

[State 4300, 2.2]
type = Playsnd
trigger1 = Animelem = 10
value = 0,41
volume = -80

[State 4300, 3.1]
type = Posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
trigger5 = animelem = 11
x = 15

[State 4300, 3.2]
type = Velset
trigger1 = animelem = 7
y = -6
x = 5

[State 4300, 3.3]
type = gravity
trigger1 = time >= 17

[State 4300, 4]
type = Statetypeset
trigger1 = animelem = 7
value = A

[State 3300, NotHitBy]
type = NotHitBy
trigger1 = time = [18,28]
value = SCA

[State 4300, 5]
type = Hitdef
trigger1 = animelem = 11
attr = S, HA
hitflag = MAF
guardflag = H
animtype = Hard
air.animtype = back
priority = 4,Hit
damage = 20, 50
pausetime = 2, 2
guard.pausetime = 2, 2
sparkno = 3
guard.sparkno = 42
sparkxy = 0, -95
hitsound = 5,2
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -6.5
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
givepower = 50, 100
hitonce = 1
persistent = 0
p2facing = 1
ID = 4300

[State 4300, 6]
type = Explod
trigger1 = animelem = 11
anim = 1305
pos = 30, -142
ontop = 1
ownpal = 1

[State 4300, 7.1]
type = Nothitby
trigger1 = time <= 4
value = SCA

[State 4300, 7.2]
type = Hitby
trigger1 = time >= 28
value = SCA, NP,SP,HP

[State 4300, 8.1]
type = targetstate
trigger1 = movehit
value = 4320
persistent = 0

[State 4300, 8.2]
type = changestate
trigger1 = movehit
value = 4302
persistent = 0

[State 4300, 9]
type = ChangeState
trigger1 = pos y >= 15
trigger1 = vel y > 0
trigger1 = time > 19
value = 4351

;---------------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb(max) - reach ground
[Statedef 4351]
type    = S
physics = S
movetype= I
anim = 3351
ctrl = 0
velset = 0,0

[State 4351, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 4351, 2.1]
type = Posset
trigger1 = time = 0
y = 0

[State 4351, 2.2]
type = Posadd
trigger1 = animelem = 2
x = 15

[State 4351, 2.3]
type = Posadd
trigger1 = animelem = 3
x = 13

[State 4351, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb(max) - succeed
[Statedef 4302]
type    = S
physics = N
movetype= A
anim = 4302
ctrl = 0
velset = 0,0

[State 4302, 1]
type = width
trigger1 = 1
edge = 80,10

[State 4302, 2.1]
type = sprpriority
trigger1 = time = 0
trigger2 = time >= 4
trigger2 = time <= 55
value = 2

[State 4302, 2.2]
type = sprpriority
trigger1 = time >= 1
trigger1 = time <= 3
trigger2 = time >= 56
value = 1

[State 4302, 3.1]
type = targetbind
trigger1 = time = 0
pos = 70,0

[State 4302, 3.2]
type = targetbind
trigger1 = time >= 1
trigger1 = time <= 3
pos = 85,-39

[State 4302, 3.3]
type = targetbind
trigger1 = time >= 4
trigger1 = time <= 6
pos = 66,-13

[State 4302, 3.4]
type = targetbind
trigger1 = time >= 7
trigger1 = time <= 16
pos = 40,-5

[State 4302, 3.5]
type = targetbind
trigger1 = time >= 17
trigger1 = time <= 40
pos = 45,-7

[State 4302, 3.6]
type = targetbind
trigger1 = time >= 41
trigger1 = time <= 48
pos = 21,-7

[State 4302, 3.7]
type = targetbind
trigger1 = time >= 49
trigger1 = time <= 55
pos = 17,-4

[State 4302, 3.8]
type = targetbind
trigger1 = time >= 56
trigger1 = time <= 62
pos = 27,0

[State 4302, 3.9]
type = targetbind
trigger1 = time >= 63
trigger1 = time <= 67
pos = 39,-53

[State 4302, 3.10]
type = targetbind
trigger1 = time >= 68
pos = 56,-80

[State 4302, 4.1]
type = posset
trigger1 = time = 0
y = 0

[State 4302, 4.2]
type = posadd
trigger1 = animelem = 4
x = 20

[State 4302, 5];smash ground wave
type = Explod
trigger1 = time = 17
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 4302, 6]
type = playsnd
trigger1 = time = 17
value = 0,39
volume = 0

[State 4302, 7.1]
type = ChangeState
trigger1 = animtime = 0
value = 4303

[State 4302, 7.2]
type = ChangeState
trigger1 = time < 62
trigger1 = p2stateno != 4320
value = 0
ctrl = 1

;---------------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb(max) - leave ground
[Statedef 4303]
type    = A
physics = N
movetype= A
anim = 4303
ctrl = 0
velset = 0,-7.5

[State 4303, 1]
type = width
trigger1 = time <= 12
edge = 40,40

[State 4303, 2.1]
type = sprpriority
trigger1 = time >= 3
trigger1 = time <= 6
value = 2

[State 4303, 2.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 2
trigger2 = time >= 7
value = 1

[State 4303, 3.1]
type = targetbind
trigger1 = time = 0
pos = 33,-109

[State 4303, 3.2]
type = targetbind
trigger1 = time >= 1
trigger1 = time <= 2
pos = 29,-106

[State 4303, 3.3]
type = targetbind
trigger1 = time >= 3
trigger1 = time <= 4
pos = 25,-103

[State 4303, 3.4]
type = targetbind
trigger1 = time = 5
pos = 3,-109

[State 4303, 3.5]
type = targetbind
trigger1 = time = 6
pos = -9,-94

[State 4303, 3.6]
type = targetbind
trigger1 = time = 7
pos = 6,-97

[State 4303, 3.7]
type = targetbind
trigger1 = time = 8
pos = 34,-98

[State 4303, 3.8]
type = targetbind
trigger1 = time = 9
pos = 44,-128

[State 4303, 4.1]
type = Explod
trigger1 = animelem = 8, = 1
anim = 1150
vel = 0,-.5
pos = 49, -111
ontop = 1
ownpal = 1

[State 4303, 4.2]
type = Explod
trigger1 = animelem = 23, = 3
anim = 8914
vel = -1,0
pos = 80, -87
sprpriority = 3
ownpal = 1

[State 4303, 5.1]
type = Hitdef
trigger1 = animelem = 10, = 1
trigger2 = animelem = 13
trigger3 = animelem = 15
trigger4 = animelem = 17
trigger5 = frontedgedist <= 100
trigger5 = animelem = 19
trigger6 = frontedgedist <= 90
trigger6 = animelem = 21
trigger7 = frontedgedist <= 80
trigger7 = animelem = 23
attr = A, HA
hitflag = AF
air.animtype = Dragup
fall.animtype = DragUp
priority = 4,Hit
pausetime = 0, 2
sparkno = 3
sparkxy = 10, -114
hitsound = S0, 34
air.type = Low
air.hittime = 0
air.velocity = -4, -6
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
givepower = 25
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.recover = 0
ID = 4300
ChainID = 4300

[State 4303, 5.2]
type = Hitdef
trigger1 = frontedgedist <= 80
trigger1 = animelem = 24, = 3
attr = A, HA
hitflag = AF
air.animtype = Dragup
fall.animtype = DragUp
priority = 4,Hit
pausetime = 3, 3
sparkno = 3
sparkxy = 10, -114
air.type = Low
air.hittime = 0
air.velocity = -3, -5
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
givepower = 25
palfx.time = 50
palfx.sinadd = 20,5,20,16
palfx.add = 36,10,140
fall = 1
fall.recover = 0
ID = 4300
ChainID = 4300
numhits = 0

[State 4303, 6]
type = targetbind
trigger1 = movehit
pos = 43,-37
persistent = 0

[State 4303, 7.1]
type = varset
trigger1 = time = 0
var(1) = 0
ignorehitpause = 1

[State 4303, 7.2]
type = varadd
trigger1 = movehit
var(1) = 1
ignorehitpause = 1
persistent = 3

[State 4303, 7.3]
type = varset
trigger1 = movehit
var(16) = 80
ignorehitpause = 1

[State 4303, 8.1]
type = Targetlifeadd
trigger1 = var(1) = 1
value = -120
kill = 0
absolute = 1
persistent = 0
ignorehitpause = 1

[State 4303, 8.2]
type = Targetlifeadd
trigger1 = var(1) = 2
value = -60
kill = 0
absolute = 1
persistent = 0
ignorehitpause = 1

[State 4303, 8.3]
type = Targetlifeadd
trigger1 = var(1) = 3
value = -30
kill = 0
absolute = 1
persistent = 0
ignorehitpause = 1

[State 4303, 8.4]
type = Targetlifeadd
triggerall = movehit
trigger1 = var(1) = 4
trigger2 = var(1) = 5
trigger3 = var(1) = 6
trigger4 = var(1) = 7
value = -20
absolute = 1
persistent = 3
ignorehitpause = 1

[State 4303, 9.1]
type = Explod
trigger1 = movehit
anim = 8910
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 4303, 9.2]
type = Explod
trigger1 = movehit
anim = 8911
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 4303, 9.3]
type = Explod
trigger1 = movehit
anim = 8912
pos = -20,-80
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 4303, 10];short flash
type = Envcolor
trigger1 = movehit
trigger1 = time <= 36
value = 248,248,248
time = 2
under = 1
ignorehitpause = 1
persistent = 3

[State 4303, 11.1]
type = playsnd
trigger1 = animelem = 1
value = 1,58
volume = 0
channel = 0

[State 4303, 11.2]
type = Playsnd
triggerall = time <= 36
triggerall = movehit
trigger1 = var(1) = 4
trigger2 = var(1) = 5
trigger3 = var(1) = 6
trigger4 = var(1) = 7
value = 0,59
volume = 0
channel = 15
persistent = 3

[State 4303, 12]
type = movehitreset
trigger1 = animelem = 11
trigger2 = animelem = 14
trigger3 = animelem = 16
trigger4 = animelem = 18
trigger5 = animelem = 20
trigger6 = animelem = 22
trigger7 = animelem = 24
trigger8 = animelem = 25
ignorehitpause = 1

[State 4303, 13.1]
type = veladd
trigger1 = vel y <= -2
y = .5

[State 4303, 13.2]
type = veladd
trigger1 = time >= 38
y = .56

[State 4303, 13.3]
type = posadd
trigger1 = animelem = 1
x = 10

[State 4303, 14];pausing effect!
type = Pause
trigger1 = (time%2) = 0
trigger1 = time <= 50
trigger1 = var(1) = 8
time = 1

[State 4303, 15]
type = ChangeState
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 4304

;---------------------------------------------------------------
; Reversed Style No. 311 : Tearing Claw Comb(max) - reach ground
[Statedef 4304]
type    = S
physics = N
movetype= I
anim = 4304
ctrl = 0
velset = 0,0

[State 4304, 1]
type = posset
trigger1 = time = 0
y = 0

[State 4304, 2]
type = playsnd
trigger1 = time = 0
value = 0,2
volume = -80

[State 4304, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------
; Hit by Reversed Style No. 311 : Tearing Claw Comb(max)
[Statedef 4320]
type    = S
physics = N
movetype= H
ctrl = 0

[State 4320, 1.1]
type = changestate
trigger1 = p2stateno != 4302
trigger1 = time < 5
value = 3221

[State 4320, 1.2]
type = Changeanim2
trigger1 = time = 0
value = 4320

[State 4320, 1.31]
type = Changeanim
trigger1 = SelfAnimExist(5111)
trigger1 = time = 56
value = 5111

[State 4320, 1.32]
type = Changeanim2
trigger1 = !SelfAnimExist(5111)
trigger1 = time = 56
value = 4321

[State 4320, 2.1]
type = sprpriority
trigger1 = time = 0
trigger2 = time >= 4
trigger2 = time <= 55
value = 1

[State 4320, 2.2]
type = sprpriority
trigger1 = time >= 1
trigger1 = time <= 3
trigger2 = time >= 56
value = 2

[State 4320, 3]
type = width
trigger1 = 1
value = -30,-30

[State 4320, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 4320, 5]
type = lifeadd
trigger1 = time = 18
value = -180
kill = 0
absolute = 1

[State 4320, 6];shaking effect
type = Envshake
trigger1 = time = 12
time = 20
freq = 70
ampl = -8

[State 4320, 7]
type = Changestate
trigger1 = time = 63
value = 4322

;---------------------------------------------------------------------
; Hit by Reversed Style No. 311 : Tearing Claw Comb(max) - been attack
[Statedef 4322]
type    = A
physics = N
movetype= H
ctrl = 0

[State 4322, 1]
type = Changeanim2
trigger1 = time = 0
value = 4322

[State 4322, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 4322, 3]
type = width
trigger1 = 1
value = -30,-30

[State 4322, 4]
type = Changestate
trigger1 = time = 10
value = 4323

;-----------------------------------------------------------------------
; Hit by Reversed Style No. 311 : Tearing Claw Comb(max) - been attack 2
[Statedef 4323]
type    = A
physics = N
movetype= H
ctrl = 0

[State 4323, 1]
type = Changeanim2
trigger1 = time = 0
value = 4323

[State 4323, 2.1]
type = sprpriority
trigger1 = time >= 3
trigger1 = time <= 6
value = 1

[State 4323, 2.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 2
trigger2 = time >= 7
value = 2

[State 4323, 3]
type = width
trigger1 = 1
value = -30,-30

[State 4323, 4]
type = hitby
trigger1 = 1
value = A, HA

[State 4323, 5.1]
type = posadd
trigger1 = animtime = 0
y = 100

[State 4323, 5.2]
type = velset
trigger1 = animtime = 0
x = -3

[State 4323, 5.3]
type = turn
trigger1 = animelem = 8
trigger2 = animtime = 0

[State 4323, 5.4]
type = selfstate
trigger1 = animtime = 0
value = 5040

;---------------------------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups(light)
[Statedef 3400]
type    = S
physics = N
movetype= A
anim = 3400
ctrl = 0
velset = 0,0
facep2 = 1
poweradd = -1000

[State 3000, 19]
type = Helper
triggerall = prevstateno >= 1000
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3400, 1.1]
type = SuperPause
trigger1 = Time = 1
trigger1 = var(10) = 0
anim = -1
time = 30
movetime = 30

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f100
pos = -9,-91
postype = p1
supermove = 1
bindtime = 30
sprpriority = 3
ownpal = 1

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f101
pos = -9,-91
postype = p1
supermove = 1
bindtime = 30
sprpriority = -1
ownpal = 1

[State 3400, 1.3];chime snd
type = playsnd
trigger1 = Time = 1
value = f20,0
volume = -80

[State 3400, 2]
type = Playsnd
trigger1 = Animelem = 2
value = 0,60
volume = 0
channel = 0

[State 3400, 3];purple flame
type = Explod
trigger1 = animelem = 2
id = 3006
anim = 8900
pos = -9,-90
sprpriority = 4
ownpal = 1
removetime = -1
supermove = 1

[State 3400, 4]
type = Nothitby
trigger1 = time <= 31
value = SCA

[State 3400, 5]
type = changestate
triggerall = time >= 32
trigger1 = animtime = 0
trigger2 = command != "hold_x"
value = 3401

;--------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups(light) - Let go
[Statedef 3401]
type    = S
physics = N
movetype= A
anim = 3401
ctrl = 0
juggle = 15
velset = 0,0

[State 3401, 1.1]
type = helper
trigger1 = animelem = 4, = 3
name = "Iori's flame"
ID = 3401
pos = 45, 0
postype = p1
stateno = 3402
ownpal = 1

[State 3401, 2.11];purple flame
type = Explod
trigger1 = animelem = 1
id = 8900
anim = 8900
pos = -8,-99
sprpriority = 4
ownpal = 1
removetime = -1

[State 3401, 2.12]
type = RemoveExplod
trigger1 = animelem = 2
id = 8900

[State 3401, 2.21];purple flame
type = Explod
trigger1 = animelem = 2
id = 8900
anim = 8900
pos = -9,-102
sprpriority = 4
ownpal = 1
removetime = -1

[State 3401, 2.22]
type = RemoveExplod
trigger1 = animelem = 3
id = 8900

[State 3401, 2.31];purple flame
type = Explod
trigger1 = animelem = 3
id = 8900
anim = 8900
pos = -22,-68
sprpriority = 4
ownpal = 1
removetime = -1

[State 3401, 2.32]
type = RemoveExplod
trigger1 = animelem = 4
id = 8900

[State 3401, 2.41];purple flame
type = Explod
trigger1 = animelem = 4
id = 8900
anim = 8900
pos = 35,-60
sprpriority = 4
ownpal = 1
removetime = -1

[State 3401, 2.42]
type = RemoveExplod
trigger1 = animelem = 5
id = 8900

[State 3401, 2.51];purple flame
type = Explod
trigger1 = animelem = 5
id = 8900
anim = 8900
pos = 38,-77
sprpriority = 4
ownpal = 1
removetime = -1

[State 3401, 2.52]
type = RemoveExplod
trigger1 = animelem = 6
id = 8900

[State 3401, 2.61];purple flame
type = Explod
trigger1 = animelem = 6
id = 8900
anim = 8900
pos = 33,-89
sprpriority = 4
ownpal = 1
removetime = -1

[State 3401, 2.62]
type = RemoveExplod
trigger1 = animelem = 7
id = 8900

[State 3401, 2.71]
type = Explod
trigger1 = animelem = 7
anim = 8901
pos = 30,-98
sprpriority = 4
ownpal = 1

[State 3401, 2.72]
type = RemoveExplod
trigger1 = animelem = 8
id = 8900

[State 3401, 2.8]
type = Explod
trigger1 = animelem = 4,= 1
anim = 8905
pos = 18,-42
ontop = 1
ownpal = 1

[State 3401, 3]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups(light) - Iori's flame
[Statedef 3402]
type    = S
physics = N
movetype= A
anim = 810
ctrl = 0
velset = 4,0

[State 3402, 1.1]
type = hitdef
trigger1 = p2stateno != 3420
attr = S, HP
hitflag = MA
guardflag = M
animtype = Hard
priority = 4,Hit
guard.pausetime = 0, 1
sparkno = 3
guard.sparkno = 42
sparkxy = 10, -44
hitsound = S0, 34
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.velocity = -10
air.hittime = 0
guard.ctrltime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 3
givepower = 30, 30
p2stateno = 3420
p2getp1state = 1
persistent = 0

[State 3402, 1.2];use to collide with projectiles
type = projectile
trigger1 = time = 0
ProjID = 3402
projanim = 3404;<-empty frames with collision boxes
projremovetime = 13
projpriority = 10
projsprpriority = 5
velocity = 4,0
offset = 0,0
postype = p1

[State 3402, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 3402, 3]
type = playerpush
trigger1 = 1
value = 0

[State 3402, 4]
type = helper
trigger1 = movehit
name = "ground flame"
ID = 3410
pos = 0, 0
postype = p2
stateno = 3410
ownpal = 1
persistent = 0

[State 3402, 5]
type = playsnd
trigger1 = time = 0
value = 0,33
volume = -80

[State 3402, 6]
type = changestate
trigger1 = time >= 13
trigger2 = movecontact
value = 3403
ignorehitpause = 1

;---------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups - Iori's flame 2
[Statedef 3403]
type    = S
physics = N
movetype= A
anim = 3403
ctrl = 0
velset = 0,0

[State 3403, 1]
type = Explod
trigger1 = time = 0
anim = 3402
pos = 0,0
ontop = 1
ownpal = 1

[State 3403, 2]
type = helper
trigger1 = movehit
name = "ground flame"
ID = 3410
pos = 0, 0
postype = p2
stateno = 3410
ownpal = 1
persistent = 0

[State 3403, 3.1]
type = hitdef
trigger1 = p2stateno != 3420
attr = S, HP
hitflag = MA
guardflag = M
animtype = Hard
priority = 4,Hit
guard.pausetime = 0, 1
sparkno = 3
guard.sparkno = 42
sparkxy = 5, -38
hitsound = S0, 34
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.velocity = -10
air.hittime = 0
guard.ctrltime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 3
givepower = 30, 30
p2stateno = 3420
p2getp1state = 1
persistent = 0

[State 3403, 3.2];use to collide with projectiles
type = projectile
trigger1 = time = 0
ProjID = 3403
projanim = 3405;<-empty frames with collision boxes
projremovetime = 11
projpriority = 10
projsprpriority = 5
velocity = 0,0
offset = 0,0
postype = p1

[State 3403, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 3403, 5]
type = playerpush
trigger1 = 1
value = 0

[State 3403, 6]
type = playsnd
trigger1 = time = 0
value = 0,61
volume = -80

[State 3403, 7]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups(heavy)
[Statedef 3450]
type    = S
physics = N
movetype= A
anim = 3400
ctrl = 0
velset = 0,0
facep2 = 1
poweradd = -1000

[State 3000, 19]
type = Helper
triggerall = prevstateno >= 1000
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3450, 1.1]
type = SuperPause
trigger1 = Time = 1
trigger1 = var(10) = 0
anim = -1
time = 30
movetime = 30

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f100
pos = -9,-91
postype = p1
supermove = 1
bindtime = 30
sprpriority = 3
ownpal = 1

[State 3200, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f101
pos = -9,-91
postype = p1
supermove = 1
bindtime = 30
sprpriority = -1
ownpal = 1

[State 3450, 1.3];chime snd
type = playsnd
trigger1 = Time = 1
value = f20,0
volume = -80

[State 3450, 2]
type = Playsnd
trigger1 = Animelem = 2
value = 0,60
volume = 0
channel = 0

[State 3450, 3];purple flame
type = Explod
trigger1 = animelem = 2
id = 3006
anim = 8900
pos = -9,-90
sprpriority = 4
ownpal = 1
removetime = -1
supermove = 1

[State 3450, 4]
type = Nothitby
trigger1 = time <= 31
value = SCA

[State 3450, 5]
type = changestate
triggerall = time >= 32
trigger1 = animtime = 0
trigger2 = command != "hold_z"
value = 3451

;--------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups(heavy) - Let go
[Statedef 3451]
type    = S
physics = N
movetype= A
anim = 3401
ctrl = 0
juggle = 15
velset = 0,0

[State 3451, 1.1]
type = helper
trigger1 = animelem = 4, = 3
name = "Iori's flame"
ID = 3452
pos = 45, 0
postype = p1
stateno = 3452
ownpal = 1

[State 3451, 2.11];purple flame
type = Explod
trigger1 = animelem = 1
id = 8900
anim = 8900
pos = -8,-99
sprpriority = 4
ownpal = 1
removetime = -1

[State 3451, 2.12]
type = RemoveExplod
trigger1 = animelem = 2
id = 8900

[State 3451, 2.21];purple flame
type = Explod
trigger1 = animelem = 2
id = 8900
anim = 8900
pos = -9,-102
sprpriority = 4
ownpal = 1
removetime = -1

[State 3451, 2.22]
type = RemoveExplod
trigger1 = animelem = 3
id = 8900

[State 3451, 2.31];purple flame
type = Explod
trigger1 = animelem = 3
id = 8900
anim = 8900
pos = -22,-68
sprpriority = 4
ownpal = 1
removetime = -1

[State 3451, 2.32]
type = RemoveExplod
trigger1 = animelem = 4
id = 8900

[State 3451, 2.41];purple flame
type = Explod
trigger1 = animelem = 4
id = 8900
anim = 8900
pos = 35,-60
sprpriority = 4
ownpal = 1
removetime = -1

[State 3451, 2.42]
type = RemoveExplod
trigger1 = animelem = 5
id = 8900

[State 3451, 2.51];purple flame
type = Explod
trigger1 = animelem = 5
id = 8900
anim = 8900
pos = 38,-77
sprpriority = 4
ownpal = 1
removetime = -1

[State 3451, 2.52]
type = RemoveExplod
trigger1 = animelem = 6
id = 8900

[State 3451, 2.61];purple flame
type = Explod
trigger1 = animelem = 6
id = 8900
anim = 8900
pos = 33,-89
sprpriority = 4
ownpal = 1
removetime = -1

[State 3451, 2.62]
type = RemoveExplod
trigger1 = animelem = 7
id = 8900

[State 3451, 2.71]
type = Explod
trigger1 = animelem = 7
anim = 8901
pos = 30,-98
sprpriority = 4
ownpal = 1

[State 3451, 2.72]
type = RemoveExplod
trigger1 = animelem = 8
id = 8900

[State 3451, 2.8]
type = Explod
trigger1 = animelem = 4,= 1
anim = 8905
pos = 18,-42
ontop = 1
ownpal = 1

[State 3451, 3]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups(heavy) - Iori's flame
[Statedef 3452]
type    = S
physics = N
movetype= A
anim = 810
ctrl = 0
velset = 4,0

[State 3452, 1.1]
type = hitdef
trigger1 = p2stateno != 3420
attr = S, HP
hitflag = MA
guardflag = M
animtype = Hard
priority = 4,Hit
guard.pausetime = 0, 1
sparkno = 3
guard.sparkno = 42
sparkxy = 10, -44
hitsound = S0, 34
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.velocity = -10
air.hittime = 0
guard.ctrltime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 3
givepower = 30, 30
p2stateno = 3420
p2getp1state = 1
persistent = 0

[State 3452, 1.2];use to collide with projectiles
type = projectile
trigger1 = time = 0
ProjID = 3402
projanim = 3404;<-empty frames with collision boxes
projremovetime = 13
projpriority = 10
projsprpriority = 5
velocity = 4,0
offset = 0,0
postype = p1

[State 3452, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 3452, 3]
type = playerpush
trigger1 = 1
value = 0

[State 3452, 4]
type = helper
trigger1 = movehit
name = "ground flame"
ID = 3410
pos = 0, 0
postype = p2
stateno = 3410
ownpal = 1
persistent = 0

[State 3452, 5]
type = playsnd
trigger1 = time = 0
value = 0,33
volume = -80

[State 3452, 6]
type = changestate
trigger1 = time >= 23
trigger2 = movecontact
value = 3403
ignorehitpause = 1

;-------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups - ground flame
[Statedef 3410]
type    = S
physics = N
movetype= I
anim = 3410
ctrl = 0
velset = 0,0

[State 3410, 1]
type = Explod
trigger1 = time = 0
ID = 3410
anim = 3421
pos = 10,floor(-p2bodydist y-pos y)
postype = p2
bindtime = -1
removetime = -1
ontop = 0
ownpal = 1

[State 3410, 2]
type = Explod
trigger1 = p2stateno != 3420
anim = 3422
pos = 10,floor(-p2bodydist y-pos y)
postype = p2
ontop = 0
ownpal = 1

[State 3410, 3.1]
type = Explod
trigger1 = time = 0
anim = 8910
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3410, 3.2]
type = Explod
trigger1 = time = 0
anim = 8911
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3410, 3.3]
type = Explod
trigger1 = time = 0
anim = 8910
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3410, 3.4]
type = Explod
trigger1 = time = 0
anim = 8911
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3410, 3.5]
type = Explod
trigger1 = time = 0
anim = 8910
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3410, 3.6]
type = Explod
trigger1 = time = 0
anim = 8911
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3410, 3.7]
type = Explod
trigger1 = time = 0
anim = 8910
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3410, 3.8]
type = Explod
trigger1 = time = 0
anim = 8911
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3410, 4]
type = changestate
trigger1 = p2stateno != 3420
value = 3411
ignorehitpause = 1

;--------------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups - ground flame remove
[Statedef 3411]
type    = S
physics = N
movetype= I
anim = 3410
ctrl = 0
velset = 0,0

[State 3410, 1]
type = Removeexplod
trigger1 = time = 0
ID = 3410

[State 3411, 2]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;-----------------------------------------------
; Hit by Reverse Style No. 108 : Eight Wine Cups
[Statedef 3420]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3420, 1]
type = changeanim2
trigger1 = time = 12
value = 3420

[State 3420, 2]
type = posfreeze
trigger1 = 1

[State 3420, 3]
type = Nothitby
trigger1 = time <= 18
value = SCA

[State 3420, 4]
type = statetypeset
trigger1 = time = [0,1]
trigger1 = pos y != 0
value = A

[State 3420, 5]
type = PalFX
trigger1 = timemod = 16,0
time = 16
sinadd = 20,5,20,16
add = 36,10,140

[State 3420, 6]
type = lifeadd
trigger1 = time = 20 ;74
trigger2 = time >= 50 ;107
trigger2 = ((time-9)%33) = 0
value = -20
absolute = 1

[State 3420, 7.1];use vel instead of var to detect since controlling p2state
type = veladd
triggerall = time >= 35
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = vel x <= vel y
x = 1
persistent = 10

[State 3420, 7.2]
type = veladd
triggerall = time >= 35
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = vel y <= vel x
y = 1
persistent = 10

[State 3420, 8]
type = changestate
trigger1 = time = 372
trigger2 = life = 0
trigger3 = time >= 115
trigger3 = vel x >= 6
trigger3 = vel y >= 6
value = 3221

;---------------------------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups(max)
[Statedef 4400]
type    = S
physics = N
movetype= A
anim = 4400
ctrl = 0
velset = 0,0
facep2 = 1
poweradd = -2000

[State 3000, 19]
type = Helper
triggerall = prevstateno = [1000,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3500, 9]
type = Helper
triggerall = prevstateno >= 3000
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 3700
stateno = 3700
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 4400, 1.1]
type = SuperPause
trigger1 = Time = 1
trigger1 = var(10) = 0
anim = -1
time = 30
movetime = 30

[State 4400, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f102
pos = -9,-91
postype = p1
supermove = 1
bindtime = 30
sprpriority = 3
ownpal = 1

[State 4400, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f103
pos = -9,-91
postype = p1
supermove = 1
bindtime = 30
sprpriority = -1
ownpal = 1

[State 4400, 1.3];chime snd
type = playsnd
trigger1 = Time = 1
value = f20,1

[State 4400, 2]
type = Playsnd
trigger1 = Animelem = 2
value = 0,60
volume = 0
channel = 0

[State 4400, 3];purple flame
type = Explod
trigger1 = animelem = 2
id = 3006
anim = 8900
pos = -9,-90
sprpriority = 4
ownpal = 1
removetime = -1
supermove = 1

[State 4400, 4]
type = Nothitby
trigger1 = time <= 31
value = SCA

[State 4400, 5]
type = changestate
triggerall = time >= 32
trigger1 = animtime = 0
trigger2 = command != "hold_x"
trigger3 = var(9) = 1
value = 4401

;------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups(max) - Let go
[Statedef 4401]
type    = S
physics = N
movetype= A
anim = 4401
ctrl = 0
juggle = 15
velset = 0,0

[State 4401, 1.1]
type = helper
trigger1 = animelem = 4, = 3
name = "Iori's flame(max)"
ID = 4401
pos = 45, 0
postype = p1
stateno = 4402
ownpal = 1

[State 4401, 2.11];purple flame
type = Explod
trigger1 = animelem = 1
id = 8900
anim = 8900
pos = -8,-99
sprpriority = 4
ownpal = 1
removetime = -1

[State 4401, 2.12]
type = RemoveExplod
trigger1 = animelem = 2
id = 8900

[State 4401, 2.21];purple flame
type = Explod
trigger1 = animelem = 2
id = 8900
anim = 8900
pos = -9,-102
sprpriority = 4
ownpal = 1
removetime = -1

[State 4401, 2.22]
type = RemoveExplod
trigger1 = animelem = 3
id = 8900

[State 4401, 2.31];purple flame
type = Explod
trigger1 = animelem = 3
id = 8900
anim = 8900
pos = -22,-68
sprpriority = 4
ownpal = 1
removetime = -1

[State 4401, 2.32]
type = RemoveExplod
trigger1 = animelem = 4
id = 8900

[State 4401, 2.41];purple flame
type = Explod
trigger1 = animelem = 4
id = 8900
anim = 8900
pos = 35,-60
sprpriority = 4
ownpal = 1
removetime = -1

[State 4401, 2.42]
type = RemoveExplod
trigger1 = animelem = 5
id = 8900

[State 4401, 2.51];purple flame
type = Explod
trigger1 = animelem = 5
id = 8900
anim = 8900
pos = 38,-77
sprpriority = 4
ownpal = 1
removetime = -1

[State 4401, 2.52]
type = RemoveExplod
trigger1 = animelem = 6
id = 8900

[State 4401, 2.61];purple flame
type = Explod
trigger1 = animelem = 6
id = 8900
anim = 8900
pos = 33,-89
sprpriority = 4
ownpal = 1
removetime = -1

[State 4401, 2.62]
type = RemoveExplod
trigger1 = animelem = 7
id = 8900

[State 4401, 2.71]
type = Explod
trigger1 = animelem = 7
anim = 8901
pos = 30,-98
sprpriority = 4
ownpal = 1

[State 4401, 2.72]
type = RemoveExplod
trigger1 = animelem = 8
id = 8900

[State 4401, 2.8]
type = Explod
trigger1 = animelem = 4,= 1
anim = 8905
pos = 18,-42
ontop = 1
ownpal = 1

[State 4401, 3]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------------
; Reverse Style No. 108 : Eight Wine Cups(max) - Iori's flame
[Statedef 4402]
type    = S
physics = N
movetype= A
anim = 4402
ctrl = 0
velset = 0,0

[State 4402, 1.1]
type = hitdef
trigger1 = 1
attr = S, HP
hitflag = MA
guardflag = M
animtype = Hard
priority = 4,Hit
guard.pausetime = 0, 1
sparkno = 3
guard.sparkno = 42
sparkxy = 10, -44
hitsound = S0, 34
guardsound = 6,1
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.velocity = -10
air.hittime = 0
guard.ctrltime = 15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 3
givepower = 30, 30
p2stateno = 3420
p2getp1state = 1
persistent = 0
numhits = 0
persistent = 0

[State 4402, 1.2];use to collide with projectiles
type = projectile
trigger1 = time = 0
ProjID = 4400
projanim = 4403;<-empty frames with collision boxes
projremovetime = 31
projpriority = 20
projsprpriority = 5
damage = 100,20
velocity = 4,0
offset = 0,0
postype = p1

[State 4402, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 4402, 3]
type = playerpush
trigger1 = 1
value = 0

[State 4402, 4.1]
type = helper
trigger1 = movehit
name = "ground flame"
ID = 3410
pos = 0, 0
postype = p2
stateno = 3410
ownpal = 1
persistent = 0

[State 4402, 6.2]
type = helper
trigger1 = animelem = 6, = 1
trigger1 = frontedgedist >= -50
name = "Iori's flame(max)"
ID = 4401
pos = 33, 0
postype = p1
stateno = 4402
ownpal = 1

[State 4402, 5]
type = playsnd
trigger1 = time = 0
value = 0,61
volume = -80

[State 4402, 6];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 70
ampl = -6

[State 4402, 7]
type = Explod
trigger1 = animelem = 6, = 1
trigger1 = frontedgedist <= 0
anim = 3402
pos = 0,0
ontop = 1
ownpal = 1

[State 4402, 8]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Forbidden Style No. 2888 : Maximum Iori
[Statedef 3500]
type    = S
physics = S
movetype= A
anim = 3500
poweradd = -2000
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[State 3500, 1.1];pause for miss
type = SuperPause
trigger1 = Time = 1
trigger1 = var(10) = 0
anim = -1
time = 30
movetime = 30

[State 3500, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f104
pos = -10,-84
postype = p1
supermove = 1
bindtime = 30
spritepriority = 2
ownpal = 1

[State 3500, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f105
pos = -10,-84
postype = p1
supermove = 1
bindtime = 30
spritepriority = -1
ownpal = 1

[State 3500, 1.3];chime snd
type = playsnd
trigger1 = Time = 1
value = f20,2

[State 3500, 2]
type = Hitdef
trigger1 = time = 0
trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140;make sure opponent is not in guarding state
attr = S, HT
hitflag = M
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 3501
p2stateno = 3520
p2getp1state = 1
id = 3500
;nochainID = nochain_1, nochain_2 (int)
numhits = 0
givepower = 288
persistent = 0

[State 3500, 3]
type = Nothitby
trigger1 = time = 0
value = SCA

[State 3500, 4]
type = playsnd
trigger1 = animelem = 7
value = 0,63
channel = 0
volume = 0

[State 3500, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------
; Forbidden Style No. 2888 : Maximum Iori - succeed
[Statedef 3501]
type    = S
physics = N
movetype= A
anim = 3501
ctrl = 0
velset = 0,0

[State 9145, 2KStyleSDM]
type = Bgpalfx
trigger1 = time >= 34
invertall = 0
time = 1
mul = 256,0,0
ignorehitpause = 1

[State 3501, 1]
type = Width
trigger1 = 1
edge = 40,0

[State 3501, 2.1]
type = SuperPause
trigger1 = Time = 0
trigger1 = var(10) = 0
anim = -1
time = 30
movetime = 30

[State 3500, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f104
pos = -10,-84
postype = p1
supermove = 1
bindtime = 30
spritepriority = 2
ownpal = 1

[State 3500, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 1
anim = f105
pos = -10,-84
postype = p1
supermove = 1
bindtime = 30
spritepriority = -1
ownpal = 1

[State 3500, 1.3];chime snd
type = playsnd
trigger1 = Time = 1
value = f20,2

[State 3501, 3.1]
type = Explod
trigger1 = animelem = 7
anim = 8200
pos = 31,-76
postype = p1
bindtime = 1
sprpriority = 2
ownpal = 1

[State 3501, 3.2]
type = null ;Explod
trigger1 = animelem = 11
anim = 3510
pos = 0,0
postype = p1
bindtime = 1
sprpriority = 2
ownpal = 1
removetime = 36

[State 3501, 3.3]
type = Explod
trigger1 = animelem = 13
anim = f12
pos = 53,-71
ontop = 1
ownpal = 1

[State 3501, 4]
type = sprpriority
trigger1 = 1
value = 3

[State 3501, 5.1]
type = TargetBind
trigger1 = time <= 30
pos = 45,0

[State 3501, 5.2]
type = TargetBind
trigger1 = time >= 31
trigger1 = time <= 90
pos = 34,0

[State 3501, 5.3]
type = TargetBind
trigger1 = time >= 91
trigger1 = time <= 95
pos = 50,0

[State 3501, 5.4]
type = TargetBind
trigger1 = time >= 96
trigger1 = time <= 100
pos = 13,-55

[State 3501, 5.5]
type = TargetBind
trigger1 = time >= 101
pos = 14,-7

[State 3501, 6.1];play catch snd
type = Playsnd
trigger1 = Animelem = 7
value = 0,36
volume = -80

[State 3501, 6.2]
type = playsnd
trigger1 = animelem = 13
value = 1,31
volume = 0

[State 3501, 6.3]
type = playsnd
trigger1 = animelem = 11
value = 0,62
volume = 0

[State 3501, 7.1]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 3501, 7.2]
type = Varset
trigger1 = time = 0
trigger1 = var(10) != 0
var(1) = 1

[State 3501, 7.3]
type = Targetstate
trigger1 = Time <= 30
trigger1 = var(1) = 1
value = 3520

[State 3501, 8]
type = ChangeState
trigger1 = animtime = 0
value = 3502

;--------------------------------------------------
; Forbidden Style No. 2888 : Maximum Iori - ripping
[Statedef 3502]
type    = S
physics = N
movetype= A
anim = 3502
ctrl = 0
velset = 0,0

[State 9145, 2KStyleSDM]
type = Bgpalfx
trigger1 = 1
invertall = 0
time = 1
mul = 256,0,0
ignorehitpause = 1

[State 3502, 1]
type = sprpriority
trigger1 = 1
value = 2

[State 3502, 2]
type = TargetBind
trigger1 = time <= 262
pos = 10,-1

[State 3502, 3.1]
type = Explod
trigger1 = animelem = 3
trigger2 = animelem = 11
trigger3 = animelem = 20
anim = f12
pos = 31,-30
ontop = 1
ownpal = 1

[State 3502, 3.2]
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 15
trigger3 = animelem = 20
anim = f12
pos = -19,-34
ontop = 1
ownpal = 1

[State 3502, 3.3];smash ground wave
type = Explod
trigger1 = animelem = 39
trigger2 = animelem = 47
trigger3 = animelem = 55
anim = 8120
pos = 10,-1
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 3502, 3.4]
type = Explod
trigger1 = animelem = 55
anim = 8910
pos = 0,-30
random = 80,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3502, 3.5]
type = Explod
trigger1 = animelem = 55
anim = 8911
pos = 0,-30
random = 80,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3502, 3.6]
type = Explod
trigger1 = animelem = 55
anim = 8910
pos = 0,-30
random = 80,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3502, 3.7]
type = Explod
trigger1 = animelem = 55
anim = 8911
pos = 0,-30
random = 80,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3502, 3.8]
type = Explod
trigger1 = animelem = 55
anim = 8910
pos = 0,-30
random = 80,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3502, 3.9]
type = Explod
trigger1 = animelem = 55
anim = 8911
pos = 0,-30
random = 80,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3502, 3.10]
type = Explod
trigger1 = animelem = 55
anim = 8910
pos = 0,-30
random = 80,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3502, 3.11]
type = Explod
trigger1 = animelem = 55
anim = 8911
pos = 0,-30
random = 80,80
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3502, 3.12]
type = Explod
trigger1 = time >= 262
trigger1 = time <= 280
trigger1 = (time%4) = 0
anim = 8913
pos = 0,0
random = 50,60
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State 3502, 4]
type = varset
trigger1 = time = 262
var(17) = 60

[State 3502, 5.1]
type = playsnd
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 11
trigger4 = animelem = 15
trigger5 = animelem = 20
value = 1,31
volume = 0

[State 3502, 5.2]
type = playsnd
trigger1 = animelem = 20
value = 1,31
volume = 0

[State 3502, 5.3]
type = playsnd
trigger1 = animelem = 39
trigger2 = animelem = 47
value = 0,39
volume = 0

[State 3502, 5.4]
type = playsnd
trigger1 = animelem = 55
value = 0,43
volume = 80

[State 3502, 5.5]
type = playsnd
trigger1 = animelem = 52
value = 0,62
volume = 0

[State 3502, 5.6]
type = playsnd
trigger1 = animelem = 23
value = 1,62
volume = 0

[State 3502, 6]
type = Width
trigger1 = 1
edge = 20,20

[State 3502, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------
; Hit by Forbidden Style No. 2888 : Maximum Iori
[Statedef 3520]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3520, 1]
type = Changeanim2
trigger1 = time = 0
value = 3520

[State 3520, 2]
type = sprpriority
trigger1 = 1
value = 1

[State 3520, 3];short flash
type = Envcolor
trigger1 = animelem = 5, = 1
value = 248,248,248
time = 1
under = 1

[State 3520, 4]
type = Width
trigger1 = 1
value = -30,-30

[State 3520, 5]
type = ChangeState
trigger1 = time = 77
value = 3521

;----------------------------------------------------------
; Hit by Forbidden Style No. 2888 : Maximum Iori - been rip
[Statedef 3521]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3521, 1]
type = Changeanim2
trigger1 = time = 0
value = 3521

[State 3521, 2]
type = turn
trigger1 = time = 0

[State 3521, 3.1]
type = velset
trigger1 = time = 263
x = 5
y = -6.5

[State 3521, 3.2];gravity
type = veladd
trigger1 = time >= 263
y = .6

[State 3521, 4]
type = PalFX
trigger1 = time >= 263
time = 20
sinadd = 20,5,20,16
add = 36,10,140

[State 3521, 5]
type = sprpriority
trigger1 = 1
value = 1

[State 3521, 6.1];shaking effect
type = Envshake
trigger1 = animelem = 12
trigger2 = animelem = 14
time = 15
freq = 80
ampl = -7

[State 3521, 6.2];shaking effect
type = Envshake
trigger1 = animelem = 16
time = 15
freq = 80
ampl = -9

[State 3521, 7];short flash
type = Envcolor
trigger1 = animelem = 2, = 1
trigger2 = animelem = 4, = 1
trigger3 = animelem = 6, = 1
trigger4 = animelem = 8, = 1
trigger5 = animelem = 10, = 1
trigger6 = animelem = 12, = 1
trigger7 = animelem = 14, = 1
trigger8 = animelem = 16, = 1
value = 248,248,248
time = 1
under = 1

[State 3521, 8.1];damage
type = lifeadd
trigger1 = animelem = 2
trigger2 = animelem = 8
value = -80
kill = 0
absolute = 1

[State 3521, 8.2];damage
type = lifeadd
trigger1 = animelem = 4
trigger2 = animelem = 6
trigger3 = animelem = 10
trigger4 = animelem = 12
trigger5 = animelem = 14
trigger6 = animelem = 14
value = -40
kill = 0
absolute = 1

[State 3521, 8.3];damage
type = lifeadd
trigger1 = animelem = 16
value = -200
absolute = 1

[State 3521, 9]
type = Width
trigger1 = time <= 262
value = -30,-30

[State 3521, 10]
type = ChangeState
trigger1 = pos y >= -10
trigger1 = vel y > 0
trigger1 = time >= 265
value = 3522

;----------------------------------------------------------
; Hit by Forbidden Style No. 2888 : Maximum Iori - Bouncing
[Statedef 3522]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 3,-4

[State 3522, 1]
type = Changeanim2
trigger1 = time = 0
value = 3522

[State 3522, 2]
type = posfreeze
trigger1 = time <= 1

[State 3522, 3.1];gravity
type = veladd
trigger1 = time >= 2
y = .5

[State 3522, 3.2]
type = posset
trigger1 = time = 0
y = 0

[State 3522, 3.3]
type = posadd
trigger1 = time = 0
x = 10

[State 3522, 4]
type = GameMakeAnim
trigger1 = Time = 0
value = 61
pos = 0, 0
under = 1

[State 3522, 5]
type = PlaySnd
trigger1 = Time = 0
value = F7, 0 ;Hit ground

[State 3522, 6]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = vel y > 0
trigger1 = time >= 4
value = 3523

;------------------------------------------------------------
; Hit by Forbidden Style No. 2888 : Maximum Iori - lying down
[Statedef 3523]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3523, 1]
type = Changeanim2
trigger1 = time = 0
value = 3523

[State 3523, 2]
type = posset
trigger1 = time = 0
y = 0

[State 3523, 3]
type = GameMakeAnim
trigger1 = Time = 0
value = 61
pos = 0, 0
under = 1

[State 3523, 4]
type = PlaySnd
trigger1 = Time = 0
value = F7, 0 ;Hit ground

[State 3523, 5.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 3523, 5.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Speical Mode Program Codes
;---------------------------------------------------------------------------
; Dizzy Mode
[Statedef 5305]
type    = S
movetype= H
physics = S
anim = 5300
ctrl = 0

[State 5305, 1];back to normal
type = ChangeState
trigger1 = Time = 300
trigger2 = Time >= 30;must stay at lease for 30 ticks for fast recovery
trigger2 = var(1) >= 5
value = 0
ctrl = 1

[State 5305, 2]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 5305, 3];press left right quickly to recover faster
type = Varadd
trigger1 = command = "dizzyrecover"
var(1) = 1

[State 5305, 4]
type = Playsnd
trigger1 = Time = 0
value = 0,10
volume = -40

;--------------------
; Dizzy Mode(shaking)
[Statedef 5300]
type    = A
movetype= H
physics = N

[State 5300, 1]
type = Varset
trigger1 = time = 0
var(7) = 0

[State 5300, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5301

[State 5300, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

[State 5300, 4]
type = Nothitby
trigger1 = 1
value = SCA

;-----------------------------
; Dizzy Mode(fall through air)
[Statedef 5301]
type    = A
movetype= H
physics = N
anim = 5050

[State 5301, 1]
type = Veladd
trigger1 = Time = 0
trigger1 = vel y = 0
y = -6

[State 5301, 1];reduce speed if vel x is too large
type = Velmul
trigger1 = vel x < -5
x = .95

[State 5301, 2]
type = Gravity
trigger1 = 1

[State 5301, 3] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5302

[State 5301, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 5301, 5]
type = pause
trigger1 = timemod = 2,0
trigger1 = time <= 10
time = 1

;-------------------
; Dizzy Mode(Bounce)
[Statedef 5302]
type    = L
movetype= H
physics = N

[State 5302, 1.1]
type = Velset
trigger1 = time = 0
y = -5.5

[State 5302, 1.2]
type = Velmul
trigger1 = timemod = 2,3
trigger1 = time > 3
x = .98

[State 5302, 2.1]
type = Changeanim
trigger1 = time < 3
value = 5160

[State 5302, 3.1]
type = posset
trigger1 = time = 0
y = 20

[State 5302, 4]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 5302, 5]
type = GameMakeAnim
trigger1 = Time = 0
value = 60
pos = 0, -20
under = 1

[State 5302, 6]
type = posfreeze
trigger1 = time < 3

[State 5302, 7]
type = Gravity
trigger1 = time > 3

[State 5302, 8]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5303

;---------------------
; Dizzy Mode(lie down)
[Statedef 5303]
type    = L
movetype= H
physics = N
velset = 0,0
anim = 5110

[State 5303, 2]
type = posset
trigger1 = time = 0
y = 0

[State 5303, 6]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 5303, 7]
type = GameMakeAnim
trigger1 = Time = 0
value = 60
pos = 0, 0
under = 1

[State 5303, 3.1] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 5303, 3.2] ;If alive
type = ChangeState
triggerall = alive
trigger1 = Time = 25
value = 5304

[State 5303, 16]
type = Nothitby
trigger1 = 1
value = SCA

;------------------
; Dizzy Mode(getup)
[Statedef 5304]
type    = L
movetype= I
physics = N
anim = 5120
velset = 0,0

[State 5304, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5304, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 5305
ctrl = 0

;-----------------------------------------------------------------------------------------
; Super Cancel States
;-----------------------------------------------------------------------------------------
[Statedef 3600]
type    = S
movetype= I
physics = S
anim = 3410
velset = 0,0
poweradd = 0
ctrl = 0
sprpriority = -1

[State 3600, 1]
type = Explod
trigger1 = time = 10
anim = f8500
ID = 8500
pos = 65,66
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 2]
type = Explod
trigger1 = time = 0
anim = f8505
ID = 8505
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 3]
type = Explod
trigger1 = time = 0
anim = f8510
ID = 8510
pos = -150,60
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 4]
type = DestroySelf
trigger1 = time = 65

;-----------------------------------------------------------------------------------------
; Dream Cancel States
;-----------------------------------------------------------------------------------------
[Statedef 3700]
type    = S
movetype= I
physics = S
anim = 3410
velset = 0,0
poweradd = 0
ctrl = 0
sprpriority = -1

[State 3700, 1]
type = Explod
trigger1 = time = 10
anim = f8600
ID = 8600
pos = -3,68
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3700, 2]
type = Explod
trigger1 = time = 0
anim = f8605
ID = 8605
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3700, 3]
type = Explod
trigger1 = time = 0
anim = f8610
ID = 8610
pos = -150,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3700, 4]
type = DestroySelf
trigger1 = time = 65

;---------------------------------------------------------------------------
; Guard Crush Mode
[Statedef 9100]
type    = S
physics = S
anim = 9100
ctrl = 0

[State 9100, 1]
type = Pause
trigger1 = Time = 0
time = 3
movetime = 3
ignorehitpause = 1

[State 9100, 2]
type = Envcolor
trigger1 = Time = 0
value = 248,248,248
time = 3
under = 1
ignorehitpause = 1

[State 9100, 3]
type = Varset
trigger1 = time = 0
var(6) = 0
ignorehitpause = 1

[State 9100, 4]
type = Envshake
trigger1 = time = 0
time = 8
ignorehitpause = 1

[State 9100, 5]
type = Velset
trigger1 = time >= 3
trigger1 = time <= 10
x = -4
ignorehitpause = 1

[State 9100, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
ignorehitpause = 1

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "dodge";can recover near ground but not mid-air
value = 5200 ;HITFALL_RECOVER

;recover in mid-air is disable for kof99 characters
;[State 5050, 5]; Recover in mid air
;type = null;ChangeState
;triggerall = Vel Y > -1
;triggerall = alive
;triggerall = CanRecover
;trigger1 = Command = "dodge"
;value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type    = A
movetype= H
physics = N

[State 5200, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5201

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = S
movetype= H
physics = S
anim = 5200
ctrl = 0

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5201, 2.1]
type = VelSet
trigger1 = Time >= 0
trigger1 = Time <= 10
x = -4

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA, NT,ST,HT
time = 1

[State 5201, 5]
type = Playsnd
trigger1 = Time = 0
value = 0,13
volume = 0
channel = 0

[State 5201, 6]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_UP
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0

[State 40, 0.0]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 40, 0.1]
type = VarSet
trigger1 = command = "holdfwd"
trigger1 = var(8) != 2
var(8) = 1

[State 40, 0.2]
type = VarSet
trigger1 = command = "holdback"
trigger1 = var(8) != -2
var(8) = -1

[State 40, 0.1b1]
type = VarSet
triggerall = Time = 0
triggerall = command = "holdfwd"
trigger1 = command = "longjump"
trigger2 = prevstateno = 100 ;RUN_FWD
var(8) = 2

[State 40, 0.1b2]
type = VarSet
triggerall = Time = 0
trigger1 = var(9) = 1
trigger1 = random <= 800;Very high percent
var(8) = 2

[State 40, 0.2b]
type = VarSet
trigger1 = Time = 0
trigger1 = command = "holdback"
trigger1 = command = "longjump"
var(8) = -2

;make sure running snd is off
[State 40, 3]
type = StopSnd
trigger1 = time = 0
channel = 20;running snd

[State 40, 4]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = var(8) != 0
trigger1 = var(8) != 1
trigger1 = var(8) != -1
trigger1 = command = "holdup"
trigger2 = command != "holdup"
value = 9000

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(var(8)=0, const(velocity.jump.neu.x), ifelse(var(8)>0, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_UP (short)
[Statedef 9000]
type    = A
physics = A
velset = 0, -6.1
ctrl = 1

[State 9000, 1a] ; Play sound when jumping (Light)
type = PlaySnd
trigger1 = Time = 0
trigger1 = var(8) != -2
trigger1 = var(8) != 2
value = 0,1
volume = -40

[State 9000, 1b] ; Play sound when jumping (Shadow)
type = PlaySnd
triggerall = Time = 0
trigger1 = var(8) = -2
trigger2 = var(8) = 2
value = 0,3
volume = -80

[State 9000, 2] ; Shadows
type = Afterimage
triggerall = Time = 0
trigger1 = var(8) = -2
trigger2 = var(8) = 2
time = 14
length = 9
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 3

[State 9000, 2] ; Shadows off
type = Afterimage
trigger1 = Time = 14
time = 0

[State 9000, -0.1] ;Holding up?
type = VelSet
trigger1 = Time = 0
trigger1 = command = "holdup"
y = -9

[State 9000, 0.1]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = 1
x = 3.1

[State 9000, 0.1b]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = 2
x = 4

[State 9000, 0.2]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = -1
x = -3.1

[State 9000, 0.2b]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = -2
x = -4

[State 9000, 1.1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command = "holdup"
value = 41

[State 9000, 1.2] ;Short
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command != "holdup"
value = 9000

[State 9000, 2.1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command = "holdup"
value = 42

[State 9000, 2.2] ;Short
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command != "holdup"
value = 9000

[State 9000, 3.1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command = "holdup"
value = 43

[State 9000, 3.2] ;Short
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command != "holdup"
value = 9000

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
anim = 47
ctrl = 1
facep2 = 1

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

; Play sound when landing
[State 52, 3]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------
; Armor mode overwrite code
;--------------------------
; HITG_SHAKE
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 3] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 4] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
value = a

[State 5000, Damage]
type = lifeadd
trigger1 = var(11) != 0
value = -GetHitVar(damage)
persistent = 0
ignorehitpause = 1

[State 5000, 5.1];no armor mode
type = ChangeState
trigger1 = GetHitVar(yvel) = 0
trigger1 = HitShakeOver
trigger1 = var(11) = 0
value = 5001 ;HITG_SLIDE

[State 5000, 5.2];with armor mode
type = ChangeState
trigger1 = var(11) != 0
trigger1 = life != 0
value = 0
ctrl = 1

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, Damage]
type = lifeadd
trigger1 = var(11) != 0
value = -GetHitVar(damage)
persistent = 0
ignorehitpause = 1

[State 5010, 5.1];no armor mode
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
trigger1 = var(11) = 0
value = 5011 ;HITC_SLIDE

[State 5010, 5.2];with armor mode
type = ChangeState
trigger1 = var(11) != 0
trigger1 = life != 0
value = 11
ctrl = 1

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 5020]
type    = A
movetype= H
physics = N

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, Damage]
type = lifeadd
trigger1 = var(11) != 0
value = -GetHitVar(damage)
persistent = 0
ignorehitpause = 1

[State 5020, 4.1] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 4.2]
type = velset
trigger1 = Time = 0
trigger1 = var(11) = 0
trigger2 = life = 0
x = 0
y = 0

[State 5020, 5.1];with armor mode
type = ChangeState
trigger1 = var(11) != 0
trigger1 = life != 0
value = 50
ctrl = 1

[State 5020, 5.2];no armor mode
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; States that are always checked when in self's rc (use -3) :
;---------------------------------------------------------------------------

[Statedef -3]

; Play sound when jumping
[State -3, 1.1]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 50
value = 0,1
persistent = 0 ;make sure it play only once each time
volume = -40

; Play sound when hit by light
[State -3, 1.2]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 600;use random
trigger1 = stateno = 5001
trigger1 = anim = 5000
trigger2 = stateno = 5001
trigger2 = anim = 5010
trigger3 = stateno = 5011
trigger3 = anim = 5020 
value = 0,6
channel = 0
volume = 0
ignorehitpause = 1

; Play sound when hit by medium
[State -3, 1.3]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 600;use random
trigger1 = stateno = 5001
trigger1 = anim = 5001
trigger2 = stateno = 5001
trigger2 = anim = 5011
trigger3 = stateno = 5011
trigger3 = anim = 5021 
value = 0,7
channel = 0
volume = 0
ignorehitpause = 1

; Play sound when hit by hard
[State -3, 1.4]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 600;use random
trigger1 = stateno = 5001
trigger1 = anim = 5002
trigger2 = stateno = 5001
trigger2 = anim = 5012
trigger3 = stateno = 5011
trigger3 = anim = 5022 
value = 0,9
channel = 0
volume = 0
ignorehitpause = 1

; Play sound when lying down
[State -3, 1.5]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
trigger1 = stateno = 5100
value = 0,8
channel = 0
volume = 0
ignorehitpause = 1

; Get rid of trailing anims when hit
[State -3, 1.6]
type = AfterImageTime
triggerall = Time = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 5070
time = 0

;Stop channel 20's sound
[State -3, 1.7]
type = StopSnd
trigger1 = stateno = 100
trigger1 = AnimElem = 6, >= 0
trigger1 = command != "holdfwd"
trigger2 = stateno != 100
trigger2 = stateno != 3200
trigger2 = stateno != 3250
channel = 20;running snd

;Access AI modification once any of the following AI-command is accessed
[State -3, 1.8]
type = Varset
triggerall = var(9) != 1
triggerall = RoundState != 3
trigger1 = command = "AI_1"
trigger2 = command = "AI_2"
trigger3 = command = "AI_3"
trigger4 = command = "AI_4"
trigger5 = command = "AI_5"
trigger6 = command = "AI_6"
trigger7 = command = "AI_7"
trigger8 = command = "AI_8"
trigger9 = command = "AI_9"
trigger10 = command = "AI_10"
trigger11 = command = "AI_11"
trigger12 = command = "AI_12"
var(9) = 1

[State -3, 1.82];access when fight is over
type = Varset
trigger1 = RoundState = 3
var(9) = 0

[State -3, 1.9];kill the corner push bug
type = Velset
trigger1 = FrontEdgeDist < 10
trigger1 = vel x > 0.1
x = 0.1

;========================
; Jor Damage
;========================

[State -2, JorDamage5]
type = null ;AttackMulSet
triggerall = prevstateno >=200
trigger1 = stateno = 1000
trigger2 = stateno = 1010
trigger3 = stateno = 1100
trigger4 = stateno = 1110
value = .5

;==================
; Dizzy mode system
;==================
; Var(7) for counting dizzy mode
[State -3, 2.1]
type = Varadd
trigger1 = var(7) > 0 && movetype != H && TimeMod = 4, = 0
var(7) = -1
ignorehitpause = 1

[State -3, 2.2]
type = Varadd
triggerall = Time = 1
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 3
trigger1 = stateno = 5001
trigger1 = anim = 5000
trigger2 = stateno = 5001
trigger2 = anim = 5010
trigger3 = stateno = 5011
trigger3 = anim = 5020 
var(7) = 30
ignorehitpause = 1

[State -3, 2.3];add for medium attacks
type = Varadd
triggerall = Time = 1
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 3
trigger1 = stateno = 5001
trigger1 = anim = 5001
trigger2 = stateno = 5001
trigger2 = anim = 5011
trigger3 = stateno = 5011
trigger3 = anim = 5021 
var(7) = 100
ignorehitpause = 1

[State -3, 2.4];add for heavy attacks
type = Varadd
triggerall = Time = 1
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 3
trigger1 = stateno = 5001
trigger1 = anim = 5002
trigger2 = stateno = 5001
trigger2 = anim = 5012
trigger3 = stateno = 5011
trigger3 = anim = 5022 
var(7) = 200
ignorehitpause = 1

[State -3, 2.5]
type = ChangeState;change to dizzy when var(7) limits reached!
trigger1 = var(7) >= 1000
value = 5300
ctrl = 0
ignorehitpause = 1

;========================
; Guard Crush mode system
;========================
; Var(6) for counting Guard Crush mode
[State -3, 3.1];subtract for light attack hits
type = Varadd
triggerall = var(6) > 0
trigger1 = stateno = 5001
trigger1 = anim = 5000
trigger2 = stateno = 5001
trigger2 = anim = 5010
trigger3 = stateno = 5011
trigger3 = anim = 5020 
persistent = 0
var(6) = -1
ignorehitpause = 1

[State -3, 3.2];subtract for medium attack hits
type = Varadd
triggerall = var(6) > 0
trigger1 = stateno = 5001
trigger1 = anim = 5001
trigger2 = stateno = 5001
trigger2 = anim = 5011
trigger3 = stateno = 5011
trigger3 = anim = 5021 
persistent = 0
var(6) = -3
ignorehitpause = 1

[State -3, 3.3];subtract for heavy attack hits
type = Varadd
triggerall = var(6) > 0
trigger1 = stateno = 5001
trigger1 = anim = 5002
trigger2 = stateno = 5001
trigger2 = anim = 5012
trigger3 = stateno = 5011
trigger3 = anim = 5022 
persistent = 0
var(6) = -6
ignorehitpause = 1

[State -3, 3.4];subtract for fall
type = Varadd
trigger1 = var(6) > 0
trigger1 = PrevStateNo = 5050
persistent = 0
var(6) = -10
ignorehitpause = 1

[State -3, 3.5]
type = Varadd;add when hitshaketime had at lease 15 ticks;heavy guard
triggerall = GetHitVar(hitshaketime) = 15
trigger1 = stateno = 150
trigger2 = stateno = 152
var(6) = 3
ignorehitpause = 1

[State -3, 3.6]
type = Varadd;add when hitshaketime had at lease 12 ticks;medium guard
triggerall = GetHitVar(hitshaketime) = 12
trigger1 = stateno = 150
trigger2 = stateno = 152
var(6) = 2
ignorehitpause = 1

[State -3, 3.7]
type = Varadd;add when hitshaketime had at lease 8 ticks;light guard
triggerall = GetHitVar(hitshaketime) = 8
trigger1 = stateno = 150
trigger2 = stateno = 152
var(6) = 1
ignorehitpause = 1

[State -3, 3.8]
type = ChangeState;change to guard crush when var(6) limits reached!
trigger1 = var(6) >= 54
value = 9100
ctrl = 0
ignorehitpause = 1

[Statedef -2];must change to -2 for it to check all time

[State -2, 1]
type = Explod
triggerall = random < 800
triggerall = p2Movetype = H
trigger1 = ProjHitTime(800) = 3
trigger2 = ProjHitTime(800) = 4
trigger3 = ProjHitTime(800) = 5
trigger4 = ProjHitTime(800) = 6
trigger5 = var(13) = 79
trigger6 = var(13) = 77
trigger7 = var(13) = 75
trigger8 = var(13) = 73
trigger9 = var(15) = 17
trigger10 = var(15) = 16
trigger11 = var(15) = 15
trigger12 = var(15) = 14
trigger13 = var(16) = 79
trigger14 = var(16) = 77
trigger15 = var(16) = 75
trigger16 = var(16) = 73
trigger17 = ProjHitTime(9401) = 3
trigger18 = ProjHitTime(9401) = 4
trigger19 = ProjHitTime(9401) = 5
trigger20 = ProjHitTime(9401) = 6
anim = 8910
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State -2, 2]
type = Explod
triggerall = random < 800
triggerall = p2Movetype = H
trigger1 = ProjHitTime(800) = 3
trigger2 = ProjHitTime(800) = 4
trigger3 = ProjHitTime(800) = 5
trigger4 = ProjHitTime(800) = 6
trigger5 = var(13) = 77
trigger6 = var(13) = 75
trigger7 = var(13) = 73
trigger8 = var(15) = 17
trigger9 = var(15) = 16
trigger10 = var(15) = 15
trigger11 = var(16) = 77
trigger12 = var(16) = 75
trigger13 = var(16) = 73
trigger14 = ProjHitTime(9401) = 3
trigger15 = ProjHitTime(9401) = 4
trigger16 = ProjHitTime(9401) = 5
trigger17 = ProjHitTime(9401) = 6
anim = 8911
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State -2, 3]
type = Explod
triggerall = random < 800
triggerall = p2Movetype = H
trigger1 = ProjHitTime(800) = 3
trigger2 = var(13) = 77
trigger3 = var(13) = 75
trigger4 = var(13) = 73
trigger5 = var(15) = 12
trigger6 = var(16) = 77
trigger7 = var(16) = 75
trigger8 = var(16) = 73
trigger9 = var(17) > 0
trigger9 = time = [155,165]
trigger9 = p2stateno = 3220
trigger9 = (gametime%10) = 0
trigger10 = ProjHitTime(9401) = 3
anim = 8912
pos = -20,-80
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State -2, 4]
type = Explod
triggerall = random < 800
triggerall = p2Movetype = H
trigger1 = ProjHitTime(800) = 24
trigger2 = ProjHitTime(800) = 25
trigger3 = (gametime%3) = 0
trigger3 = var(13) = [65,72]
trigger4 = var(15) = 5
trigger5 = var(15) = 4
trigger6 = var(16) = [65,72]
trigger7 = var(17) > 0
trigger7 = p2stateno = 3220
trigger7 = (gametime%10) = 0
trigger8 = var(17) > 0
trigger8 = stateno = 4509
trigger8 = (gametime%3) = 0
trigger9 = ProjHitTime(9401) = 24
trigger10 = ProjHitTime(9401) = 25
anim = 8913
pos = 0,-60
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1
ignorehitpause = 1

[State -2, 5.1]
type = Varset
trigger1 = ProjHit800 = 1
trigger2 = ProjHit9401 = 1
var(12) = 17

[State -2, 5.2]
type = Varadd
trigger1 = var(12) > 0
var(12) = -1
ignorehitpause = 1

[State -2, 5.3]
type = Varadd
trigger1 = var(13) > 0
var(13) = -1
ignorehitpause = 1

[State -2, 5.4]
type = Varadd
trigger1 = var(15) > 0
var(15) = -1
ignorehitpause = 1

[State -2, 5.5]
type = Varadd
trigger1 = var(16) > 0
var(16) = -1
ignorehitpause = 1

[State -2, 5.6]
type = Varadd
trigger1 = var(17) > 0
var(17) = -1
ignorehitpause = 1

[State -2, 6];pausing effect!
type = Pause
trigger1 = (gametime%2) = 0
trigger1 = var(12) = [1,16]
time = 1

[State -2, 7];dust
type = Explod
trigger1 = p2stateno = 5110
trigger1 = var(13) > 0
trigger1 = NumExplod(8150) = 0
trigger2 = p2stateno = 1222
trigger2 = NumExplod(8150) = 0
trigger2 = NumExplod(1153) = 0
trigger3 = (p2stateno = 5110 || p2stateno = 3012)
trigger3 = var(16) > 0
trigger3 = NumExplod(8150) = 0
trigger4 = var(17) > 0
trigger4 = p2stateno = 3523
trigger4 = NumExplod(8150) = 0
ID = 8150
anim = 8150
pos = -10,0
postype = p2
bindtime = 1
ontop = 1
ownpal = 1

[State -2, 8];flame dust
type = Explod
trigger1 = p2stateno = 5100
trigger1 = var(13) > 0
trigger1 = NumExplod(1152) = 0
trigger2 = (p2stateno = 5100 || p2stateno = 3011 || p2stateno = 4126)
trigger2 = var(16) > 0
trigger2 = NumExplod(1152) = 0
trigger3 = var(17) > 0
trigger3 = (p2stateno = 5100 || p2stateno = 3522)
trigger3 = NumExplod(1152) = 0
ID = 1152
anim = 1152
pos = 0,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1

[State -2, 9];dust spark 1
type = Explod
trigger1 = random <= 700
trigger1 = var(13) = 10
trigger1 = NumExplod(1153) = 0
trigger2 = p2stateno = 1222
trigger2 = NumExplod(1153) = 0
trigger3 = random <= 700
trigger3 = var(16) = 10
trigger3 = NumExplod(1153) = 0
trigger4 = random <= 700
trigger4 = var(17) > 0
trigger4 = (p2stateno = 5110 || p2stateno = 3523)
trigger4 = NumExplod(1153) = 0
ID = 1153
anim = 1153
pos = -20,-40
random = 50,50
postype = p2
bindtime = 1
ontop = 1
ownpal = 1

[State -2, 9];dust spark 2
type = Explod
trigger1 = random <= 500
trigger1 = var(13) = [20,60]
trigger1 = (gametime%5) = 0
trigger2 = p2stateno = 1220
trigger2 = stateno = 1203
trigger2 = (gametime%5) = 0
trigger2 = random <= 500
trigger2 = time > 30
trigger3 = var(15) = 1
trigger4 = random <= 500
trigger4 = var(16) = [20,60]
trigger4 = (gametime%5) = 0
trigger5 = random <= 700
trigger5 = var(17) > 0
trigger5 = (p2stateno = 5100 || p2stateno = 5110 || p2stateno = 3220)
trigger5 = NumExplod(1154) = 0
trigger6 = var(16) = [20,60]
trigger6 = (gametime%5) = 0
trigger6 = random <= 700
ID = 1154
anim = 1154
pos = -20,-20
random = 70,80
postype = p2
bindtime = 1
ontop = 1
ownpal = 1

[State -2, 10]
type = PlaySnd
trigger1 = var(14) = 1
trigger1 = p2stateno = 1022
trigger2 = var(14) = 1
trigger2 = (p2stateno = 1030 && p2statetype = L)
trigger3 = var(16) >= 1
trigger3 = (p2stateno = 3011 || p2stateno = 4126)
trigger3 = NumExplod(8120) = 0
value = 0,39
volume = -80
persistent = 0

[State -2, Stp Chrge Snd]
type = StopSnd
trigger1 = MoveType = H
channel = 2
;value = f21,0

[State -2, 11.1];smash ground wave
type = Explod
trigger1 = var(14) = 1
trigger1 = (p2stateno = 1030 && p2statetype = L)
trigger2 = var(16) >= 1
trigger2 = (p2stateno = 3011 || p2stateno = 4126)
trigger2 = NumExplod(8120) = 0
anim = 8120
ID = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State -2, 11.2];smash ground wave
type = Explod
trigger1 = var(14) = 1
trigger1 = p2stateno = 1022
anim = 8120
pos = 0,25
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State -2, 12]
type = Varset
triggerall = var(14) = 1
trigger1 = p2stateno = 1022
trigger2 = (p2stateno = 1030 && p2statetype = L)
var(14) = 0

[State -2, 13.1]
type = RemoveExplod
trigger1 = stateno != 3000
trigger1 = stateno != 3050
trigger1 = stateno != 4000
trigger1 = stateno != 3400
trigger1 = stateno != 3450
trigger1 = stateno != 4400
ID = 3006

[State -2, 13.2]
type = RemoveExplod
trigger1 = stateno != 3401
trigger1 = stateno != 3451
trigger1 = stateno != 4401
ID = 8900

[State -2, 14]
type = Explod
trigger1 = ProjContact9401 = 1
trigger1 = NumExplod(9403) = 0
ID = 9403
anim = 9403
pos = 10,floor(-p2bodydist y-pos y)
postype = p2
removetime = 30
ontop = 0
ownpal = 1
ignorehitpause = 1

[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "JorNoqueo = %d "
params = var(7)

;============================
; Counter & Armor mode system
;============================
[State -2, 15.11]
type = Varadd
trigger1 = var(10) > 0
var(10) = -1
ignorehitpause = 1

[State -2, 15.12]
type = Varadd
trigger1 = var(11) > 0
var(11) = -1
ignorehitpause = 1

[State -2, 15.3];during armor mode,power should be zero all the time.
type = Powerset
trigger1 = Var(10) != 0
trigger2 = Var(11) != 0
value = 0

[State -2, 15.22];Back to normal
type = AttackMulSet
trigger1 = stateno = 0
value = 1

[State -2, 16.1]
type = PalFX
trigger1 = (GameTime%2)=0;for blinking
trigger1 = Var(10) != 0
time = 1
add = 220,72,40
ignorehitpause = 1

[State -2, 16.2]
type = PalFX
trigger1 = (GameTime%2)=0;for blinking
trigger1 = Var(11) != 0
time = 1
add = 200,152,32
ignorehitpause = 1

;-----------------------------
; Counter Code por Jor
;-----------------------------

[state 1]
type = varset
trigger1 = enemy,stateno = [1000,4999]
trigger1 = enemy,movetype = A
trigger1 = stateno = [200,999]
v = 18
value = 1
ignorehitpause = 1

[state 1]
type = varset
trigger1 = enemy,stateno = [1000,4999]
trigger1 = enemy,movetype = A
trigger1 = stateno = [1000,4999]
v = 18
value = 2
ignorehitpause = 1

[State 2]
type = EnvColor
trigger1 = movehit
trigger1 = var(18) >= 1
persistent = 0
ignorehitpause = 1
time = var(18)*2
value = 255,255,255
under = 2

[State 2a];probar
type = Assertspecial
trigger1 = movehit
trigger1 = var(18) >= 1 
flag = Nojugglecheck

[State 2a];probar
type = targetlifeadd
trigger1 = movehit
trigger1 = var(18) >= 1 
value = -(var(18)*10)
ignorehitpause = 1

[State 2a];probar
type = lifeadd
;trigger1 = p2name = "Goro Daimon" && enemy,stateno != 3000
trigger1 = movehit
trigger1 = var(18) >= 1
value = var(18)*10
ignorehitpause = 1

[state 3]
type = varset
trigger1 = enemy,movetype != A
v = 18
value = 0
ignorehitpause = 1

