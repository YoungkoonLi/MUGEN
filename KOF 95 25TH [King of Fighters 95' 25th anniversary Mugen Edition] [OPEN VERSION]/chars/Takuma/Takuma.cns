;========================================================
; Takuma Sakazaki's constants and state file
;========================================================

[Data]
life = 1000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 160
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 13
air.back = 12
air.front = 12
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -95
mid.pos = -5, -60
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 2.8
walk.back = -2.5
run.fwd  = 5.8
run.back = -5,-3.6
jump.neu = 0,-9
jump.back = -3.1
jump.fwd = 3.1
runjump.fwd = 3.8,-10

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .51
stand.friction = .8
crouch.friction = .8
;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 1,30

[State 180, 1]
type = ChangeState
trigger1 = Var(1) = [1,10]
value = 181

[State 180, 2]
type = ChangeState
trigger1 = Var(1) = [11,20]
value = 182

[State 180, 3]
type = ChangeState
trigger1 = Var(1) = [21,30]
value = 183
;---------------------------------------------------------------------------
; Win pose 1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0

[State 181, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 181,0
;---------------------------------------------------------------------------
; Win pose 2
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0

[State 181, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 182,0
;---------------------------------------------------------------------------
; Win pose 3
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0

[State 183, 1]
type = AssertSpecial
trigger1 = Time < 320
flag = roundnotover
;---------------------------------------------------------------------------
; ÉCÉìÉgÉçï™äÚ
[Statedef 190]
type = S
ctrl = 0
velset = 0

[State 191, 1]
type = varrandom
trigger1 = 1
v = 1
range = 0,35

[State 191, 9]
type = ChangeState
trigger1 = p2name = "Ryo Sakazaki" || p2name = "RYO SAKAZAKI" || p2name = "Ryo" || p2name = "RYO"
trigger2 = p2name = "Robert Garcia" || p2name = "ROBERT GARCIA" || p2name = "Robert" || p2name = "ROBERT"
trigger3 = p2name = "Yuri Sakazaki" || p2name = "YURI SAKAZAKI" || p2name = "Yuri" || p2name = "YURI"
value = 193

[State 191, 9]
type = ChangeState
trigger1 = Var(1) = [0,9]
value = 191

[State 191, 9]
type = ChangeState
trigger1 = Var(1) = [10,19]
value = 192

[State 191, 9]
type = ChangeState
trigger1 = Var(1) = [30,35]
value = 194
;---------------------------------------------------------------------------
; ÉCÉìÉgÉç1
[Statedef 191]
type = S
anim = 191

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 192, 1]
type = PlaySnd
trigger1 = AnimElem = 8 || AnimElem = 10
value = 191,0

[State 191, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; ÉCÉìÉgÉç2
[Statedef 192]
type = S
anim = 192

[State 192, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 192, 1]
type = PlaySnd
trigger1 = AnimElem = 6 || AnimElem = 13
value = 192,0

[State 192, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; ÉCÉìÉgÉç3
[Statedef 193]
type = S
anim = 193

[State 193, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 193, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; ÉCÉìÉgÉç4
[Statedef 194]
type = S
anim = 194

[State 194, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 194, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 194,0

[State 194, 1]
type = PlaySnd
trigger1 = AnimElem = 25
value = 200,2

[State 194, 1]
type = PlaySnd
trigger1 = AnimElem = 25
value = 5,3

[State 194, 1]
type = Explod
trigger1 = AnimElem = 19
anim = 6070
pos = 25,-120
vel = .7,-10
accel = 0,.45
removetime = 48
sprpriority = 5

[State 194, 1]
type = Explod
trigger1 = AnimElem = 25
anim = 8020
pos = 55,-90
sprpriority = 6

[State 194, 1]
type = Explod
trigger1 = AnimElem = 25
anim = 6071
pos = 55,-90
vel = 5,-5
accel = 0,.25
removetime = 100
sprpriority = 5

[State 194, 1]
type = Explod
trigger1 = AnimElem = 25
anim = 6072
pos = 55,-90
vel = 5,-3
accel = 0,.25
removetime = 100
sprpriority = 5

[State 194, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; íßî≠
[Statedef 195]
type = S
movetype = I
physics = S
anim = 195
velset = 0
ctrl = 0

[State 195, 1]
type = ctrlset
trigger1 = AnimElem = 4
value = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = power = powermax && TimeMod = 2,0
value = 1

[State 195, 9]
type = PlaySnd
trigger1 = AnimElem = 1
value = 195,0

[State 195, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;============================================================================
; í èÌãZ
;============================================================================
;--------------------------------
; âìãóó£óßÇøé„Ço
;--------------------------------
[Statedef 200]
type = S
movetype = A
physics = S
anim = 200
juggle = 6
velset = 0
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage    = 40
animtype = Light
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-80
hitsound = 5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -6
air.velocity = -2,-2.5

[State 200, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; âìãóó£óßÇøé„Çj
;--------------------------------
[Statedef 210]
type = S
movetype = A
physics = S
anim = 210
juggle = 6
velset = 0
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,0

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage    = 42
animtype = Light
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-85
hitsound = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 10
ground.velocity = -6
air.velocity = -2,-2.5

[State 210, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; âìãóó£óßÇøã≠Ço
;--------------------------------
[Statedef 220]
type = S
movetype = A
physics = S
anim = 220
velset = 0
juggle = 8
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 220, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage    = 100
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-80
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8
air.velocity = -3,-4.5

[State 220, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; âìãóó£óßÇøã≠Çj
;--------------------------------
[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
juggle = 8
velset = 0
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 230, 1]
type = posadd
trigger1 = AnimElem = 2
x = 8

[State 230, 1]
type = posadd
trigger1 = AnimElem = 10
x = 35

[State 230, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage    = 101
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-65
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8.5
air.velocity = -3,-4.5

[State 230, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ãﬂãóó£óßÇøé„Ço
;--------------------------------
[Statedef 240]
type = S
movetype = A
physics = S
anim = 240
juggle = 6
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,0

[State 240, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage    = 40
animtype = Light
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-60
hitsound = 5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -6
air.velocity = -2,-2.5

[State 240, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ãﬂãóó£óßÇøé„Çj
;--------------------------------
[Statedef 250]
type = S
movetype = A
physics = S
anim = 250
juggle = 6
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,0

[State 250, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage    = 41
animtype = Light
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-60
hitsound = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -6
air.velocity = -2,-2.5

[State 250, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ãﬂãóó£óßÇøã≠Ço
;--------------------------------
[Statedef 260]
type = S
movetype = A
physics = S
anim = 260
juggle = 8
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 260, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage    = 90
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-85
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8
air.velocity = -3,-4.5

[State 260, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ãﬂãóó£óßÇøã≠Çj
;--------------------------------
[Statedef 270]
type = S
movetype = A
physics = S
anim = 270
juggle = 8
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 270, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage    = 95
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-80
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -10
air.velocity = -3,-4.5

[State 270, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ãSé‘
;--------------------------------
[Statedef 280]
type = S
movetype = A
physics = S
anim = 280
juggle = 8
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 280, 9]
type = posadd
trigger1 = AnimElem = 2
x = 15

[State 280, 9]
type = posadd
trigger1 = AnimElem = 3
x = 8

[State 280, 1]
type = HitDef
triggerall = AnimElem = 4
trigger1 = !(prevstateno = 240 || prevstateno = 250 || prevstateno = 260)
trigger1 = !(prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430)
attr = S, NA
damage    = 80
animtype = Medium
ground.type = low
fall.animtype = up
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-80
hitsound = 5,4
guardsound = 6,0
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = 0,10
guard.velocity = -6
air.velocity = -1,10
fall = 1
fall.recover = 0

[State 280, 1]
type = HitDef
triggerall = AnimElem = 4
trigger1 = prevstateno = 240 || prevstateno = 250 || prevstateno = 260
trigger2 = prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430
attr = S, NA
damage    = 40
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-80
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -3,4.5

[State 280, 2]
type = varset
trigger1 = Time = 0
v = 1
value = 0

[State 280, 2]
type = varset
trigger1 = movecontact
v = 1
value = 1
ignorehitpause = 1

[State 811, 1]
type = EnvShake
triggerall = movehit
trigger1 = !(prevstateno = 240 || prevstateno = 250 || prevstateno = 260)
trigger1 = !(prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430)
time = 10
ampl = -6
persistent = 0
ignorehitpause = 1

[State 280, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; îÚé‘óéÇ∆Çµ
;--------------------------------
[Statedef 290]
type = S
movetype = A
physics = S
anim = 290
juggle = 8
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 290, 1]
type = varset
trigger1 = Time = 0
v = 1
value = 0

[State 290, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage    = ifelse(p2movetype=H,40,80)
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-75
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8
air.velocity = -3,-4.5

[State 290, 2]
type = varset
trigger1 = movecontact
v = 1
value = 1
ignorehitpause = 1

[State 290, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; åjînë≈Çø
;--------------------------------
[Statedef 300]
type = S
movetype = A
physics = S
anim = 300
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,2

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 300, 2]
type = varset
trigger1 = Time = 0
v = 1
value = 0

[State 300, 1]
type = HitDef
triggerall = AnimElem = 5
trigger1 = !(prevstateno = 240 || prevstateno = 250 || prevstateno = 260)
trigger1 = !(prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430)
attr = S, NA
damage    = ifelse(p2movetype=H,40,80)
animtype = Heavy
fall.animtype = Up
getpower = 50
givepower = 15
guardflag = L
hitflag = MDFL
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -15,-5
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = 0,10
guard.velocity = -8
air.velocity = -1,10
down.velocity = -3,-2
fall = 1
fall.recover = 0

[State 300, 1]
type = HitDef
triggerall = AnimElem = 5
trigger1 = prevstateno = 240 || prevstateno = 250 || prevstateno = 260
trigger2 = prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430
attr = S, NA
damage    = 47
animtype = Heavy
getpower = 40
givepower = 15
guardflag = L
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -15,-5
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8
air.velocity = -3,-4.5

[State 300, 2]
type = varset
trigger1 = movecontact
v = 1
value = 1
ignorehitpause = 1

[State 811, 1]
type = EnvShake
triggerall = movehit
trigger1 = !(prevstateno = 240 || prevstateno = 250 || prevstateno = 260)
trigger1 = !(prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430)
time = 10
ampl = -6
persistent = 0
ignorehitpause = 1

[State 300, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ä¢äÑÇË
;--------------------------------
[Statedef 310]
type = S
movetype = A
physics = S
anim = ifelse(prevstateno>=200,311,310)
juggle = 8
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 310, 2]
type = varset
trigger1 = Time = 0
v = 1
value = 0

[State 310, 1]
type = HitDef
triggerall = time = 0
trigger1 = !(prevstateno = 240 || prevstateno = 250 || prevstateno = 260)
trigger2 = !(prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430)
attr = S, NA
damage    = 80
animtype = Heavy
getpower = 50
givepower = 15
guardflag = HA
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-60
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8
air.velocity = -3,-4.5

[State 310, 1]
type = HitDef
triggerall = time = 0
trigger1 = prevstateno = 240 || prevstateno = 250 || prevstateno = 260
trigger2 = prevstateno = 400 || prevstateno = 410 || prevstateno = 420 || prevstateno = 430
attr = S, NA
damage    = 40
animtype = Heavy
getpower = 50
givepower = 15
guardflag = HA
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-60
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8
air.velocity = -3,-4.5

[State 310, 2]
type = varset
trigger1 = movecontact
v = 1
value = 1
ignorehitpause = 1

[State 310, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; êÅÇ¡îÚÇŒÇµçUåÇínè„
;--------------------------------
[Statedef 320]
type = S
movetype = A
physics = S
anim = 330 ;320
juggle = 8
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,3

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 320, nueva animacion]
type = posadd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 8

[State 320, nueva animacion]
type = posadd
trigger1 = AnimElem = 5
x = 10

[State 320, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage    = 120
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,14
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-80
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 12
guard.velocity = -12
ground.hittime  = 18
ground.velocity = -5,-5.5
air.velocity = -5,-5
fall = 1

[State 320, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------
;knockdown special
;-----------------------------
[Statedef 325]
type = S
movetype = A
physics = S
anim = 320
juggle = 8
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,3

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 712,1]
type = NotHitBy
trigger1 = time <= 16
value = SCA

[State 325, PalFX]
type = PalFX
trigger1 = time = 7
time = 3
add = 256,256,256
mul = 256,256,256
ignorehitpause = 1
;persistent = 


[State 712, SP]
type = SuperPause
trigger1 = Time = 0
persistent = 0
ignorehitpause
time = 6
poweradd = -1000
movetime = 0
darken = 0
anim = -1

[State 320, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage    = 20
animtype = up
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,14
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-80
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 12
guard.velocity = -12
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4,-6
fall = 1

[State 320, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ã¸Ç›é„Ço
;--------------------------------
[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
juggle = 6
ctrl = 0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,0

[State 400, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 38
animtype = Light
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-55
hitsound = 5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -6
air.velocity = -2,-2.5

[State 400, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;--------------------------------
; ã¸Ç›é„Çj
;--------------------------------
[Statedef 410]
type = C
movetype = A
physics = C
anim = 410
juggle = 6
ctrl = 0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,0

[State 410, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 40
animtype = Light
getpower = 50
givepower = 15
guardflag = L
hitflag = MAF
pausetime = 10,10
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-5
hitsound = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 10
ground.velocity = -6
air.velocity = -2,-2.5

[State 410, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;--------------------------------
; ã¸Ç›ã≠Ço
;--------------------------------
[Statedef 420]
type = C
movetype = A
physics = C
anim = 420
juggle = 8
ctrl = 0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 260, 1]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 90
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-80
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8
air.velocity = -3,-4.5

[State 420, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;--------------------------------
; ã¸Ç›ã≠Çj
;--------------------------------
[Statedef 430]
type = C
movetype = A
physics = C
anim = 430
juggle = 8
ctrl = 0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 270, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 100
animtype = Heavy
getpower = 50
givepower = 15
guardflag = L
hitflag = MAF
pausetime = 12,12
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-5
hitsound = 5,3
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 18
guard.velocity = -12
ground.velocity = -3.5,-1.5
air.velocity = -3.5,-1.5

[State 430, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;--------------------------------
; ÉWÉÉÉìÉvé„Ço
;--------------------------------
[Statedef 600]
type = A
movetype = A
physics = A
anim = 600
juggle = 6
ctrl = 0

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,0

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,0

[State 600, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 40
animtype = Light
getpower = 50
givepower = 15
guardflag = HA
hitflag = MAF
pausetime = 10,12
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-60
hitsound = 5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -6
air.velocity = -2,-2.5

;--------------------------------
; ÉWÉÉÉìÉvé„Çj
;--------------------------------
[Statedef 610]
type = A
movetype = A
physics = A
anim = 610
juggle = 6
ctrl = 0

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,0

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,0

[State 610, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 40
animtype = Light
getpower = 50
givepower = 15
guardflag = HA
hitflag = MAF
pausetime = 10,12
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-45
hitsound = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 10
ground.velocity = -6
air.velocity = -2,-2.5

;--------------------------------
; êÇíºÉWÉÉÉìÉvé„Çj
;--------------------------------
[Statedef 615]
type = A
movetype = A
physics = A
anim = 615
juggle = 6
ctrl = 0

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,0

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,0

[State 615, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage    = 41
animtype = Light
getpower = 50
givepower = 15
guardflag = HA
hitflag = MAF
pausetime = 10,12
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-65
hitsound = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 10
ground.velocity = -6
air.velocity = -2,-2.5

;--------------------------------
; ÉWÉÉÉìÉvã≠Ço
;--------------------------------
[Statedef 620]
type = A
movetype = A
physics = A
anim = 620
juggle = 8
ctrl = 0

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 620, 1]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 90
animtype = Heavy
getpower = 50
givepower = 15
guardflag = HA
hitflag = MAF
pausetime = 12,14
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-45
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -7
air.velocity = -3,-4.5

;--------------------------------
; ÉWÉÉÉìÉvã≠Çj
;--------------------------------
[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
juggle = 8
ctrl = 0

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200,1

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 630, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = A, NA
damage    = 90
animtype = Heavy
getpower = 50
givepower = 15
guardflag = HA
hitflag = MAF
pausetime = 12,14
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-45
hitsound = 5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -7.5
air.velocity = -3,-4.5

;--------------------------------
; êÅÇ¡îÚÇŒÇµçUåÇãÛíÜ
;--------------------------------
[Statedef 640]
type = A
movetype = A
physics = A
anim = 640
juggle = 8
ctrl = 0

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1 && Random % 10 < 8
value = 200,3

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,1

[State 640, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = A, NA
damage    = 120
animtype = Heavy
getpower = 50
givepower = 15
guardflag = HA
hitflag = MAF
pausetime = 12,14
sparkno = 1
guard.sparkno = 41
sparkxy = -10,-60
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -5,-5.5
air.velocity = -5,-5
fall = 1

;============================================================================
; ì¡éÍãZ
;============================================================================
;--------------------------------
; ëÂäOä†ÇËÅiÇ¬Ç©Ç›Åj
;--------------------------------
[Statedef 800]
type = S
movetype = A
physics = S
anim = 800
velset = 0
ctrl = 0
poweradd = 50

[State 800, 1]
type = HitDef
trigger1 = 1
attr = S, NT
getpower = 50
givepower = 15
guardflag =
hitflag = M-
sparkno = -1
p1stateno = 801
p2stateno = 9030

[State 800, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 260

;--------------------------------
; ëÂäOä†ÇË
;--------------------------------
[Statedef 801]
type = S
movetype = A
physics = S
anim = 801
sprpriority = 3

[State 801, 1]
type = TargetBind
trigger1 = AnimElem = 1,>= 0 && AnimElem = 7,< 0
pos = 30,0

[State 801, 1]
type = TargetBind
trigger1 = AnimElem = 7,>= 0 && AnimElem = 8,< 0
pos = 30,-10

[State 801, 1]
type = TargetBind
trigger1 = AnimElem = 8,>= 0 && AnimElem = 9,< 0
pos = 40,-60

[State 801, 1]
type = TargetBind
trigger1 = AnimElem = 9,>= 0 && AnimElem = 10,< 0
pos = 45,-50

[State 801, 1]
type = TargetBind
trigger1 = AnimElem = 10,>= 0 && AnimElem = 11,< 0
pos = 40,-30

[State 801, 1]
type = TargetBind
trigger1 = AnimElem = 11,>= 0 && AnimElem = 12,< 0
pos = 50,-25

[State 801, 1]
type = TargetBind
trigger1 = AnimElem = 12
pos = 70,0

[State 801, 1]
type = TargetState
trigger1 = AnimElem = 18
value = 9032

[State 801, 1]
type = posadd
trigger1 = AnimElem = 13
x = 48

[State 801, 1]
type = sprpriority
trigger1 = AnimElem = 12
value = -2

[State 801, 1]
type = EnvShake
trigger1 = AnimElem = 12 || AnimElem = 17
time = 10
ampl = -6

[State 801, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 12 || AnimElem = 17
value = -60

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 2
anim = f20
pos = 30,-85
sprpriority = 2

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 9
anim = f1
pos = 35,-40
sprpriority = 5

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 12 || AnimElem = 17
anim = f61
pos = -20,0
postype = p2
sprpriority = -1

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 17
anim = f1
pos = 60,-5
sprpriority = 5

[State 1015, 1]
type = Width
trigger1 = AnimElem = 1
value = 80,0

[State 801, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800,0

[State 801, 1]
type = PlaySnd
trigger1 = AnimElem = 12
value = 1050,0

[State 801, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = f5,3

[State 801, 1]
type = PlaySnd
trigger1 = AnimElem = 17
value = f5,2

[State 801, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ëÂäOä†ÇË(P2)-1
;--------------------------------
[Statedef 9030]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 9031, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9030

[State 9031, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 9031

;--------------------------------
; ëÂäOä†ÇË(P2)-2
;--------------------------------
[Statedef 9031]
type = A
movetype = H
physics = N

[State 9031, 1]
type = ChangeAnim
trigger1 = Time = 0 && SelfAnimExist(5111)
value = 5111

[State 9031, 1]
type = ChangeAnim
trigger1 = Time = 0 && !SelfAnimExist(5111)
value = 5110

[State 9031, 1]
type = turn
trigger1 = Time = 0 && !SelfAnimExist(5111)

;--------------------------------
; ëÂäOä†ÇË(P2)-2
;--------------------------------
[Statedef 9032]
type = A
movetype = H
physics = N
velset = IfElse(anim = 5111,-4.5,4.5),-3

[State 9032, 1]
type = SelfState
trigger1 = Time = 0
value = 5050
anim = IfElse(SelfAnimExist(5061),5061,5060)

;--------------------------------
; àÍñ{îwïâÇ¢ÅiÇ¬Ç©Ç›Åj
;--------------------------------
[Statedef 810]
type = S
movetype = A
physics = S
anim = 800
velset = 0
ctrl = 0
poweradd = 50

[State 810, 1]
type = HitDef
trigger1 = 1
attr = S, NT
getpower = 50
givepower = 15
guardflag =
hitflag = M-
sparkno = -1
p1stateno = 811
p2stateno = 9040

[State 810, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 270

;--------------------------------
; àÍñ{îwïâÇ¢
;--------------------------------
[Statedef 811]
type = S
movetype = A
physics = S
anim = 811
sprpriority = 3

[State 811, 1]
type = TargetBind
trigger1 = AnimElem = 1,>= 0 && AnimElem = 3,< 0
pos = 30,0

[State 811, 1]
type = TargetBind
trigger1 = AnimElem = 3,>= 0 && AnimElem = 4,< 0
pos = 15,-90

[State 811, 1]
type = TargetBind
trigger1 = AnimElem = 4,>= 0 && AnimElem = 5,< 0
pos = -20,-95

[State 811, 1]
type = TargetBind
trigger1 = AnimElem = 5,>= 0 && AnimElem = 6,< 0
pos = -50,-70

[State 811, 1]
type = TargetBind
trigger1 = AnimElem = 6,>= 0 && AnimElem = 7,< 0
pos = -60,0

[State 811, 1]
type = TargetBind
trigger1 = AnimElem = 7
pos = -60,0

[State 811, 1]
type = EnvShake
trigger1 = AnimElem = 6
time = 10
ampl = -6

[State 801, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -120

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 2
anim = f20
pos = 30,-85
sprpriority = 2

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 6
anim = f61
pos = -70,0
sprpriority = -1

[State 1015, 1]
type = Width
trigger1 = AnimElem = 1
value = 0,40

[State 801, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800,0

[State 801, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1050,0

[State 811, 2]
type = turn
trigger1 = AnimElem = 8

[State 811, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; àÍñ{îwïâÇ¢(P2)-1
;--------------------------------
[Statedef 9040]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 9040, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9040

[State 9040, 2]
type = turn
trigger1 = AnimElem = 4

[State 9040, 1]
type = velset
trigger1 = AnimTime = 0
x = -4
y = -2

[State 9040, 1]
type = SelfState
trigger1 = AnimTime = 0
value = 5050

;--------------------------------
; ãŸã}âÒîëO
;--------------------------------
[Statedef 820]
type = S
movetype = I
physics = N
anim = 820
ctrl = 0
velset = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,0

[State 820, 1]
type = velset
trigger1 = AnimElem = 2
x = 4.5

[State 820, 1]
type = velset
trigger1 = AnimElem = 7
x = 0

[State 820, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;escapar adelante ex
;----------------------------
[Statedef 821]
type = S
movetype = I
physics = N
anim = 820
ctrl = 0
velset = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,0

[State 820, 1]
type = velset
trigger1 = AnimElem = 2
x = 4.5

[State 820, 1]
type = velset
trigger1 = AnimElem = 7
x = 0

[State 325, PalFX]
type = PalFX
trigger1 = time = 1
time = 3
add = 256,256,256
mul = 256,256,256
ignorehitpause = 1
;persistent = 

[State 712, SP]
type = SuperPause
trigger1 = Time = 0
persistent = 0
ignorehitpause
time = 3
poweradd = -500
movetime = 0
darken = 0
anim = -1

[State 820, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ãŸã}âÒîå„
;--------------------------------
[Statedef 825]
type = S
movetype = I
physics = N
anim = 825
ctrl = 0
velset = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,0

[State 825, 1]
type = velset
trigger1 = AnimElem = 2
x = -4.5

[State 820, 1]
type = velset
trigger1 = AnimElem = 7
x = 0

[State 825, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
;escapar atras ex
;--------------------------------
[Statedef 826]
type = S
movetype = I
physics = N
anim = 825
ctrl = 0
velset = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S200,0

[State 825, 1]
type = velset
trigger1 = AnimElem = 2
x = -4.5

[State 820, 1]
type = velset
trigger1 = AnimElem = 7
x = 0

[State 325, PalFX]
type = PalFX
trigger1 = time = 1
time = 3
add = 256,256,256
mul = 256,256,256
ignorehitpause = 1
;persistent = 

[State 712, SP]
type = SuperPause
trigger1 = Time = 0
persistent = 0
ignorehitpause
time = 3
poweradd = -500
movetime = 0
darken = 0
anim = -1

[State 825, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;============================================================================
; ïKéEãZ
;============================================================================
;--------------------------------
; å’‡äåùé„
;--------------------------------
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
velset = 0
ctrl = 0
poweradd = 50

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,0

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000,1

[State 1000, 3]
type = Projectile
trigger1 = AnimElem = 6,= 1
attr = S, SP
damage    = ifelse(p2movetype=H,45,90),10
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 4,12
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-5
projanim = ifelse(random>=500,6000,6001)
projhitanim = 6010
projremanim = 6010
projcancelanim = 6010
velocity = 4.5
offset = 60,-85
air.fall = 1

[State 1000, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; å’‡äåùã≠
;--------------------------------
[Statedef 1005]
type = S
movetype = A
physics = S
anim = 1005
velset = 0
ctrl = 0
poweradd = 50

[State 1005, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,0

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000,1

[State 1005, 3]
type = Projectile
trigger1 = AnimElem = 6,= 1
attr = S, SP
damage    = ifelse(p2movetype=H,45,90),10
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 4,12
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-5
projanim = ifelse(random>=500,6000,6001)
projhitanim = 6010
projremanim = 6010
projcancelanim = 6010
velocity = 6.5
offset = 60,-85
air.fall = 1

[State 1005, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; îÚâçéæïóãré„
;--------------------------------
[Statedef 1010]
type = S
movetype = A
physics = N
anim = 1010
velset = 0
ctrl = 0
juggle = 8
poweradd = 50

[State 1010, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1010,0

[State 1010, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = f80
ID = 80
pos = -10,0
postype = P1
sprpriority = -1
ownpal = 1
ignorehitpause = 1
shadow = -1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1010,1

[State 1010, 1]
type = StateTypeSet
trigger1 = AnimElem = 4
value = A

[State 1010, 1]
type = velset
trigger1 = AnimElem = 5
x = 8
y = -1

[State 1010, 1]
type = veladd
trigger1 = AnimElem = 5,> 0 && AnimElem = 6,< 0
y = .15

[State 1010, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = A, SA
damage    = 100,10
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,12
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-55
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -3.5,-5
air.velocity = -3.5,-4.5
fall = 1
fall.recover = 0

[State 1010, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 1011

;--------------------------------
; îÚâçéæïóãré„
;--------------------------------
[Statedef 1011]
type = S
movetype = I
physics = S
anim = 1011
velset = 0,0

[State 1011, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 1011, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; îÚâçéæïóãrã≠
;--------------------------------
[Statedef 1015]
type = S
movetype = A
physics = N
anim = 1015
velset = 0
ctrl = 0
juggle = 8
poweradd = 50

[State 1015, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1010,0

[State -3, 2.1]
type = attackmulset
trigger1 = time = 0 && prevstateno <= 200
value = 1

[State -3, 2.1]
type = attackmulset
trigger1 = time = 0 && prevstateno >= 200
value = .5

[State 1015, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = f80
ID = 80
pos = -10,0
postype = P1
sprpriority = -1
ownpal = 1
ignorehitpause = 1
shadow = -1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1010,1

[State 1015, 1]
type = StateTypeSet
trigger1 = AnimElem = 4
value = A

[State 1015, 1]
type = velset
trigger1 = AnimElem = 5
x = 8.5
y = -1

[State 1015, 1]
type = veladd
trigger1 = AnimElem = 5,> 0 && AnimElem = 6,< 0
y = .1

[State 1015, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = A, SA
damage    = 80,10
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 10,12
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-55
hitsound = 5,4
guardsound = 6,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -8
air.velocity = -3,-4.5

[State 1015, 9]
type = ChangeState
trigger1 = movecontact
value = 1017

[State 1015, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 1016

;--------------------------------
; îÚâçéæïóãrã≠ÅiíÖínÅj
;--------------------------------
[Statedef 1016]
type = S
movetype = I
physics = S
anim = IfElse(prevstateno = 1017,1018,1016)
velset = 0,0

[State 1016, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 1016, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; îÚâçéæïóãrã≠ÅiÉqÉbÉgÅj
;--------------------------------
[Statedef 1017]
type = A
movetype = A
physics = N
anim = 1017
velset = 8.5,0

[State -3, 2.1]
type = Varset
trigger1 = movehit
var(11) = 1
ignorehitpause = 1

[State 1017, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
damage    = 30,10
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,14
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-65
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -2,-8.5
guard.velocity = -8
air.velocity = -2,-6.5
fall = 1
fall.recover = 0

[State 1017, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 1016

;--------------------------------
; ñ“å’ñ≥óää‚é„
;--------------------------------
[Statedef 1020]
type = S
movetype = A
physics = S
anim = 1020
velset = 0
ctrl = 0
poweradd = 50

[State 1020, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1020,0

[State 1015, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 300,1

[State REV]
type = ReversalDef
trigger1 = AnimElem <= 6
reversal.attr = SCA;, AA, AP 
hitflag = MAFP
numhits = 0
pausetime = 11,13
sparkno = 21
hitsound = S201,2
sparkxy = 30,-10

[State 1015, 1]
type = null ;HitDef
trigger1 = AnimElem = 6
attr = S, SA
damage = ifelse(p2movetype=H,11,22),4
animtype = Diagup
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 8,27
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-90
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 0
ground.hittime  = 18
ground.velocity = -4,-8
guard.velocity = -11
air.cornerpush.veloff = -0
ground.cornerpush.veloff = -0

[State 1015, 1]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
damage    = ifelse(p2movetype=H,61,122),12
animtype = Diagup
getpower = 100
givepower = 15
guardflag = MA
hitflag = MAF
guard.pausetime = 27,27
pausetime = 30,30
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-60
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
guard.velocity = -11
air.cornerpush.veloff = -0
ground.cornerpush.veloff = -0
ground.velocity = -4,-8
air.velocity = -4,-8
fall = 1
fall.recover = 0

[State 1020, 1]
type = movehitreset
trigger1 = movehit && AnimElem = 8,< 0

[State 811, 1]
type = EnvShake
trigger1 = movehit
time = 10
ampl = -6
persistent = 0
ignorehitpause = 1

[State 1020, 9]
type = ChangeState
trigger1 = movehit
value = 1021

[State 1020, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ñ“å’ñ≥óää‚ÅiÉqÉbÉgÅj
;--------------------------------
[Statedef 1021]
type = S
movetype = I
physics = S
anim = 1021

[State 1021, 1]
type = NotHitBy
trigger1 = 1
value = SCA,NT,ST,HT

[State 1020, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1020,1

[State 1020, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ñ“å’ñ≥óää‚ã≠
;--------------------------------
[Statedef 1025]
type = S
movetype = A
physics = S
anim = 1025
velset = 0
ctrl = 0
poweradd = 50

[State 1025, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1020,0

[State 1025, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 300,1

[State REV]
type = ReversalDef
trigger1 = AnimElem <= 6
reversal.attr = SCA, NA, SA,SP 
hitflag = MAFP
numhits = 0
pausetime = 11,13
sparkno = 21
hitsound = S201,2
sparkxy = 30,-10

[State 1025, 1]
type = null ;HitDef
trigger1 = AnimElem = 6
attr = S, SA
damage    =ifelse(p2movetype=H,13,26),4
animtype = Diagup
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 8,27
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-90
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 0
ground.hittime  = 18
ground.velocity = 0
air.cornerpush.veloff = -0
guard.velocity = -11
guard.cornerpush.veloff = -18
ground.velocity = -4,-8

[State 1025, 1]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
damage    = ifelse(p2movetype=H,63,126),10
animtype = Diagup
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
guard.pausetime = 12,12
pausetime = 30,30
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-60
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4,-8
air.velocity = -4,-8
guard.velocity = -8
air.cornerpush.veloff = -0
guard.velocity = -11
guard.cornerpush.veloff = -18
fall = 1
fall.recover = 0

[State 1025, 1]
type = movehitreset
trigger1 = movehit && AnimElem = 8,< 0

[State 811, 1]
type = EnvShake
trigger1 = movehit
time = 10
ampl = -6
persistent = 0
ignorehitpause = 1

[State 1025, 9]
type = ChangeState
trigger1 = movehit
value = 1021

[State 1025, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ébóÛåùé„
;--------------------------------
[Statedef 1030]
type = S
movetype = A
physics = S
anim = 1030
velset = 0
ctrl = 0
poweradd = 50

[State 1030, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1030,0

[State 1015, 1]
type = PlaySnd
trigger1 = AnimElem = 5,= 1 || AnimElem = 8 || AnimElem = 11 || AnimElem = 14
value = 300,0

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
var(10) = 0

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(10) = 1

[State 1025, 1]
type = HitDef
triggerall = !HitdefAttr(S,SA)
trigger1 = AnimElem = 5 || AnimElem = 8 || AnimElem = 11 || AnimElem = 6 || AnimElem = 12 ||AnimElem = 14 || AnimElem = 9 ||AnimElem = 15
attr = S, SA
damage    = ifelse(var(10)=1,5,10),4
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
sparkno = -1
guard.sparkno = 42
sparkxy = -10,-85
hitsound = 5,0
guardsound = 6,1
guard.pausetime = 8,8
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -12
snap = 40,-10
p1stateno = 1032
p2stateno = 9000
kill = 0
numhits = 0

[State 1030, 9]
type = ChangeAnim
trigger1 = Time = 58
value = 1031

[State 1030, 9]
type = ChangeState
trigger1 = anim = 1031 && AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ébóÛåùÅiÉqÉbÉgÅj
;--------------------------------
[Statedef 1032]
type = S
movetype = A
physics = S
anim = 1032

[State 1032, 1]
type = TargetBind
trigger1 = AnimElem = 44,< 0
pos = 40,-10-.4*Time

[State 1032, 1]
type = TargetState
trigger1 = AnimElem = 37
value = 9001

[State 1032, 1]
type = HitAdd
trigger1 = AnimElem = 37,< 0 && Time % 6 = 0
value = 1

[State 1032, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 37,< 0 && Time % 6 = 0
value = ifelse(var(10)=1,-3,-6)
kill = 0

[State 1032, 1]
type = PlaySnd
trigger1 = AnimElem = 16,< 0 && Time % 6 = 0
value = f5,0

[State 1032, 1]
type = PlaySnd
trigger1 = AnimElem = 16,>= 0 && AnimElem = 37,< 0 && Time % 6 = 0
value = f5,2

[State 1015, 1]
type = PlaySnd
trigger1 = AnimElem = 37,< 0 && Time % 6 = 0
value = 300,0

[State 1015, 1]
type = PlaySnd
trigger1 = AnimElem = 44
value = 300,1

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8
anim = f2
pos = 40,-45
sprpriority = 5

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 11 || AnimElem = 14 || AnimElem = 17
anim = f2
pos = 40,-80
sprpriority = 5

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 20 || AnimElem = 23 || AnimElem = 26 || AnimElem = 29 || AnimElem = 32 || AnimElem = 35
anim = f2
pos = 40,-100
sprpriority = 5

[State 1032, 1]
type = HitDef
trigger1 = AnimElem = 44
attr = A, SA
damage    = ifelse(var(10)=1,15,30)
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 20,20
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-90
hitsound = 5,4
guardsound = 6,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
fall = 1
fall.recover = 0

[State 811, 1]
type = EnvShake
trigger1 = AnimElem = 44
time = 10
ampl = -6
isnorehitpause = 1

[State 1032, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ébóÛåùÅiP2Åj-1
;--------------------------------
[Statedef 9000]
type = A
movetype = H
physics = N
ctrl = 0

[State 9000, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9000

[State 9010, 1]
type = SelfState
trigger1 = Time < 2 && p2stateno != 1032
value = 5050

;--------------------------------
; ébóÛåùÅiP2Åj-2
;--------------------------------
[Statedef 9001]
type = A
movetype = H
physics = N

[State 9001, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9001

[State 9001, 1]
type = NotHitBy
trigger1 = Time < 14
value = SCA,NT,ST,HT

;--------------------------------
; ébóÛåùã≠
;--------------------------------
[Statedef 1035]
type = S
movetype = A
physics = S
anim = 1035
velset = 0
ctrl = 0
poweradd = 50

[State 1035, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1030,0

[State 1035, 1]
type = PlaySnd
trigger1 = AnimElem = 6,= 1 || AnimElem = 9 || AnimElem = 12 || AnimElem = 15
value = 300,0

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
var(10) = 0

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(10) = 1

[State 1035, 1]
type = HitDef
triggerall = !HitdefAttr(S,SA)
trigger1 = AnimElem = 6 || AnimElem = 7 || AnimElem = 9 || AnimElem = 10 || AnimElem = 12 ||AnimElem = 13 || AnimElem = 15 ||AnimElem = 16
attr = S, SA
damage    = ifelse(var(10)=1,10,20),5
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
sparkno = -1
guard.sparkno = 42
sparkxy = -10,-85
hitsound = 5,0
guardsound = 6,1
guard.pausetime = 8,8
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -12
snap = 40,-10
p1stateno = 1032
p2stateno = 9000
kill = 0
numhits = 0

[State 1035, 9]
type = ChangeAnim
trigger1 = Time = 112
value = 1036

[State 1035, 9]
type = ChangeState
trigger1 = anim = 1036 && AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; „ƒóêãré„
;--------------------------------
[Statedef 1040]
type = S
movetype = A
physics = N
anim = 1040
velset = 0
ctrl = 0
poweradd = 50

[State 1040, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1040,0

[State 1040, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100,0
channel = 2

[State 1040, 1]
type = StopSnd
trigger1 = AnimElem = 8
channel = 2

[State 1040, 1]
type = velset
trigger1 = AnimElem = 2
x = 6

[State 1040, 1]
type = velset
trigger1 = AnimElem = 8
x = 0

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
var(10) = 0

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(10) = 1

[State 1040, 1]
type = HitDef
trigger1 = AnimElem = 2 && p2stateno != [150,155]
attr = S, ST
damage    = 0
getpower = 50
givepower = 15
guardflag =
hitflag = M-
sparkno = 0
guard.sparkno = 40
sparkxy = -10,-75
p1stateno = 1041
p2stateno = 9010
kill = 0
numhits = 0

[State 1040, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 1043

;--------------------------------
; „ƒóêãrÅiÉqÉbÉgÅj
;--------------------------------
[Statedef 1041]
type = A
movetype = A
physics = N
anim = 1041
velset = 0
sprpriority = 3

[State 1041, 1]
type = PlaySnd
trigger1 = anim = 1041 && AnimElem = 3
value = 800,0

[State 1041, 1]
type = PlaySnd
trigger1 = anim = 1041 && (AnimElem = 4,= 1 || AnimElem = 6,= 1)
value = f5,3

[State 1015, 1]
type = Explod
trigger1 = anim = 1041 && AnimElem = 3
anim = f21
pos = 30,-85
sprpriority = 2

[State 1015, 1]
type = Explod
trigger1 = anim = 1041 && (AnimElem = 4,= 1 || AnimElem = 6,= 1)
anim = f2
pos = 15,-40
sprpriority = 5

[State 1041, 1]
type = TargetBind
trigger1 = anim = 1041 && AnimElem = 3,>= 0 && AnimElem = 4,< 0
pos = 30,0

[State 1041, 1]
type = BindToTarget
trigger1 = anim = 1041 && AnimElem = 4
pos = -10,55,head

[State 1041, 1]
type = BindToTarget
trigger1 = anim = 1041 && AnimElem = 5
pos = 0,55,head
persistent = 0

[State 1041, 9]
type = ChangeAnim
trigger1 = Time = 68
value = 1042

[State 1040, 9]
type = TargetState
trigger1 = Time = 68
value = 9011

[State 1040, 9]
type = PosAdd
trigger1 = Time = 68
x = -20

[State 1040, 9]
type = VelSet
trigger1 = Time = 71
x = -3
y = -7

[State 1040, 9]
type = VelAdd
trigger1 = anim = 1042 && AnimElem = 3,> 0
y = .4

[State 1040, 9]
type = HitAdd
trigger1 = anim = 1041 && (AnimElem = 4,= 1 || AnimElem  = 6)
value = 1

[State 1040, 9]
type = TargetLifeAdd
trigger1 = anim = 1041 && (AnimElem = 4,= 1 || AnimElem  = 6)
value = ifelse(var(10)=1,-5,-10)
kill = 0

[State 1032, 1]
type = HitDef
trigger1 = anim = 1042 && AnimElem = 3
attr = A, SA
damage    = ifelse(var(10)=1,30,60)
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 12,12
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-45
hitsound = 5,4
guardsound = 6,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -5,-5.5
air.velocity = -5,-5.5
fall = 1
fall.recover = 0

[State 811, 1]
type = EnvShake
trigger1 = anim = 1042 && AnimElem = 3
time = 10
ampl = -6
isnorehitpause = 1

[State 1040, 9]
type = ChangeState
trigger1 = anim = 1042 && Pos Y >= 0 && Vel Y > 0
value = 52
ctrl = 1

;--------------------------------
; „ƒóêãrÅiP2Åj-1
;--------------------------------
[Statedef 9010]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0
sprpriority = 1

[State 9010, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9010

[State 9010, 1]
type = SelfState
trigger1 = Time < 2 && p2stateno != 1041
value = 5050

;--------------------------------
; „ƒóêãrÅiP2Åj-2
;--------------------------------
[Statedef 9011]
type = S
movetype = H
physics = S

[State 9011, 1]
type = NotHitBy
trigger1 = Time < 3
value = SCA,NT,ST,HT

[State 9011, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9011

;--------------------------------
; „ƒóêãrÅií‚é~Åj
;--------------------------------
[Statedef 1043]
type = S
movetype = I
physics = S
anim = IfElse(prevstateno = 1040,1043,1046)
velset = 0

[State 1043, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; „ƒóêãrã≠
;--------------------------------
[Statedef 1045]
type = S
movetype = A
physics = N
anim = 1045
velset = 0
ctrl = 0
poweradd = 50

[State 1045, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1040,0

[State 1040, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100,0
channel = 2

[State 1040, 1]
type = StopSnd
trigger1 = AnimElem = 9
channel = 2

[State 1045, 1]
type = velset
trigger1 = AnimElem = 2
x = 6

[State 1045, 1]
type = velset
trigger1 = AnimElem = 9
x = 0

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
var(10) = 0

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(10) = 1

[State 1045, 1]
type = HitDef
trigger1 = AnimElem = 2 && p2stateno != [150,155]
attr = S, ST
damage    = 0
getpower = 50
givepower = 15
guardflag =
hitflag = M-
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-75
p1stateno = 1041
p2stateno = 9010
kill = 0
numhits = 0

[State 1045, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 1043

;--------------------------------
; éOêÌÇÃå^é„
;--------------------------------
[Statedef 850]
type = S
movetype = I
physics = S
anim = 1050
velset = 0
ctrl = 0
poweradd = 50

[State 301, snd]
type = PlaySnd
trigger1 = AnimElem = 8
value = 0,25
channel = 0

[State 301, snd]
type = PlaySnd
trigger1 = AnimElem = 8
value = f21,0
channel = 3

[State 705, 2]
type = Explod
trigger1 = Time = 17
anim = f130
ID = 311
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
removeongethit = 1
removetime = -1

[State 1050, 9]
type = poweradd
trigger1 = Time > 15
value = 8

[State 1050, 9]
type = ChangeState
trigger1 = command != "hold_a" 
trigger2 = command != "hold_y"
trigger3 = Power = Powermax
value = 851

;--------------------------------
; éOêÌÇÃå^ÅièIóπÅj
;--------------------------------
[Statedef 851]
type = S
movetype = I
physics = S
anim = 1051

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 311

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 3

[State 1051, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; éOêÌÇÃå^ã≠
;--------------------------------
[Statedef 1055]
type = S
movetype = I
physics = S
anim = 1050
velset = 0
ctrl = 0
poweradd = 50

[State 1055, 9]
type = poweradd
trigger1 = Time >= 45
value = 8

[State 1055, 9]
type = ChangeState
trigger1 = (Time >= 65 && command != "hold_y") || Time = 115
value = 1051

;============================================================================
; í¥ïKéEãZ
;============================================================================
;--------------------------------
; îeâ§éäçÇåùLV1-1
;--------------------------------
[Statedef 3000]
type = S
movetype = A
physics = S
anim = 3000
velset = 0
ctrl = 0
poweradd = -1000

[State 3000, 1]
type = Width
trigger1 = AnimElem = 3,>= 0
edge = 0,40

[State 3000, 19]
type = Helper
triggerall = prevstateno >= 1000
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 6000
stateno = 6000
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 0,0,256
mul = 0,0,256
sinadd = 0,0,256,1
invertall = 0
color = 256

[State 3000, 1]
type = superpause
trigger1 = AnimElem = 6
time = 24
movetime = 24
anim = -1
sound = f20,0

[State 1040, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3000,1

[State 3000, 1]
type = Explod
trigger1 = AnimElem = 6
anim = f101
pos = -90,-50
supermove = 1
sprpriority = -2

[State 3000, 1]
type = Explod
trigger1 = AnimElem = 6
anim = f100
pos = -90,-50
supermove = 1
sprpriority = 5

[State 3000, 1]
type = varset
trigger1 = Time = 0
v = 1
value = 0

[State 3000, 1]
type = varadd
trigger1 = AnimElemTime(7) % 8 = 0 && AnimElem = 7,> 0
v = 1
value = 1

[State 3000, 9]
type = ChangeState
trigger1 = (AnimElemTime(7) >= -1 && command != "hold_x") || Time = 209
value = 3001

;--------------------------------
; îeâ§éäçÇåùLV1-2
;--------------------------------
[Statedef 3001]
type = S
movetype = A
physics = S
anim = 3001

[State 3001, 1]
type = Width
trigger1 = AnimElem = 3,< 0
edge = 0,40

[State 3005, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3000,2

[State 1500,Explod]
type = Explod
trigger1 = AnimElem = 4
anim = f82
ID = 80
pos = -10,0
postype = P1
sprpriority = 2
ownpal = 1
ignorehitpause = 1
shadow = -1

[State 3000, 3]
type = Projectile
trigger1 = AnimElem = 4,= 1
attr = S, HP
damage    = 250 + Var(1) * 4,20
animtype = up
givepower = 15
getpower = 0
guardflag = MA
hitflag = MAF
guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-5.5
projanim = 6030
projhitanim = 6010
projremanim = 6010
projcancelanim = 6010
velocity = 4.5
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3001, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; îeâ§éäçÇåùLV1-1
;--------------------------------
[Statedef 3002]
type = S
movetype = A
physics = S
anim = 3000
velset = 0
ctrl = 0
poweradd = -1000

[State 3000, 1]
type = Width
trigger1 = AnimElem = 3,>= 0
edge = 0,40

[State 3000, 1]
type = superpause
trigger1 = AnimElem = 6
time = 24
movetime = 24
anim = -1
sound = f20,0

[State 1040, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3000,1

[State 3000, 1]
type = Explod
trigger1 = AnimElem = 6
anim = f101
pos = -90,-50
supermove = 1
sprpriority = -2

[State 3000, 1]
type = Explod
trigger1 = AnimElem = 6
anim = f100
pos = -90,-50
supermove = 1
sprpriority = 5

[State 3000, 1]
type = varset
trigger1 = Time = 0
v = 1
value = 0

[State 3000, 1]
type = varadd
trigger1 = AnimElemTime(7) % 8 = 0 && AnimElem = 7,> 0
v = 1
value = 1

[State 3000, 9]
type = ChangeState
trigger1 = (AnimElemTime(7) >= -1 && command != "hold_y") || Time = 209
value = 3003

;--------------------------------
; îeâ§éäçÇåùLV1-2
;--------------------------------
[Statedef 3003]
type = S
movetype = A
physics = S
anim = 3001

[State 3001, 1]
type = Width
trigger1 = AnimElem = 3,< 0
edge = 0,40

[State 3005, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3000,2

[State 1500,Explod]
type = Explod
trigger1 = AnimElem = 4
anim = f82
ID = 80
pos = -10,0
postype = P1
sprpriority = 2
ownpal = 1
ignorehitpause = 1
shadow = -1

[State 3000, 3]
type = Projectile
trigger1 = AnimElem = 4,= 1
attr = S, HP
damage    = 250 + Var(1) * 4,20
animtype = up
givepower = 15
getpower = 0
guardflag = MA
hitflag = MAF
guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-5.5
projanim = 6030
projhitanim = 6010
projremanim = 6010
projcancelanim = 6010
velocity = 9.5
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3001, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; îeâ§éäçÇåùLV2-1
;--------------------------------
[Statedef 3005]
type = S
movetype = A
physics = S
anim = 3005
velset = 0
ctrl = 0
poweradd = -2000

[State 3005, 1]
type = Width
trigger1 = AnimElem = 3,>= 0
edge = 0,40

[State 3000, 19]
type = Helper
triggerall = prevstateno = [1000,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 6000
stateno = 6000
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno = [1000,2999]
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 0,0,256
mul = 0,0,256
sinadd = 0,0,256,1
invertall = 0
color = 256

[State 3500, 9]
type = Helper
triggerall = prevstateno >= 3000
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 6100
stateno = 6100
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 3000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3005, 1]
type = superpause
trigger1 = AnimElem = 6
time = 24
movetime = 24
anim = -1
sound = f20,1

[State 3005, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3000,1

[State 3005, 1]
type = Explod
trigger1 = AnimElem = 6
anim = f103
pos = -90,-50
supermove = 1
sprpriority = -2

[State 3005, 1]
type = Explod
trigger1 = AnimElem = 6
anim = f102
pos = -90,-50
supermove = 1
sprpriority = 5

[State 3005, 1]
type = varset
trigger1 = Time = 0
v = 1
value = 0

[State 3005, 1]
type = varadd
trigger1 = AnimElemTime(7) % 4 = 0 && AnimElem = 7,> 0
v = 1
value = 1

[State 3005, 9]
type = ChangeState
trigger1 = (AnimElemTime(7) >= -1 && command != "hold_z") || Time = 122
value = 3006

;--------------------------------
; îeâ§éäçÇåùLV2-2
;--------------------------------
[Statedef 3006]
type = S
movetype = A
physics = S
anim = 3006

[State 3006, 1]
type = Width
trigger1 = AnimElem = 3,< 0
edge = 0,40

[State 3005, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3000,2

[State 1500,Explod]
type = Explod
trigger1 = AnimElem = 4
anim = f82
ID = 80
pos = -10,0
postype = P1
sprpriority = 2
ownpal = 1
ignorehitpause = 1
shadow = -1

[State 3006, 3]
type = Projectile
trigger1 = AnimElem = 4,= 1 && Var(1) <= 10
attr = S, HP
damage    = 105,8
animtype = diagup
givepower = 15
getpower = 0
guardflag = MA
hitflag = MAF
pausetime = 2,20 ;1,6
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-6.5
projanim = ifelse(random>=500,6040,6042)
projhitanim = 6041
projremanim = 6041
projcancelanim = 6041
projhits = 4
velocity = 12
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3006, 3]
type = Projectile
trigger1 = AnimElem = 4,= 1 && Var(1) = [10,19]
attr = S, HP
damage    = 88,8
animtype = diagup
givepower = 15
getpower = 0
guardflag = MA
hitflag = MAF
pausetime = 2,20 ;1,6
guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-6.5
projanim = ifelse(random>=500,6040,6042)
projhitanim = 6041
projcancelanim = 6041
projhits = 5
velocity = 12
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3006, 3]
type = Projectile
trigger1 = AnimElem = 4,= 1 && Var(1) >= 20
attr = S, HP
damage    = 80,8
animtype = diagup
getpower = 0
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 2,20 ;1,6
guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-6.5
projanim = ifelse(random>=500,6040,6042)
projhitanim = 6041
projcancelanim = 6041
projhits = 6
velocity = 12
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3006, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; îeâ§éäçÇåùLV2-1
;--------------------------------
[Statedef 3030]
type = S
movetype = A
physics = S
anim = 3005
velset = 0
ctrl = 0
poweradd = -2000

[State 3005, 1]
type = Width
trigger1 = AnimElem = 3,>= 0
edge = 0,40

[State 3000, 19]
type = Helper
triggerall = prevstateno = [1000,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 6000
stateno = 6000
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno = [1000,2999]
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 0,0,256
mul = 0,0,256
sinadd = 0,0,256,1
invertall = 0
color = 256

[State 3500, 9]
type = Helper
triggerall = prevstateno >= 3000
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 6100
stateno = 6100
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 3000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3005, 1]
type = superpause
trigger1 = AnimElem = 6
time = 24
movetime = 24
anim = -1
sound = f20,1

[State 3005, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3000,1

[State 3005, 1]
type = Explod
trigger1 = AnimElem = 6
anim = f103
pos = -90,-50
supermove = 1
sprpriority = -2

[State 3005, 1]
type = Explod
trigger1 = AnimElem = 6
anim = f102
pos = -90,-50
supermove = 1
sprpriority = 5

[State 3005, 1]
type = varset
trigger1 = Time = 0
v = 1
value = 0

[State 3005, 1]
type = varadd
trigger1 = AnimElemTime(7) % 4 = 0 && AnimElem = 7,> 0
v = 1
value = 1

[State 3005, 9]
type = ChangeState
trigger1 = (AnimElemTime(7) >= -1 && command != "hold_z") || Time = 122
value = 3031

;--------------------------------
; îeâ§éäçÇåùLV2-2
;--------------------------------
[Statedef 3031]
type = S
movetype = A
physics = S
anim = 3006

[State 3006, 1]
type = Width
trigger1 = AnimElem = 3,< 0
edge = 0,40

[State 3005, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3000,2

[State 1500,Explod]
type = Explod
trigger1 = AnimElem = 4
anim = f82
ID = 80
pos = -10,0
postype = P1
sprpriority = 2
ownpal = 1
ignorehitpause = 1
shadow = -1

[State 3006, 3]
type = Projectile
trigger1 = AnimElem = 4,= 1 && Var(1) <= 10
attr = S, HP
damage    = 105,8
animtype = diagup
givepower = 15
getpower = 0
guardflag = MA
hitflag = MAF
pausetime = 2,20 ;1,6
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-6.5
projanim = ifelse(random>=500,6040,6042)
projhitanim = 6041
projremanim = 6041
projcancelanim = 6041
projhits = 4
velocity = 6
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3006, 3]
type = Projectile
trigger1 = AnimElem = 4,= 1 && Var(1) = [10,19]
attr = S, HP
damage    = 88,8
animtype = diagup
givepower = 15
getpower = 0
guardflag = MA
hitflag = MAF
pausetime = 2,20 ;1,6
guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-6.5
projanim = ifelse(random>=500,6040,6042)
projhitanim = 6041
projcancelanim = 6041
projhits = 5
velocity = 6
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3006, 3]
type = Projectile
trigger1 = AnimElem = 4,= 1 && Var(1) >= 20
attr = S, HP
damage    = 80,8
animtype = diagup
getpower = 0
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 2,20 ;1,6
guard.pausetime = 0,12
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-6.5
projanim = ifelse(random>=500,6040,6042)
projhitanim = 6041
projcancelanim = 6041
projhits = 6
velocity = 6
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3006, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ê^ÅEãSê_åÇLV-1
;--------------------------------
[Statedef 3010]
type = S
movetype = A
physics = S
anim = 3010
velset = 0
ctrl = 0
poweradd = -1000

[State 3000, 19]
type = Helper
triggerall = prevstateno = [1000,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 6000
stateno = 6000
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno = [1000,2999]
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 0,0,256
mul = 0,0,256
sinadd = 0,0,256,1
invertall = 0
color = 256

[State 3010, 1]
type = superpause
trigger1 = AnimElem = 1,= 2
time = 30
movetime = 30
anim = -1
sound = f20,0

[State 3010, 1]
type = PlaySnd
trigger1 = AnimElem = 1,= 2
value = 3010,0

[State 3010, 1]
type = Explod
trigger1 = AnimElem = 1,= 2
anim = f101
pos = 25,-55
supermove = 1
sprpriority = -2

[State 3010, 1]
type = Explod
trigger1 = AnimElem = 1,= 6
anim = f100
pos = 25,-55
supermove = 1
sprpriority = 5

[State 3010, 1]
type = Width
trigger1 = (AnimElem = 16,>= 0 && AnimElem = 24,< 0)
value = 60 ;50

[State 3010, 1]
type = posadd
trigger1 = AnimElem = 19
x = 65

[State 3010, 1]
type = posadd
trigger1 = AnimElem = 24
x = 85

[State 3010, 2]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
damage    = 100
animtype = Heavy
getpower = 50
givepower = 15
guardflag =
hitflag = MAF
pausetime = 30,30
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-75
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.hittime  = 24
air.velocity = -3,-4.5

[State 3010, 2]
type = HitDef
trigger1 = AnimElem = 15
attr = S, HA
damage    = 100
animtype = Heavy
getpower = 50
givepower = 15
guardflag =
hitflag = MAF
pausetime = 30,30
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-75
hitsound = 5,4
guardsound = 6,1
ground.type = Low
ground.hittime  = 24
air.velocity = -3,-4.5

[State 3010, 2]
type = HitDef
trigger1 = AnimElem = 21
attr = S, HA
damage    = 105
animtype = diagup
getpower = 50
givepower = 15
guardflag =
hitflag = MAF
pausetime = 48,48
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-75
hitsound = S5,5
guardsound = 6,1
ground.type = Low
ground.hittime  = 24
ground.velocity = -6,-9
yaccel = .5
fall = 1
fall.recover = 0

[State 2500, 2]
type = ChangeState
trigger1 = power >= 2000
trigger1 = command = "kishin_y"
value = 3015

[State 2500, 2]
type = ChangeState
trigger1 = power >= 2000
trigger1 = command = "ranbu_y"
value = 3025

[State 811, 1]
type = EnvShake
trigger1 = movehit
time = 10
ampl = -6
ignorehitpause = 1

[State 1015, 1]
type = BGPalFX
trigger1 = movehit
add = 255,255,255
time = 3
ignorehitpause = 1

[State 1015, 1]
type = AssertSpecial
trigger1 = movehit
flag = noBG
flag2 = noFG

[State 811, 1]
type = movehitreset
trigger1 = movehit
ignorehitpause = 1

[State 3010, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ê^ÅEãSê_åÇLV-2
;--------------------------------
[Statedef 3015]
type = S
movetype = A
physics = S
anim = 3015
velset = 0
ctrl = 0
poweradd = -2000

[State 3000, 19]
type = Helper
triggerall = prevstateno = [1000,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 6000
stateno = 6000
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno = [1000,2999]
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 0,0,256
mul = 0,0,256
sinadd = 0,0,256,1
invertall = 0
color = 256

[State 3500, 9]
type = Helper
triggerall = prevstateno >= 3000
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 6100
stateno = 6100
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 3000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3015, 1]
type = superpause
trigger1 = AnimElem = 1,= 3
time = 30
movetime = 30
anim = -1
sound = f20,1

[State 3010, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3010,0

[State 3010, 1]
type = PlaySnd
trigger1 = AnimElem = 43
value = 3010,1

[State 3015, 1]
type = Explod
trigger1 = AnimElem = 2,= 1
anim = f103
pos = -10,-65
supermove = 1
sprpriority = -2

[State 3015, 1]
type = Explod
trigger1 = AnimElem = 2,= 5
anim = f102
pos = -10,-65
supermove = 1
sprpriority = 5

[State 3010, 1]
type = posadd
trigger1 = AnimElem = 18
x = 5

[State 3010, 1]
type = posadd
trigger1 = AnimElem = 57
x = 3

[State 3010, 2]
type = HitDef
trigger1 = AnimElem = 7 || AnimElem = 21 || AnimElem = 38
attr = S, HA
damage    = 80
animtype = Heavy
getpower = 50
givepower = 15
guardflag =
hitflag = MAF
pausetime = 30,30
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-75
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.hittime  = 24
air.velocity = -3,-4.5

[State 3010, 2]
type = HitDef
trigger1 = AnimElem = 15 || AnimElem = 30
attr = S, HA
damage    = 80
animtype = Heavy
getpower = 50
givepower = 15
guardflag =
hitflag = MAF
pausetime = 30,30
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-75
hitsound = 5,4
guardsound = 6,1
ground.type = Low
ground.hittime  = 24
air.velocity = -3,-4.5

[State 3010, 2]
type = HitDef
trigger1 = AnimElem = 39
attr = S, HA
damage    = 105
animtype = Up
getpower = 50
givepower = 15
guardflag =
hitflag = MAF
pausetime = 48,48
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-80
hitsound = S5,5
guardsound = 6,1
ground.type = Low
ground.hittime  = 24
ground.velocity = -5,-6.5
air.velocity = -5,-5.5
fall = 1
fall.recover = 0

[State 811, 1]
type = EnvShake
trigger1 = movehit
time = 10
ampl = -6
ignorehitpause = 1

[State 1015, 1]
type = BGPalFX
trigger1 = movehit
add = 255,255,255
time = 3
ignorehitpause = 1

[State 1015, 1]
type = AssertSpecial
trigger1 = movehit
flag = noBG
flag2 = noFG

[State 811, 1]
type = movehitreset
trigger1 = movehit
ignorehitpause = 1

[State 3015, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ó≥å’óêïëLV-1-1
;--------------------------------
[Statedef 3020]
type = S
movetype = A
physics = N
anim = 3020
velset = 0
ctrl = 0
poweradd = -1000

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
var(10) = 0

[state JorDamage3, var]
type = Varset
trigger1 = var(11) = 1
var(10) = 1

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(10) = 1

[State 3000, 19]
type = Helper
triggerall = prevstateno >= 1000
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 6000
stateno = 6000
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 0,0,256
mul = 0,0,256
sinadd = 0,0,256,1
invertall = 0
color = 256

[State 3020, 1]
type = superpause
trigger1 = AnimElem = 2
time = 30
movetime = 30
anim = -1
sound = S3000,0

[State 3020, 1]
type = Explod
trigger1 = AnimElem = 2
anim = f101
pos = 5,-80
supermove = 1
sprpriority = -2

[State 3020, 1]
type = Explod
trigger1 = AnimElem = 2,= 4
anim = f100
pos = 5,-80
supermove = 1
sprpriority = 5

[State 3020, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = f20,0

[State 3020, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3020,0

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3020,2

[State 3020, 1]
type = velset
trigger1 = AnimElem = 4
x = 8
y = -2

[State 3020, 1]
type = veladd
trigger1 = AnimElem = 4,> 0
y = .2

[State 3020, 1]
type = statetypeset
trigger1 = AnimElem = 4
value = A

[State 3020, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA
damage    = ifelse(var(10)=1,14,28),20
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
guard.pausetime = 12,12
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-75
hitsound = 5,0
guardsound = 6,1
ground.type = High
ground.hittime  = 24
air.velocity = -3,-4.5
p1stateno = 3022
p2stateno = 9020
kill = 0

[State 3020, 9]
type = ChangeState
trigger1 = (Pos Y >= 0 && Vel Y > 0) || moveguarded
value = 3021

;--------------------------------
; ó≥å’óêïëLV-1-2
;--------------------------------
[Statedef 3021]
type = S
movetype = I
physics = N
anim = 3021
velset = 4,0

[State 3020, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3020, 1]
type = velmul
trigger1 = AnimElem = 3,>= 0
x = .7

[State 3015, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ó≥å’óêïëLV-1ÅiÉqÉbÉgÅj-1
;--------------------------------
[Statedef 3022]
type = S
movetype = A
physics = N
anim = 3022
velset = 0,0

[State 3022, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3022, 1]
type = TargetBind
trigger1 = Time = 0
pos = 50,0

[State 3022, 1]
type = hitadd
trigger1 = AnimElem = 3 || AnimElem = 8 || AnimElem = 16 || AnimElem = 21 || AnimElem = 25 || AnimElem = 31 || AnimElem = 37 || AnimElem = 42
value = 1

[State 3022, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 3 || AnimElem = 8 || AnimElem = 16 || AnimElem = 21 || AnimElem = 25 || AnimElem = 31 || AnimElem = 37 || AnimElem = 42
value = ifelse(var(10)=1,-14,-28)
kill = 0

[State 1051, 1]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 21
value = f5,0

[State 1051, 1]
type = PlaySnd
trigger1 = AnimElem = 31
value = f5,1

[State 1051, 1]
type = PlaySnd
trigger1 = AnimElem = 8 || AnimElem = 25 || AnimElem = 37 || AnimElem = 42
value = f5,2

[State 1051, 1]
type = PlaySnd
trigger1 = AnimElem = 16
value = f5,3

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 3 || AnimElem = 8 || AnimElem = 16 || AnimElem = 21 || AnimElem = 25 || AnimElem = 31 || AnimElem = 37 || AnimElem = 42
anim = f3
pos = 40,-80
sprpriority = 5

[State 1015, 1]
type = BGPalFX
trigger1 = AnimElem = 3 || AnimElem = 8 || AnimElem = 16 || AnimElem = 21 || AnimElem = 25 || AnimElem = 31 || AnimElem = 37 || AnimElem = 42
add = 255,255,255
time = 3
ignorehitpause = 1

[State 1015, 1]
type = AssertSpecial
trigger1 = AnimElem = 3 || AnimElem = 8 || AnimElem = 16 || AnimElem = 21 || AnimElem = 25 || AnimElem = 31 || AnimElem = 37 || AnimElem = 42
flag = noBG
flag2 = noFG

[State 3022, 1]
type = StateTypeSet
trigger1 = AnimElem = 46,= 3
value = A

[State 3022, 1]
type = velset
trigger1 = AnimElem = 46,= 3
x = -7
y = -3

[State 3022, 1]
type = veladd
trigger1 = AnimElem = 46,> 3
y = .4

[State 3022, 9]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3023

;--------------------------------
; ó≥å’óêïëLV-1ÅiÉqÉbÉgÅj-2
;--------------------------------
[Statedef 3023]
type = S
movetype = A
physics = N
anim = 3023
velset = 0,0

[State 3023, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3023, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3020,1

[State 3023, 1]
type = PlaySnd
trigger1 = AnimElem = 3,= 1
value = 3000,2

[State 3023, 2]
type = Projectile
trigger1 = AnimElem = 3,= 1
attr = S, HP
damage    = ifelse(var(10)=1,24,48)
animtype = up
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 2,20
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-5.5
projanim = 6030
projhitanim = 6010
projremanim = 6010
projcancelanim = 6010
velocity = 9.5
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3023, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ó≥å’óêïëLV-1ÅiP2Åj-1
;--------------------------------
[Statedef 9020]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 9020, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9020

[State 9020, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 9021

;--------------------------------
; ó≥å’óêïëLV-1ÅiP2Åj-2
;--------------------------------
[Statedef 9021]
type = S
movetype = H
physics = S

[State 9021, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5300

[State 9021, 2]
type = ChangeState
trigger1 = Time = 180
value = 0

;--------------------------------
; ó≥å’óêïëLV-2-1
;--------------------------------
[Statedef 3025]
type = S
movetype = A
physics = N
anim = 3020
velset = 0
ctrl = 0
poweradd = -2000

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
var(10) = 0

[state JorDamage3, var]
type = Varset
trigger1 = var(11) = 1
var(10) = 1

[state JorDamage3, var]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(10) = 1

[State 3000, 19]
type = Helper
triggerall = prevstateno = [1000,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 6000
stateno = 6000
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno = [1000,2999]
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 0,0,256
mul = 0,0,256
sinadd = 0,0,256,1
invertall = 0
color = 256

[State 3500, 9]
type = Helper
triggerall = prevstateno >= 3000
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 6100
stateno = 6100
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 3000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3025, 1]
type = superpause
trigger1 = AnimElem = 2
time = 30
movetime = 30
anim = -1
sound = f20,1

[State 3025, 1]
type = Explod
trigger1 = AnimElem = 2
anim = f103
pos = 5,-80
supermove = 1
sprpriority = -2

[State 3025, 1]
type = Explod
trigger1 = AnimElem = 2,= 4
anim = f102
pos = 5,-80
supermove = 1
sprpriority = 5

[State 3025, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = f20,1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3020,2

[State 3025, 1]
type = velset
trigger1 = AnimElem = 4
x = 8
y = -2

[State 3025, 1]
type = veladd
trigger1 = AnimElem = 4,> 0
y = .2

[State 3025, 1]
type = statetypeset
trigger1 = AnimElem = 4
value = A

[State 3025, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HA
damage    = ifelse(var(10)=1,15,30),40
animtype = Heavy
getpower = 50
givepower = 15
guardflag = MA
hitflag = MAF
guard.pausetime = 12,12
sparkno = 2
guard.sparkno = 42
sparkxy = -10,-75
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.hittime  = 24
air.velocity = -3,-4.5
p1stateno = 3027
p2stateno = 9025
kill = 0

[State 3025, 9]
type = ChangeState
trigger1 = (Pos Y >= 0 && Vel Y > 0) || moveguarded
value = 3026

;--------------------------------
; ó≥å’óêïëLV-2-2
;--------------------------------
[Statedef 3026]
type = S
movetype = I
physics = N
anim = 3021
velset = 5,0

[State 3026, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3026, 1]
type = velmul
trigger1 = AnimElem = 3,>= 0
x = .8

[State 3026, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ó≥å’óêïëLV-2ÅiÉqÉbÉgÅj-1
;--------------------------------
[Statedef 3027]
type = S
movetype = A
physics = N
anim = 3027
velset = 0,0

[State 3027, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3027, 1]
type = TargetBind
trigger1 = Time = 0
pos = 50,0

[State 3027, 1]
type = hitadd
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 24 || AnimElem = 37 || AnimElem = 40 || AnimElem = 46 || AnimElem = 55 || AnimElem = 64
value = 1

[State 3027, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 24 || AnimElem = 37 || AnimElem = 40 || AnimElem = 46 || AnimElem = 55 || AnimElem = 64
value = ifelse(var(10)=1,-10,-20)
kill = 0

[State 1051, 1]
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 7
value = f5,0

[State 1051, 1]
type = PlaySnd
trigger1 = AnimElem = 46
value = f5,1

[State 1051, 1]
type = PlaySnd
trigger1 = AnimElem = 12 || AnimElem = 17 || AnimElem = 24 || AnimElem = 37 || AnimElem = 40 || AnimElem = 64
value = f5,2

[State 1051, 1]
type = PlaySnd
trigger1 = AnimElem = 55
value = f5,3

[State 1015, 1]
type = Explod
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 24 || AnimElem = 37 || AnimElem = 40 || AnimElem = 46 || AnimElem = 55 || AnimElem = 64
anim = f3
pos = 40,-80
sprpriority = 5

[State 1015, 1]
type = BGPalFX
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 24 || AnimElem = 37 || AnimElem = 40 || AnimElem = 46 || AnimElem = 55 || AnimElem = 64
add = 255,255,255
time = 3
ignorehitpause = 1

[State 1015, 1]
type = AssertSpecial
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 24 || AnimElem = 37 || AnimElem = 40 || AnimElem = 46 || AnimElem = 55 || AnimElem = 64
flag = noBG
flag2 = noFG


[State 3027, 1]
type = StateTypeSet
trigger1 = AnimElem = 69,= 3
value = A

[State 3027, 1]
type = velset
trigger1 = AnimElem = 69,= 3
x = -7
y = -3

[State 3027, 1]
type = veladd
trigger1 = AnimElem = 69,> 3
y = .4

[State 3027, 9]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3028

;--------------------------------
; ó≥å’óêïëLV-2ÅiÉqÉbÉgÅj-2
;--------------------------------
[Statedef 3028]
type = S
movetype = A
physics = N
anim = 3028
velset = 0,0

[State 3028, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3028, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3020,1

[State 3005, 1]
type = PlaySnd
trigger1 = AnimElem = 3,= 1 || AnimElem = 9,= 1 || AnimElem = 15,= 1
value = 3000,2

[State 3028, 2]
type = Projectile
trigger1 = AnimElem = 3,= 1 || AnimElem = 9,= 1
attr = S, HP
damage    = ifelse(var(10)=1,45,90),100
animtype = Heavy
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 2,20
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 24
guard.velocity = -8
air.velocity = -4.5,-5.5
projanim = 6040
projhitanim = 6041
projremanim = 6041
projcancelanim = 6041
velocity = 8
offset = 60,-75
kill = 0
projid = 3000

[State 3028, 2]
type = Projectile
trigger1 = AnimElem = 15,= 1
attr = S, HP
damage    = ifelse(var(10)=1,45,90),100
animtype = up
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 2,20
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-5.5
projanim = 6040
projhitanim = 6041
projremanim = 6041
projcancelanim = 6041
velocity = 8
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3028, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
;Ultra Escondida
;--------------------------------
[Statedef 4000]
type = S
movetype = A
physics = N
anim = 4000
velset = 0,0
poweradd = -2000
ctrl = 0

[State 3300, ÉÅÉhÉå?îwåiå¯â ]
type = Explod
trigger1 = animelem = 3
anim = f9000
ID = 9000
sprpriority = -12
postype = back
pos = 0,0;-5,-3
vel = 0, 0
removetime = 140
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State 3025, 1]
type = superpause
trigger1 = AnimElem = 2
time = 30
movetime = 30
anim = -1

[State 3025, 1]
type = Explod
trigger1 = AnimElem = 2
anim = f105
pos = 5,-79
supermove = 1
sprpriority = -2

[State 3025, 1]
type = Explod
trigger1 = AnimElem = 2;,= 4
anim = f104
pos = 5,-79
supermove = 1
sprpriority = 5

[State 3025, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = f20,2

[State 3028, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3028, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3020,1

[State 3005, 1]
type = PlaySnd
trigger1 = AnimElem = 11,= 1 || AnimElem = 17,= 1 || AnimElem = 23,= 1
value = 3000,2

[State 3028, 2]
type = Projectile
trigger1 = AnimElem = 11,= 1 || AnimElem = 17,= 1
attr = S, HP
damage    = 40,5
animtype = Heavy
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 2,20
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 24
guard.velocity = -8
air.velocity = -4.5,-5.5
projhits = 5
projanim = 6040
projhitanim = 6041
projremanim = 6041
projcancelanim = 6041
velocity = 8
offset = 60,-75
kill = 0
projid = 3000

[State 3028, 2]
type = Projectile
trigger1 = AnimElem = 23,= 1
attr = S, HP
damage    = 40,5
animtype = up
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 2,20
sparkno = 2
guard.sparkno = 42
sparkxy = 20,0
hitsound = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -4.5,-6
air.velocity = -4.5,-5.5
projhits = 5
projanim = 6040
projhitanim = 6041
projremanim = 6041
projcancelanim = 6041
velocity = 8
offset = 60,-75
fall = 1
fall.recover = 0
projid = 3000

[State 3028, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
; ó≥å’óêïëLV-2ÅiP2Åj-1
;--------------------------------
[Statedef 9025]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 9025, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9025

[State 9025, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 9021

;--------------------------------------------------
;Dizzy Animation
;--------------------------------------------------
; Dizzy Mode(shaking)
[Statedef 5300]
type    = A
movetype= H
physics = N

[State 5300, 1]
type = Varset
trigger1 = time = 0
var(56) = 0

[State 5300, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5301

[State 5300, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

[State 5300, 4]
type = Nothitby
trigger1 = 1
value = SCA

;-----------------------------
; Dizzy Mode(fall through air)
[Statedef 5301]
type    = A
movetype= H
physics = N
anim = 5051 ;5050

[State 5301, 1]
type = Veladd
trigger1 = Time = 0
trigger1 = vel y = 0
y = -12.5

[State 5302, 2.1]
type = Changeanim
trigger1 = time = 13
value = 5061

[State 5301, 1];reduce speed if vel x is too large
type = Velmul
trigger1 = vel x < -3 ;5
x = .5 ;95

[State 5301, 2]
type = Gravity
trigger1 = 1
x = .5

[State 5301, 3] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5302

[State 5301, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 5301, 5]
type = pause
trigger1 = timemod = 2,0
trigger1 = time <= 10
time = 1

;-------------------
; Dizzy Mode(Bounce)
[Statedef 5302]
type    = L
movetype= H
physics = N

[State 5302, 1.1]
type = Velset
trigger1 = time = 0
y = -5.5

[State 5302, 1.2]
type = Velmul
trigger1 = timemod = 2,3
trigger1 = time > 3
x = .98

[State 5302, 2.1]
type = Changeanim
trigger1 = time < 3
value = 5161

[State 5302, 3.1]
type = posset
trigger1 = time = 0
y = 20

[State 5302, 4]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 5302, 5]
type = GameMakeAnim
trigger1 = Time = 0
value = 60
pos = 0, -20
under = 1

[State 5302, 6]
type = posfreeze
trigger1 = time < 3

[State 5302, 7]
type = Gravity
trigger1 = time > 3

[State 5302, 8]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5303

;---------------------
; Dizzy Mode(lie down)
[Statedef 5303]
type    = L
movetype= H
physics = N
velset = 0,0
anim = 5111

[State 5303, 2]
type = posset
trigger1 = time = 0
y = 0

[State 5303, 6]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 5303, 7]
type = GameMakeAnim
trigger1 = Time = 0
value = 60
pos = 0, 0
under = 1

[State 5303, 3.1] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 5303, 3.2] ;If alive
type = ChangeState
triggerall = alive
trigger1 = Time = 25
value = 5304

[State 5303, 16]
type = Nothitby
trigger1 = 1
value = SCA

;------------------
; Dizzy Mode(getup)
[Statedef 5304]
type    = L
movetype= I
physics = N
anim = 5121
velset = 0,0

[State 5304, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5304, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 5305
ctrl = 0

; Dizzy Mode
[Statedef 5305]
type    = S
movetype= H
physics = S
anim = 5300
ctrl = 0

[State 5305, 1];back to normal
type = ChangeState
trigger1 = Time = 300
value = 0
ctrl = 1

[State 5305, 4]
type = Playsnd
trigger1 = Time = 0
value = f5300,0

;============================================================================
; Override common states (use same number to override) :
;============================================================================

;--------------------------------
; É_ÉbÉVÉÖ
;--------------------------------
[Statedef 100]
type = S
movetype = I
physics = N
anim = 100
velset = 0

[State 100, 1]
type = velset
trigger1 = AnimElem = 2
x = const(velocity.run.fwd.x)

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = nowalk

[State 100, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100,0
channel = 2
loop = 1

[State 100, 9]
type = ChangeState
trigger1 = command != "holdfwd"
value = 0

;--------------------------------
; ÉoÉbÉNÉ_ÉbÉVÉÖ
;--------------------------------
[Statedef 105]
type = A
movetype = I
physics = N
anim = 105
velset = const(velocity.run.back.x),const(velocity.run.back.y)
ctrl = 0

[State 105, 4]
type = veladd
trigger1 = 1
y = const(movement.yaccel)

[State 100, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 105,0

[State 105, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 106

;--------------------------------
; ÉoÉbÉNÉ_ÉbÉVÉÖÅiíÖínÅj
;--------------------------------
[Statedef 106]
type = S
movetype = I
physics = S
anim = 106
velset = 0,0

[State 106, 9]
type = posset
trigger1 = Time = 0
y = 0

[State 106, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;============================================================================
; States that are always executed (use statedef -2)
;============================================================================

[Statedef -2]

; îeâ§éäçÇåùÉqÉbÉg
[State -2, 1]
type = EnvShake
trigger1 = projhit3000 = 1
time = 10
ampl = -6

[State -2, 1]
type = BGPalFX
trigger1 = projhit3000 = 1
add = 255,255,255
time = 2

[State -2, 1]
type = AssertSpecial
trigger1 = projhit3000 = 1
flag = noBG
flag = noFG

[state -2, nojuglelimit]
type = null ;varset
trigger1 = enemy,movetype != H
trigger1 = enemy,statetype != A
;trigger1 = enemy,stateno = 5110 || enemy,stateno = 5111 || enemy,stateno = 40
v = 5
value = 0

[state -2, nojuglelimit]
type = null ;varset
trigger1 = enemy,movetype = H
trigger1 = enemy,statetype = A
;triggerall = stateno <= 1000
;trigger1 = enemy,stateno = 5030 
v = 5
value = 1

[State -2, 2.1]
type = Varset
trigger1 = var(11) = 1 && p2movetype != H
var(11) = 0
ignorehitpause = 1

[State -2, NoJuggle]
type = AssertSpecial
trigger1 = var(11) = 1 && p2movetype = H
flag = NOJuggleCheck

[State -2, JorAirDamage]
type = AttackMulSet
trigger1 = var(11) = 1 && p2movetype = H
value = 0.5

[State -2, JorAirDamage]
type = null ;AttackMulSet
trigger1 = var(11) = 0
value = 1

[State 1000, EnvShake]
type = EnvShake
trigger1 = stateno = 1051 && power = powermax
time = 10
freq = 90
ampl = -4
phase = 90

[State -2, Stp Chrge Snd]
type = StopSnd
trigger1 = MoveType = H
channel = 3

[state -2, nojuglelimit]
trigger1 = 1
type = null ;DisplayToClipboard
ignorehitpause = 1
text = "The value of var(5) is %d,"
params = var(5)

;-----------------------------
; Counter Code por Jor
;-----------------------------

[state 1]
type = varset
trigger1 = enemy,stateno = [1000,4999]
trigger1 = enemy,movetype = A
v = 55
value = 1
ignorehitpause = 1

[State 2]
type = EnvColor
trigger1 = movehit
trigger1 = var(55) = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 255,0,0
under = 2

[State -2,bonus]
type = poweradd
trigger1 = var(55) = 1
trigger1 = MoveHit
value = 250
ignorehitpause = 1

[state 3]
type = varset
trigger1 = enemy,movetype != A
v = 55
value = 0
ignorehitpause = 1


;============================================================================
; States that are executed when in self's state file (use statedef -3)
;============================================================================

[Statedef -3]

; ã¸Ç›à⁄çséûÇÃë¨ìxê›íË
[State -3, 1]
type = velset
trigger1 = time = 1 && stateno = 10
x = 0

; ÉWÉÉÉìÉvâπ
[State -3, 2]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 50
value = 50,0

;-------------------------------------jorouch-----------------
[State 5000, ouch]
type = PlaySnd
triggerall = Random < 500
triggerall = stateno = 5000 && time = 1
trigger1 = GetHitVar(animtype) = 0
value = 0,22
ignorehitpause = 1
persistent = 0

[State 5000, ouch]
type = PlaySnd
triggerall = Random < 500
triggerall = stateno = 5000 && time = 1
trigger1 = GetHitVar(animtype) = [1,2]
value = 0,23
ignorehitpause = 1
persistent = 0

[State 5000, ouch]
type = PlaySnd
triggerall = Random < 500
triggerall = stateno = 5000 && time = 1
trigger1 = GetHitVar(animtype) = [3,5]
value = 0,24
ignorehitpause = 1
persistent = 0

;-------------------------------------jorouch-------------------

; íÖínâπ
[State -3, 3]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 || stateno = 106 || stateno = 1011 || stateno = 1016 || stateno = 3023 || stateno = 3028
value = 52,0

; âπÇÃí‚é~
[State -3, 4]
type = StopSnd
trigger1 = stateno != 100 && stateno != 1040 && stateno != 1045
channel = 2

[State -3, Stp Chrge Snd]
type = StopSnd
trigger1 = MoveType = H
channel = 2
value = f21,0

; éOêÌÇÃå^ÉGÉtÉFÉNÉgçÌèú
[State -3, 5]
type = RemoveExplod
trigger1 = stateno != 850
id = 311

;--------------------------
; Dizzy mode system
;--------------------------

; Var(56) for counting dizzy mode
[State -3, 2.1]
type = Varadd
trigger1 = var(56) > 0 && movetype != H
var(56) = -1
ignorehitpause = 1

[State -3, 2.2];add for lights attacks
type = Varadd
triggerall = Time = 1
triggerall = UniqHitCount <= 1
;triggerall = Movehit
triggerall = GetHitVar(hitcount) <= 3
trigger1 = stateno = 5001
trigger1 = anim = 5000
trigger2 = stateno = 5001
trigger2 = anim = 5010
trigger3 = stateno = 5011
trigger3 = anim = 5020 
var(56) = 100
ignorehitpause = 1

[State -3, 2.3];add for medium attacks
type = Varadd
triggerall = Time = 1
triggerall = UniqHitCount <= 1
;triggerall = Movehit
triggerall = GetHitVar(hitcount) <= 3
trigger1 = stateno = 5001
trigger1 = anim = 5001
trigger2 = stateno = 5001
trigger2 = anim = 5011
trigger3 = stateno = 5011
trigger3 = anim = 5021 
trigger4 = stateno = 5020
trigger4 = anim = 5010
var(56) = 150
ignorehitpause = 1

[State -3, 2.4];add for heavy attacks
type = Varadd
triggerall = Time = 1
triggerall = UniqHitCount <= 1
;triggerall = Movehit
triggerall = GetHitVar(hitcount) <= 3
trigger1 = stateno = 5001
trigger1 = anim = 5002
trigger2 = stateno = 5001
trigger2 = anim = 5012
trigger3 = stateno = 5011
trigger3 = anim = 5022 
trigger4 = stateno = 5070
trigger4 = anim = 5070
trigger5 = anim = 5030
trigger5 = stateno = 5000
trigger6 = anim = 5052
trigger6 = stateno = 5000
trigger7 = anim = 5002
trigger7 = stateno = 5020
trigger8 = anim = 5012
trigger8 = stateno = 5020
var(56) = 200
ignorehitpause = 1

[State -3, 2.2];add for knockdown attacks
type = Varadd
triggerall = Time = 1
triggerall = Movehit
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 3
trigger1 = stateno = 5020
trigger1 = anim = 5030
trigger2 = stateno = 5000
trigger2 = anim = 5012
trigger3 = stateno = 5011
trigger3 = anim = 5020 
trigger4 = stateno = 5000
trigger4 = anim = 5011
var(56) = 220
ignorehitpause = 1

[State -3, 2.5]
type = ChangeState
trigger1 = var(56) >= 1200
value = 5300
ctrl = 0
ignorehitpause = 1

[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "JorNoqueo = %d, JorDamage = %d "
params = var(56),var(11)

; Jor Damage
[State -3, JorDamage5]
type = AttackMulSet
triggerall = prevstateno >=200
trigger1 = stateno = 1010
trigger2 = stateno = 1015
trigger3 = stateno = 1425 ;1020
trigger4 = stateno = 2100 ;1025
trigger5 = stateno = 2150
trigger6 = stateno = 2200
trigger7 = stateno = 2250
trigger8 = stateno = 2350 ;1000
trigger9 = stateno = 2300 ;1005
trigger10 = stateno = 3015
trigger11 = stateno = 1400
trigger12 = stateno = 3000 
trigger13 = stateno = 3002 
trigger14 = stateno = 3005 
trigger15 = stateno = 3010 
trigger16 = stateno = 3030
value = .5

[State -3, JorDamage5]
type = AttackMulSet
trigger1 = stateno < 200
trigger2 = var(11) = 1 && p2movetype != H
value = 1
