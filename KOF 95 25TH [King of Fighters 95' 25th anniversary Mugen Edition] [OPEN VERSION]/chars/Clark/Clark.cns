; Clark's constants and states.
===============================

; var(12) - used in JorDamage
; Var(11) - used in Armor Mode
; Var(10) - used in Counter Mode
; Var(9) - used in AI modification
; Var(8) - used in jump
; Var(7) - used in dizzy mode
; Var(6) - used in guard crush mode
; Var(1)~(5) - used for various counters

; Voice channels:
; 0 - Clark
; 1 ~ 4 - Sounds effects
; 20 - Running effects

[Data]
life = 1000          ;Amount of life to start with
attack = 100         ;100% attack power (more is stronger)
defence = 100        ;100% defensive power (more is stronger)
fall.defence_up = 50 ;Def goes up by 50% everytime player is hit on ground
liedown.time = 50    ;Time player takes before getting up from HIT_LIEDOWN
airjuggle = 15       ;Can do 15 points of juggling
sparkno = 1      ;Default spark number
guard.sparkno = 41;Default guard spark number
KO.echo = 0          ;1 to enable echo on KO
volume = 50         ;Volume offset (negative for softer)

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 23     ;Player width (back, ground)
ground.front = 24    ;Player width (front, ground)
air.back = 20        ;Player width (back, air)
air.front = 21       ;Player width (front, air)
z.width = 3          ;Player width (into and out)
attack.width = 4,4   ;Default attack width: back, front
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
head.pos = -9, -93   ;Approximate position of head
mid.pos = -5, -63    ;Approximate position of midsection

[Velocity]
walk.fwd  = 2.6      ;Walk forward
walk.back = -2.5     ;Walk backward
run.fwd  = 5.3 ;4.8       ;Run forward (x, y)  - if y<0, player will hop
run.back = -6.5,-4.2 ;Run backward (x, y) - if y=0, player will run
jump.neu = 0,-9    ;Neutral jumping velocity (x, y)
jump.back = -2.9  ;Jump back Speed (x, y)
jump.fwd = 2.9       ;Jump forward Speed (x, y)
runjump.fwd = 4,-9        ;.
runjump.back = -4,-9
;airjump.neu = 0,-9        ;.
;airjump.back = -2.55,-9   ;Air jump speeds (opt)
;airjump.fwd = 2.5,-9      ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .55 ;.535        ;Vertical acceleration
stand.friction = .82  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;=============
; Intro & Wins
;=============
; INTRO
[Statedef 191]
type = S
physics = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 1] ; Intro vs Ralf
type = Changestate
triggerall = 1
trigger1 = P2Name = "Ralf Jones"
trigger2 = P4Name = "Ralf Jones"
trigger3 = P2Name = "Ralf"
trigger4 = P4Name = "Ralf"
trigger5 = P2Name = "Ralf99"
trigger6 = P4Name = "Ralf99"
value = 193
ctrl = 0

[State 191, 2] ; Intro vs Whip & Leona
type = Changestate
triggerall = 1
trigger1 = P2Name = "Whip"
trigger2 = P4Name = "Whip"
trigger3 = P2Name = "Leona"
trigger4 = P4Name = "Leona"
trigger5 = P2Name = "Heidern"
trigger6 = P4Name = "Heidern"
value = 194
ctrl = 0

[State 191, 3] ; Alternate Intro
type = Changestate
trigger1 = Random < 500;50% of chances
trigger1 = time = 0
value = 192
ctrl = 0

[State 191, 4] ;Intro not yet over
type = AssertSpecial
trigger1 = Time = [0,150]
flag = Intro

;---------------------------------------------------------------------------
; Alternate Intro
[Statedef 192]
type = S
physics = S
ctrl = 0
anim = 192
velset = 0,0

[State 192, 1] ;Intro not yet over
type = AssertSpecial
trigger1 = Time = [0,110]
flag = Intro

[State 192, 2]
type = Playsnd
trigger1 = time = 20
value = 0,15
volume = 80
channel = 0

;---------------------------------------------------------------------------
; Intro vs Ralf
[Statedef 193]
type = S
physics = S
ctrl = 0
anim = 193
velset = 0,0

[State 193, 1] ;Intro not yet over
type = AssertSpecial
trigger1 = Time = [0,270]
flag = Intro

[State 193, 2] ;ok brother!
type = Playsnd
trigger1 = animelem = 26
value = 0,14
volume = 80
channel = 0

;---------------------------------------------------------------------------
; Intro vs Whip & Leona
[Statedef 194]
type = S
physics = S
ctrl = 0
anim = 194
velset = 0,0

[State 194, 1] ;Intro not yet over
type = AssertSpecial
trigger1 = Time = [0,170]
flag = Intro

;---------------------------------------------------------------------------
; WIN
[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = 1
v = 1
range = 0,100

[State 180, 2] ;Choose win1
type = VarSet
trigger1 = Command = "hold_x"
var(1) = 0

[State 180, 3] ;Choose win2
type = VarSet
trigger1 = Command = "hold_y"
var(1) = 33

[State 180, 4] ;Choose win3
type = VarSet
trigger1 = Command = "hold_z"
var(1) = 66

[State 180, 2]
type = ChangeState
trigger1 = Var(1) < 30
value = 181

[State 180, 3]
type = ChangeState
trigger1 = Var(1) = [33,65]
value = 182

[State 180, 4]
type = ChangeState
trigger1 = 1;var(1) >= 66
value = 183

[State 180, 5];kill bug for active AI
type = statetypeset
trigger1 = pos y > 0
value = A

:--------------------------------------------------------------------------
; WIN 1
[Statedef 181]
type = S
physics = S
ctrl = 0
anim = 181
velset = 0,0,0

[State 181, 1]
type = PlaySnd
trigger1 = Time = 8
value = 0,28
volume = 80
channel = 0

;---------------------------------------------------------------------------
; WIN 2
[Statedef 182]
type = S
physics = S
ctrl = 0
anim = 182
velset = 0,0,0

[State 182, 1]
type = PlaySnd
trigger1 = time = 6
value = 0,29
volume = -50
channel = 0

;---------------------------------------------------------------------------
; WIN 3
[Statedef 183]
type = S
physics = S
ctrl = 0
anim = 183
velset = 0,0,0

[State 183, 1]
type = PlaySnd
trigger1 = time = 10
value = 0,30 
volume = 80
channel = 0

;===============
; Basic Controls
;===============
; RUN_FWD
[Statedef 100]
type    = S
physics = S
anim = 100
ctrl = 0
velset = 0

[State 100, 1]
type = VelSet
trigger1 = AnimElem = 2, < 0
x = 0

[State 100, 2]
type = VelSet
trigger1 = AnimElem = 2, >= 0
x = const(velocity.run.fwd.x)

; Play sound when running
[State 100, 3.1]
type = PlaySnd
trigger1 = Timemod = 71,0;start playing from time = 0,then play again for every 71 more ticks
value = 0,5
channel = 20
volume = 80

[State 100, 3.2]
type = CtrlSet
trigger1 = AnimElem = 5
value = 1

;Stop channel 20's sound when button fwd is release
[State 100, 4.1]
type = StopSnd
triggerall = var(9) != 1;AI cannot access
trigger1 = AnimElem = 5, >= 0
trigger1 = command != "holdfwd"
channel = 20;running snd

[State 100, 4.2]
type = ChangeState
triggerall = var(9) != 1;AI cannot access
trigger1 = AnimElem = 5, >= 0
trigger1 = command != "holdfwd"
value = 0

[State 100, 4.3]
type = ChangeState
trigger1 = var(9) = 1;Only AI can access
trigger1 = AnimElem = 5, >= 0
trigger1 = P2bodydist X <= 40;near player
value = 0

;Stop channel 20's sound when button fwd is release
[State 100, 4.4]
type = StopSnd
trigger1 = var(9) = 1;Only AI can access
trigger1 = AnimElem = 5, >= 0
trigger1 = P2bodydist X <= 40;near player
channel = 20;running snd

[State 100, 5]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

;---------------------------------------------------------------------------
; STEP_BACK
[Statedef 105]
type    = A
physics = A
ctrl = 0;step back does not have control
anim = 105
ctrl = 0

[State 105, 1]
type = VelSet
trigger1 = time = 3
x = const(velocity.run.back.x);use back constant value
y = const(velocity.run.back.y);use back constant value

[State 105, 1.1]
type = PlaySnd
trigger1 = time = 0
value = 0,4
volume = -95
persistent = 0 ;make sure it play only once each time

[State 105, 2]
type = VelMul
trigger1 = Time > 10
x = .92

[State 105, 3]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106
ctrl = 0

;---------------------------------------------------------------------------
; STEP_BACK (land)
[Statedef 106]
type    = S
physics = S
anim = 47;use jump land animation
velset = 0,0

[State 106, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 1]
type = ctrlset
trigger1 = Time = 1
value = 1

[State 106, 2]
type = ChangeState
trigger1 = Time = 4
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Slide Fwd
[Statedef 250]
type    = S
physics = S
anim = 250
ctrl = 0
velset = 0

[State 250, 1]
type = Playerpush
trigger1 = Time >= 0
value = 0

[State 250, 2];start to move fwd
type = Velset
trigger1 = Time >= 6
trigger1 = Time < 24
x = 5.5

[State 250, 3];stop the move
type = Velset
trigger1 = Time = 24
x = 0

[State 250, 4] ; Shadows
type = Afterimage
trigger1 = Time = 5
time = 8
length = 8
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2

[State 250, 5]
type = Hitby
trigger1 = Time >= 0
value = SCA, NT,ST,HT

[State 250, 6]
type = Playsnd
trigger1 = Time = 0
value = 0,12
volume = 80
channel = 0

[State 250, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Dodge Back
[Statedef 260]
type    = A
physics = N
anim = 260
ctrl = 0
velset = 0

[State 260, 1]
type = VelSet
trigger1 = time = 3
x = -7
y = -2.6

[State 260, 2]
type = VelMul
trigger1 = Time > 10
x = .92

[State 260, 3]
type = Hitby
trigger1 = Time >= 0
value = SCA, NT,ST,HT

[State 260, 4] ;Gravity
type = Gravity
Trigger1 = Time >= 3

[State 260, 5] ; Shadows
type = Afterimage
trigger1 = Time = 3
time = 7
length = 9
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 3

[State 260, 6]
type = Playsnd
trigger1 = Time = 3
value = 0,12
volume = 80
channel = 0

[State 260, 7]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 261

[State 260, 8]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 260, 9.1]
type = Varset
trigger1 = command = "UAB"
var(1) = 11

[State 260, 9.2]
type = Varset
trigger1 = command = "runthree"
var(1) = 12

[State 260, 9.3]
type = Varset
trigger1 = command = "backbreak"
var(1) = 1

[State 260, 9.4]
type = Varset
trigger1 = command = "frank"
var(1) = 2

[State 260, 9.5]
type = Varset
trigger1 = command = "gatling_1"
var(1) = 3

[State 260, 9.6]
type = Varset
trigger1 = command = "gatling_2"
var(1) = 4

[State 260, 9.7]
type = Varset
trigger1 = command = "napalm"
var(1) = 5

[State 260, 9.8]
type = Varset
trigger1 = command = "mount_1"
var(1) = 6

[State 260, 9.9]
type = Varset
trigger1 = command = "mount_2"
var(1) = 7

[State 260, 9.10]
type = Varset
trigger1 = command = "r.launcher"
var(1) = 8

[State 260, 9.11]
type = Varset
trigger1 = command = "f.launcher"
var(1) = 9

;---------------------------------------------------------------------------
; Dodge Back(land)
[Statedef 261]
type    = S
physics = S
anim = 261
ctrl = 0
velset = 0,0

[State 261, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 261, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 261, 3]
type = ChangeState
trigger1 = animtime = 0
value = 262
ctrl = 0

[State 261, 4.11]
type = Varset
trigger1 = command = "UAB"
var(1) = 11

[State 261, 4.12]
type = ChangeState
triggerall = time >= 3
triggerall = time < 8
triggerall = var(1) = 11
trigger1 = life > 200
trigger1 = var(10) = 0
trigger1 = var(11) = 0
trigger1 = power >= 1000
trigger2 = var(10) != 0
value = 3000;Ultra Argentina BackBreaker 
ctrl = 0

[State 261, 4.13]
type = ChangeState
triggerall = time >= 3
triggerall = time < 8
triggerall = var(1) = 11
trigger1 = life <= 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
value = 4000;Ultra Argentina BackBreaker(Max) 
ctrl = 0

[State 261, 4.21]
type = Varset
trigger1 = command = "runthree"
var(1) = 12

[State 261, 4.22]
type = ChangeState
triggerall = time >= 3
triggerall = time < 8
triggerall = var(1) = 12
triggerall = palno <= 6
trigger1 = life > 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
trigger2 = var(10) != 0
value = 3100;Running Three
ctrl = 0

[State 261, 4.22]
type = ChangeState
triggerall = time >= 3
triggerall = time < 8
triggerall = var(1) = 12
triggerall = palno <= 6
trigger1 = life <= 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
trigger2 = palno > 6
trigger2 = power >= 1000
trigger2 = var(10) = 0
trigger2 = var(11) = 0
value = 4100;Running Three(Max)
ctrl = 0

[State 261, 4.31]
type = Varset
trigger1 = command = "backbreak"
var(1) = 1

[State 261, 4.32]
type = ChangeState
trigger1 = var(1) = 1
trigger1 = time >= 3
trigger1 = time < 8
value = 800;Super Argentina BackBreaker 
ctrl = 0

[State 261, 4.41]
type = Varset
trigger1 = command = "frank"
var(1) = 2

[State 261, 4.42]
type = ChangeState
trigger1 = var(1) = 2
trigger1 = time >= 3
trigger1 = time < 8
value = 1000;Frankensteiner
ctrl = 0

[State 261, 4.51]
type = Varset
trigger1 = command = "gatling_1"
var(1) = 3

[State 261, 4.52]
type = ChangeState
trigger1 = var(1) = 3
trigger1 = time >= 3
trigger1 = time < 8
value = 1100;Gatling attack - Light
ctrl = 0

[State 261, 4.61]
type = Varset
trigger1 = command = "gatling_2"
var(1) = 4

[State 261, 4.62]
type = ChangeState
trigger1 = var(1) = 4
trigger1 = time >= 3
trigger1 = time < 8
value = 1101;Gatling attack - Heavy
ctrl = 0

[State 261, 4.71]
type = Varset
trigger1 = command = "napalm"
var(1) = 5

[State 261, 4.72]
type = ChangeState
trigger1 = var(1) = 5
trigger1 = time >= 3
trigger1 = time < 8
value = 1200;Napalm Stretch
ctrl = 0

[State 261, 4.81]
type = Varset
trigger1 = command = "mount_1"
var(1) = 6

[State 261, 4.82]
type = ChangeState
trigger1 = var(1) = 6
trigger1 = time >= 3
trigger1 = time < 8
value = 1300;Mount Tackle Short
ctrl = 0

[State 261, 4.91]
type = Varset
trigger1 = command = "mount_2"
var(1) = 7

[State 261, 4.92]
type = ChangeState
trigger1 = var(1) = 7
trigger1 = time >= 3
trigger1 = time < 8
value = 1310;Mount Tackle Long
ctrl = 0

[State 261, 4.101]
type = Varset
trigger1 = command = "r.launcher"
var(1) = 8

[State 261, 4.102]
type = ChangeState
trigger1 = var(1) = 8
trigger1 = time >= 3
trigger1 = time < 8
value = 1700;Running Launcher short
ctrl = 0

[State 261, 4.111]
type = Varset
trigger1 = command = "f.launcher"
var(1) = 9

[State 261, 4.112]
type = ChangeState
trigger1 = var(1) = 9
trigger1 = time >= 3
trigger1 = time < 8
value = 1703;Running Launcher long
ctrl = 0

;---------------------------------------------------------------------------
; Dodge Back(return fwd)
[Statedef 262]
type    = A
physics = N
anim = 262
ctrl = 0
velset = 8.5,-2.6

[State 262, 1] ;Gravity
type = Gravity
Trigger1 = Time >= 0

[State 262, 2]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 262, 3.1]
type = Varset
trigger1 = command = "UAB"
var(1) = 11

[State 262, 3.2]
type = Varset
trigger1 = command = "runthree"
var(1) = 12

[State 262, 3.3]
type = Varset
trigger1 = command = "backbreak"
var(1) = 1

[State 262, 3.4]
type = Varset
trigger1 = command = "frank"
var(1) = 2

[State 262, 3.5]
type = Varset
trigger1 = command = "gatling_1"
var(1) = 3

[State 262, 3.6]
type = Varset
trigger1 = command = "gatling_2"
var(1) = 4

[State 262, 3.7]
type = Varset
trigger1 = command = "napalm"
var(1) = 5

[State 262, 3.8]
type = Varset
trigger1 = command = "mount_1"
var(1) = 6

[State 262, 3.9]
type = Varset
trigger1 = command = "mount_2"
var(1) = 7

[State 262, 3.10]
type = Varset
trigger1 = command = "r.launcher"
var(1) = 8

[State 262, 3.11]
type = Varset
trigger1 = command = "f.launcher"
var(1) = 9

[State 262, 4]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 263

;---------------------------------------------------------------------------
; Dodge Back(return fwd land)
[Statedef 263]
type    = S
physics = S
anim = 263
ctrl = 0
velset = 0,0

[State 263, 1]
type = PosSet
trigger1 = Time = 0
trigger2 = animtime = 0
y = 0

[State 263, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 263, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 263, 4.11]
type = Varset
trigger1 = command = "UAB"
var(1) = 11

[State 263, 4.12]
type = ChangeState
triggerall = var(1) = 11
triggerall = time >= 0
trigger1 = life > 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
trigger2 = var(10) != 0
value = 3000;Ultra Argentina BackBreaker 
ctrl = 0

[State 263, 4.13]
type = ChangeState
triggerall = var(1) = 11
triggerall = time >= 0
trigger1 = life <= 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
value = 4000;Ultra Argentina BackBreaker(Max) 
ctrl = 0

[State 263, 4.21]
type = Varset
trigger1 = command = "runthree"
var(1) = 12

[State 263, 4.22]
type = ChangeState
triggerall = var(1) = 12
triggerall = time >= 0
triggerall = palno <= 6
trigger1 = life > 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
trigger2 = var(10) != 0
value = 3100;Running Three
ctrl = 0

[State 263, 4.23]
type = ChangeState
triggerall = var(1) = 12
triggerall = time >= 0
trigger1 = palno <= 6
trigger1 = life <= 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
trigger2 = palno > 6
trigger2 = power >= 1000
trigger2 = var(10) = 0
trigger2 = var(11) = 0
value = 4100;Running Three(Max)
ctrl = 0

[State 263, 4.31]
type = Varset
trigger1 = command = "backbreak"
var(1) = 1

[State 263, 4.32]
type = ChangeState
trigger1 = var(1) = 1
trigger1 = time >= 0
value = 800;Super Argentina BackBreaker 
ctrl = 0

[State 263, 4.41]
type = Varset
trigger1 = command = "frank"
var(1) = 2

[State 263, 4.42]
type = ChangeState
trigger1 = var(1) = 2
trigger1 = time >= 0
value = 1000;Frankensteiner
ctrl = 0

[State 263, 4.51]
type = Varset
trigger1 = command = "gatling_1"
var(1) = 3

[State 263, 4.52]
type = ChangeState
trigger1 = var(1) = 3
trigger1 = time >= 0
value = 1100;Gatling attack - Light
ctrl = 0

[State 263, 4.61]
type = Varset
trigger1 = command = "gatling_2"
var(1) = 4

[State 263, 4.62]
type = ChangeState
trigger1 = var(1) = 4
trigger1 = time >= 0
value = 1101;Gatling attack - Heavy
ctrl = 0

[State 263, 4.71]
type = Varset
trigger1 = command = "napalm"
var(1) = 5

[State 263, 4.72]
type = ChangeState
trigger1 = var(1) = 5
trigger1 = time >= 0
value = 1200;Napalm Stretch
ctrl = 0

[State 261, 4.81]
type = Varset
trigger1 = command = "mount_1"
var(1) = 6

[State 261, 4.82]
type = ChangeState
trigger1 = var(1) = 6
trigger1 = time >= 0
value = 1300;Mount Tackle Short
ctrl = 0

[State 261, 4.91]
type = Varset
trigger1 = command = "mount_2"
var(1) = 7

[State 261, 4.92]
type = ChangeState
trigger1 = var(1) = 7
trigger1 = time >= 0
value = 1310;Mount Tackle Long
ctrl = 0

[State 261, 4.101]
type = Varset
trigger1 = command = "r.launcher"
var(1) = 8

[State 261, 4.112]
type = ChangeState
trigger1 = var(1) = 8
trigger1 = time >= 0
value = 1700;Running Launcher short
ctrl = 0

[State 261, 4.111]
type = Varset
trigger1 = command = "f.launcher"
var(1) = 9

[State 261, 4.102]
type = ChangeState
trigger1 = var(1) = 9
trigger1 = time >= 0
value = 1703;Running Launcher long
ctrl = 0

;---------------------------------------------------------------------------
; Guard Cancel Fwd
[Statedef 255]
type    = S
physics = S
movetype= A
anim = 255
ctrl = 0
poweradd = -1000

[State 255, 1]
type = Pause
trigger1 = Time = 0
time = 3
movetime = 3

[State 255, 2]
type = Envcolor
trigger1 = Time = 0
value = 248,248,248
time = 3
under = 1

[State 255, 3]
type = Explod
trigger1 = Time = 3
anim = 8000
pos = 4,-73
ontop = 1
ownpal = 1

[State 255, 4] ; Shadows
type = Afterimage
trigger1 = Time = 8
time = 9
length = 9
FrameGap = 3

[State 255, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 255, 6]
type = VelSet
trigger1 = Time >= 8
trigger1 = Time <= 24
x = 5.8

[State 255, 7]
type = PosSet
trigger1 = Time = 0
y = 0

[State 255, 8]
type = HitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 255, 9]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 255, 10]
type = playerpush
trigger1 = 1
value = 0

[State 255, 11]
type = Playsnd
trigger1 = Time = 3
value = 0,12
volume = 80
channel = 0

;---------------------------------------------------------------------------
; Guard Cancel Back
[Statedef 265]
type    = S
physics = S
movetype= A
anim = 265
ctrl = 0
poweradd = -1000

[State 265, 1]
type = Pause
trigger1 = Time = 0
time = 3
movetime = 3

[State 265, 2]
type = Envcolor
trigger1 = Time = 0
value = 248,248,248
time = 3
under = 1

[State 265, 3]
type = Explod
trigger1 = Time = 3
anim = 8000
pos = 4,-73
ontop = 1
ownpal = 1

[State 250, 4] ; Shadows
type = Afterimage
trigger1 = Time = 8
time = 9
length = 9
FrameGap = 3

[State 265, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 265, 6]
type = VelSet
trigger1 = Time >= 8
trigger1 = Time <= 24
x = -5.8

[State 265, 7]
type = PosSet
trigger1 = Time = 0
y = 0

[State 265, 8]
type = HitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 265, 9]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 265, 10]
type = playerpush
trigger1 = 1
value = 0

[State 265, 11]
type = Playsnd
trigger1 = Time = 3
value = 0,12
volume = 80
channel = 0

;------------------------------------------------------------------------
; Roll Back
;------------------------------------------------------------------------

[Statedef 266]
type    = S
physics = S
movetype= A
anim = 265
ctrl = 0

[State 265, 3]
type = Explod
trigger1 = Time = 3
anim = 8000
pos = 4,-73
ontop = 1
ownpal = 1

[State 250, 4] ; Shadows
type = Afterimage
trigger1 = Time = 8
time = 9
length = 9
FrameGap = 3

[State 265, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 265, 6]
type = VelSet
trigger1 = Time >= 8
trigger1 = Time <= 24
x = -5.8

[State 265, 7]
type = PosSet
trigger1 = Time = 0
y = 0

[State 265, 8]
type = HitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 265, 10]
type = playerpush
trigger1 = 1
value = 0

[State 265, 11]
type = Playsnd
trigger1 = Time = 3
value = 0,12
volume = 80
channel = 0

[State 265, 9]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type    = S
physics = S
movetype= I
anim = 195
ctrl = 0
velset = 0,0
facep2 = 1

[State 195, 1]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 195, 2]
type = Playsnd
trigger1 = Time = 0
value = 0,11
volume = 80
channel = 0

[State 195, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Galactica Phantom(Striker Ralf)
[Statedef 9401]
type    = A
physics = N
movetype= A
anim = 9401
ctrl = 0
poweradd = -1000
velset = 0,0

[State 9401, 1]
type = Velset
trigger1 = time = 0
x = 14
y = 9

[State 9401, 2];flame effect
type = Explod
trigger1 = Time = 1
trigger2 = Time = 3
trigger3 = Time = 7
anim = 8900
pos = 14,-55
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 9401, 3]
type = Hitdef
trigger1 = animelem = 1
attr = A, SA
hitflag = MAFD
guardflag = M
animtype = Back
priority = 4,Hit
damage = 40, 5
pausetime = 4, 6
guard.pausetime = 4, 6
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -26
hitsound = 5,2
guardsound = 6,0
ground.type = Trip
air.type = Trip
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -3.5, -6
guard.velocity = -12
air.velocity = -3.5, -5
sprpriority = 3
givepower = 100, 60
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0

[State 9401, 4]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
stateno = 9410
time = -1
forceair = 1

[State 9401, 5]
type = Playsnd
trigger1 = time = 0
value = 0,59
volume = -80

[State 9401, 6]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 9402

;----------------------------------------------------
; Galactica Phantom(Striker Ralf) - Charging & launch
[Statedef 9402]
type    = S
physics = N
movetype= A
anim = 9402
ctrl = 0
velset = 0,0

[State 9402, 1]
type = Posset
trigger1 = time = 0
y = 0

[State 9402, 2.1]
type = SuperPause
trigger1 = Time = 19
anim = -1
time = 18
movetime = 18

[State 9402, 2.2]
type = Explod
trigger1 = Time = 21
anim = 8800
pos = -46,-74
postype = p1
supermove = 1
bindtime = 30
ontop = 0
ownpal = 1

[State 9402, 2.3]
type = Playsnd
trigger1 = time = 21
value = 0,55
volume = -80

[State 9402, 2.4]
type = Playsnd
trigger1 = time = 21
value = 0,58
volume = -80

[State 9402, 2.5]
type = Playsnd
trigger1 = animelem = 9
value = 0,19
volume = 80

[State 9402, 3.1]
type = posadd
trigger1 = animelem = 9
x = 30

[State 9402, 3.2]
type = velset
trigger1 = animelem = 9,=1
x = 50

[State 9402, 3.3]
type = velmul
trigger1 = time >= 61
trigger1 = time <= 79
x = .7

[State 9402, 3.4]
type = velset
trigger1 = time= 80
x = 0

[State 9402, 3.5]
type = posadd
trigger1 = animelem = 2
x = 15

[State 9402, 4];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 70
ampl = -6

[State 9402, 5]
type = Hitdef
trigger1 = animelem = 9
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Back
priority = 4,Hit
damage = 70, 8
pausetime = 45, 49
guard.pausetime = 45, 49
sparkno = 2
guard.sparkno = 42
sparkxy = 8, -84
hitsound = 5,4
guardsound = 6,0
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -12
ground.velocity = -1.5
air.velocity = -1.5
sprpriority = 3
p2stateno = 9420
p2getp1state = 1
givepower = 100, 60

[State 9402, 6]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
stateno = 9410
time = -1
forceair = 1

[State 9402, 7]
type = playerpush
trigger1 = 1
value = 1

[State 9402, 8]
type = ChangeState
trigger1 = animtime = 0
value = 9403

;--------------------------------------------
; Galactica Phantom(Striker Ralf) - Jump away
[Statedef 9403]
type    = A
physics = N
movetype= A
anim = 9403
ctrl = 0
velset = 6,-10

[State 9403, 1.2]
type = veladd
trigger1 = time >= 0
y = -1

[State 9403, 2.1];ground wave
type = Explod
trigger1 = p2stateno = 9421
anim = 8100
pos = 22,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 9403, 2.2];dust
type = Explod
trigger1 = p2stateno = 9422
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 9403, 3.1]
type = Playsnd
trigger1 = time = 0
value = 0,3
volume = -80

[State 9403, 3.2]
type = Playsnd
trigger1 = p2stateno = 9421
value = 0,36
volume = -80
persistent = 0

[State 9403, 3.3]
type = Playsnd
trigger1 = p2stateno = 9422
value = 0,37
volume = -80
persistent = 0

[State 9403, 4]
type = Destroyself
trigger1 = frontedgedist <= 0
trigger1 = p2stateno = 9422
trigger2 = time >= 25

;--------------
; Ralf get hurt
[Statedef 9410]
type    = A
physics = N
movetype= H
anim = 9410
ctrl = 0
velset = -6,-7

[State 9410, 1];gravity
type = veladd
trigger1 = 1
y = .5

[State 9410, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 9410, 3]
type = changestate
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 9411

;-----------------------
; Ralf get hurt - Bounce
[Statedef 9411]
type    = A
physics = N
movetype= H
anim = 9411
ctrl = 0
velset = -3,-4

[State 9411, 1]
type = posfreeze
trigger1 = time <= 1

[State 9411, 2.1];gravity
type = veladd
trigger1 = time >= 2
y = .5

[State 9411, 2.2]
type = posset
trigger1 = time = 0
y = 0

[State 9411, 2.3]
type = posset
trigger1 = time = 2
y = -10

[State 9411, 3]
type = Nothitby
trigger1 = 1
value = SCA

[State 9411, 4];ground wave
type = Explod
trigger1 = time = 0
anim = 8100
pos = 22,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 9411, 5]
type = Playsnd
trigger1 = time = 0
value = 0,36
volume = -80

[State 9411, 6]
type = changestate
trigger1 = time >= 3
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 9412

;------------------------
; Ralf get hurt - Liedown
[Statedef 9412]
type    = L
physics = N
movetype= H
anim = 9412
ctrl = 0
velset = 0,0

[State 9412, 1]
type = posset
trigger1 = time = 0
y = 0

[State 9412, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 9412, 3];dust
type = Explod
trigger1 = time = 0
anim = 8150
pos = -10,-8
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 9412, 4]
type = Playsnd
trigger1 = time = 0
value = 0,37
volume = -80

[State 9412, 5]
type = changestate
trigger1 = time = 25
value = 9413

;----------------------
; Ralf get hurt - Getup
[Statedef 9413]
type    = L
physics = N
movetype= H
anim = 9413
ctrl = 0
velset = 0,0

[State 9413, 1]
type = Nothitby
trigger1 = 1
value = SCA

[State 9413, 2]
type = changestate
trigger1 = animtime = 0
value = 9403

;--------------------------------------
; Hit by Galactica Phantom(Striker Ralf)
[Statedef 9420]
type    = S
physics = N
movetype= H
ctrl = 0

[State 9420, 1]
type = changeanim2
trigger1 = time >= 0
trigger1 = time <= 48
value = 9420

[State 9420, 2]
type = Posfreeze
trigger1 = time >= 0
trigger1 = time <= 48

[State 9420, 3]
type = Nothitby
trigger1 = time >= 49
value = SCA

[State 9420, 4.1];gravity
type = veladd
trigger1 = time >= 49
y = .5

[State 9420, 4.2]
type = posadd
trigger1 = animelem = 5
y = -30

[State 9420, 4.3]
type = Velset
trigger1 = time = 0
y = -14
x = 0

[State 9420, 5];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 70
ampl = 6

[State 9420, 6]
type = statetypeset
trigger1 = p2bodydist y != 0
value = A

[State 9420, 7]
type = changestate
trigger1 = pos y >= -30
trigger1 = vel y > 0
value = 9421

;--------------------------------------------------
; Hit by Galactica Phantom(Striker Ralf) - bouncing
[Statedef 9421]
type    = L
physics = N
movetype= H
ctrl = 0

[State 9421, 1]
type = Changeanim2
trigger1 = time = 0
value = 3025

[State 9421, 2]
type = Veladd
trigger1 = 1
y = .53

[State 9421, 3.1]
type = posset
trigger1 = time = 0
y = 0

[State 9421, 3.2]
type = veladd
trigger1 = vel x <= 0
x = .2

[State 9421, 3.3]
type = Velset
trigger1 = time = 0
y = -5.5
x = 0

[State 9421, 4]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 9422

;----------------------------------------------------
; Hit by Galactica Phantom(Striker Ralf) - lying down
[Statedef 9422]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 9422, 1]
type = Changeanim2
trigger1 = time = 0
value = 3026

[State 9422, 2]
type = posset
trigger1 = time = 0
y = 0

[State 9422, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 9422, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Attacks Program code
;---------------------------------------------------------------------------
;
; *******************
; * Hitdef Template *
; *******************
;[State XXX, X]
;type = Hitdef
;trigger1 = trigger = value
;attr = hit_attribute
;hitflag = hit_flags
;guardflag = hit_flags
;affectteam = team_type
;animtype = anim_type
;air.animtype = anim_type
;fall.animtype = anim_type
;priority = hit_prior (int), hit_type (string)
;damage = hit_damage, guard_damage (int)
;pausetime = p1_pausetime, p2_shaketime (int)
;guard.pausetime = p1_pausetime, p2_shaketime (int)
;sparkno = action_no (int)
;guard.sparkno = action_no (int)
;sparkxy = spark_x, spark_y (int)
;hitsound = snd_grp, snd_item (int)
;guardsound = snd_grp, snd_item (int)
;ground.type = attack_type
;air.type = attack_type
;ground.slidetime = slide_time (int)
;guard.slidetime = slide_time (int)
;ground.hittime = hit_time (int)
;guard.hittime = hit_time (int)
;air.hittime = hit_time (int)
;guard.ctrltime = ctrl_time (int)
;guard.dist = x_dist (int)
;yaccel = accel (float)
;ground.velocity = x_velocity, y_velocity (float)
;guard.velocity = x_velocity (float)
;air.velocity = x_velocity, y_velocity (float)
;airguard.velocity = x_velocity, y_velocity (float)
;ground.cornerpush.veloff = x_velocity (float)
;air.cornerpush.veloff = x_velocity (float)
;down.cornerpush.veloff = x_velocity (float)
;guard.cornerpush.veloff = x_velocity (float)
;airguard.cornerpush.veloff = x_velocity (float)
;airguard.ctrltime = ctrl_time (int)
;air.juggle = juggle_points (int)
;mindist = x_pos, y_pos (int)
;maxdist = x_pos, y_pos (int)
;snap = x_pos, y_pos (int)
;sprpriority = drawing_priority (int)
;p1facing = facing (int)
;p1getp2facing = facing (int)
;p2facing = facing (int)
;p1stateno = state_no (int)
;p2stateno = state_no (int)
;p2getp1state = value (int)
;forcestand = value (int)
;fall = value (int)
;fall.xvelocity = x_velocity (float)
;fall.yvelocity = y_velocity (float)
;fall.recover = value (int)
;fall.recovertime = recover_time (int)
;fall.damage = damage_amt (int)
;air.fall = value (int)
;down.velocity = x_velocity, y_velocity (float)
;down.hittime = hit_time (int)
;down.bounce = value (int)
;id = id_number (int)
;chainID = id_number (int)
;nochainID = nochain_1, nochain_2 (int)
;hitonce = hitonce_flag (boolean)
;kill = kill_flag (boolean)
;numhits = hit_count (int)
;getpower = p1power, p1gpower (int)
;givepower = p2power, p2gpower (int)
;palfx.time = palfx_time (int)
;palfx.mul = r1, g1, b1 (int)
;palfx.add = r2, g2, b2 (int)

;===============================================================================
;Power Charge (start)
;===============================================================================

[Statedef 310]
type = S
movetype = I
physics = S
anim = 310
velset = 0
ctrl = 0

[State 301, snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200,0
channel = 0

[State 301, snd]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 9
value = 600,0
volume = -50
channel = 1

[State 301, snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = f21,0
channel = 2

[State 705, 2]
type = Explod
trigger1 = Time = 17
anim = f130
ID = 311
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
removeongethit = 1
removetime = -1

[State 735, 2]
type = PowerAdd
trigger1 = Time >= 1
value = 10

[State 735, 1]
type = ChangeState
trigger1 = command != "hold_z"
trigger2 = command != "hold_y"
value = 311

[State 735, 2]
type = ChangeState
trigger1 = Power = Powermax
value = 311

; Power up (end)
[Statedef 311]
type = S
movetype = I
physics = S
anim = 311

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 311

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 2

[State 740, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;=============
; Basic Throws
;=============
; Nageppanashi German(Throw 1)
[Statedef 2000]
type    = S
physics = S
movetype= A
anim = 2000
ctrl = 0
velset = 0,0
juggle = 15
facep2 = 1

[State 2000, 1]
type = Nothitby
trigger1 = 1
value = SCA

[State 2000, 2]
type = Hitdef
trigger1 = Time = 0
attr = S, NT
Hitflag = M-
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 2001
p2stateno = 2020
p2getp1state = 1
hitonce = 1
numhits = 0
getpower = 200
givepower = 100

[State 2000, 3];back to walking action 
type = ChangeState
trigger1 = time = 1
value = 20
ctrl = 1

;---------------------------------------
; Nageppanashi German(Throw 1) - Succeed
[Statedef 2001]
type    = S
physics = N
movetype= A
anim = 2001
ctrl = 0
velset = 0,0

[State 2001, 1.1]
type = Width
trigger1 = time >= 19
edge = 30,30

[State 2001, 1.2]
type = Width
trigger1 = time >= 0
trigger1 = time <= 18
edge = -20,30

[State 2001, 2.1]
type = sprpriority
trigger1 = time >= 19
value = 2

[State 2001, 2.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 18
value = 1

[State 2001, 3.1]
type = TargetBind
trigger1 = time = 0
pos = 45,0

[State 2001, 3.2]
type = TargetBind
trigger1 = time >= 19
trigger1 = time <= 26
pos = -35,-69

[State 2001, 3.3]
type = TargetBind
trigger1 = time >= 27
trigger1 = time <= 43
pos = -27,-59

[State 2001, 3.4]
type = TargetBind
trigger1 = time >= 44
trigger1 = time <= 48
pos = -24,-58

[State 2001, 3.5]
type = TargetBind
trigger1 = time >= 49
trigger1 = time <= 62
pos = -26,-58

[State 2001, 3.6]
type = TargetBind
trigger1 = time >= 63
trigger1 = time <= 69
pos = -19,-61

[State 2001, 3.7]
type = TargetBind
trigger1 = time >= 70
trigger1 = time <= 74
pos = -6,-61

[State 2001, 3.8]
type = TargetBind
trigger1 = time >= 75
trigger1 = time <= 78
pos = 25,-76

[State 2001, 4.1]
type = Posadd
trigger1 = time = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
x = 15

[State 2001, 4.2]
type = Posadd
trigger1 = animelem = 12
x = 23

[State 2001, 5.1];normal grab spark
type = Explod
trigger1 = animelem = 6
anim = 8250
pos = -35,-81
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 2001, 5.2];ground wave
type = Explod
trigger1 = animelem = 14
anim = 8100
pos = 0,0
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 2001, 5.3];ground wave
type = Explod
trigger1 = p2stateno = 2021
trigger2 = p2stateno = 2024
anim = 8100
pos = 22,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 2001, 5.4];dust
type = Explod
trigger1 = p2stateno = 2022
trigger2 = p2stateno = 2025
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 2001, 6.1]
type = Playsnd
trigger1 = animelem = 6
value = 0,54
volume = -80

[State 2001, 6.2]
type = PlaySnd
trigger1 = animelem = 11
value = 0,17
channel = 0
volume = 80

[State 2001, 6.3]
type = Playsnd
trigger1 = animelem = 14
value = 0,37
volume = -80

[State 2001, 6.4]
type = Playsnd
trigger1 = p2stateno = 2021
trigger2 = p2stateno = 2024
value = 0,36
volume = -80
persistent = 0

[State 2001, 6.5]
type = Playsnd
trigger1 = p2stateno = 2022
trigger2 = p2stateno = 2025
value = 0,37
volume = -80
persistent = 0

[State 2001, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------
; Throw by Nageppanashi German(Throw 1)
[Statedef 2020]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2020, 1]
type = Changeanim2
trigger1 = time = 0
value = 2020

[State 2020, 2.1]
type = sprpriority
trigger1 = time >= 19
value = 1

[State 2020, 2.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 18
value = 2

[State 2020, 3]
type = Playerpush
trigger1 = time >= 0
trigger1 = time <= 18
value = 0

[State 2020, 4]
type = posfreeze
trigger1 = time >= 0
trigger1 = time <= 18

[State 2020, 5.1]
type = Velset
trigger1 = time = 79
x = -15
y = -7

[State 2020, 5.2];gravity
type = Veladd
trigger1 = time >= 79
y = .5

[State 2020, 5.2];reduce speed
type = Veladd
trigger1 = time >= 79
trigger1 = vel x < -2
x = .5

[State 2020, 6]
type = lifeadd
trigger1 = time = 79
value = -120
;absolute = 1

[State 2020, 7]
type = Width
trigger1 = time <= 79
value = -30,-30

[State 2020, 8];Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = Command = "dodge";can recover near ground but not mid-air
trigger2 = Command = "recovery"
value = 5200

[State 2020, 9.1]
type = Changestate
trigger1 = time = 79
trigger1 = !SelfAnimExist(5111)
value = 2023

[State 2020, 9.2]
type = ChangeState
trigger1 = time >= 80
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 2021

;-------------------------------------------------
; Throw by Nageppanashi German(Throw 1) - bouncing
[Statedef 2021]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2021, 1.1]
type = Changeanim
trigger1 = time = 0
value = 5111

[State 2021, 1.2]
type = Changeanim2
trigger1 = time = 3
value = 2021

[State 2021, 2.1]
type = posset
trigger1 = time = 0
y = 0

[State 2021, 2.2]
type = posset
trigger1 = time = 3
y = -10

[State 2020, 2.3]
type = Velset
trigger1 = time = 3
x = -3
y = -3

[State 2021, 2.4];gravity
type = Veladd
trigger1 = time >= 3
y = .5

[State 2021, 3]
type = ChangeState
trigger1 = time >= 4
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 2022

;---------------------------------------------------
; Throw by Nageppanashi German(Throw 1) - lying down
[Statedef 2022]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2022, 1]
type = Changeanim
trigger1 = time = 0
value = 5111

[State 2022, 2]
type = posset
trigger1 = time = 0
y = 0

[State 2022, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 2022, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;-----------------------------------------------
; Throw by Nageppanashi German(Throw 1) - flying
[Statedef 2023]
type    = A
physics = N
movetype= H
ctrl = 0

[State 2023, 1]
type = Changeanim2
trigger1 = time = 0
value = 2023

[State 2023, 2.2];gravity
type = Veladd
trigger1 = time >= 0
y = .5

[State 2023, 2.2];reduce speed
type = Veladd
trigger1 = time >= 0
trigger1 = vel x < -2
x = .5

[State 2023, 3];Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = Command = "dodge";can recover near ground but not mid-air
trigger2 = Command = "recovery"
value = 5200

[State 2023, 4]
type = ChangeState
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 2024

;---------------------------------------------------
; Throw by Nageppanashi German(Throw 1) - bouncing 2
[Statedef 2024]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2024, 1.1]
type = Changeanim2
trigger1 = time = 0
value = 2025

[State 2024, 1.2]
type = Changeanim2
trigger1 = time = 3
value = 2024

[State 2024, 2.1]
type = posset
trigger1 = time = 0
y = 0

[State 2024, 2.2]
type = posset
trigger1 = time = 3
y = -10

[State 2024, 2.3]
type = Velset
trigger1 = time = 3
x = -3
y = -3

[State 2024, 2.4];gravity
type = Veladd
trigger1 = time >= 3
y = .5

[State 2024, 3]
type = ChangeState
trigger1 = time >= 4
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 2025

;-----------------------------------------------------
; Throw by Nageppanashi German(Throw 1) - lying down 2
[Statedef 2025]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2025, 1]
type = Changeanim2
trigger1 = time = 0
value = 2025

[State 2025, 2]
type = posset
trigger1 = time = 0
y = 0

[State 2025, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 2025, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Fisherman Buster(Throw 2)
[Statedef 2100]
type    = S
physics = S
movetype= A
anim = 2000
ctrl = 0
velset = 0,0
juggle = 15
facep2 = 1

[State 2100, 1]
type = Nothitby
trigger1 = 1
value = SCA

[State 2100, 2]
type = Hitdef
trigger1 = Time = 0
attr = S, NT
Hitflag = M-
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 2101
p2stateno = 2120
p2getp1state = 1
hitonce = 1
numhits = 0
getpower = 200
givepower = 100

[State 2100, 3];back to walking action 
type = ChangeState
trigger1 = time = 1
value = 20
ctrl = 1

;------------------------------------
; Fisherman Buster(Throw 2) - Succeed
[Statedef 2101]
type    = S
physics = N
movetype= A
anim = 2100
ctrl = 0
velset = 0,0

[State 2101, 1.1]
type = Width
trigger1 = time <= 76
edge = 30,30

[State 2101, 1.2]
type = Width
trigger1 = time >= 77
edge = 0,20

[State 2101, 2.1]
type = sprpriority
trigger1 = time >= 3
trigger1 = time <= 19
value = 3

[State 2101, 2.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 2
trigger1 = time >= 20
value = 2

[State 2101, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 2
pos = 49,0

[State 2101, 3.2]
type = TargetBind
trigger1 = time >= 3
trigger1 = time <= 12
pos = 8,-61

[State 2101, 3.3]
type = TargetBind
trigger1 = time >= 13
trigger1 = time <= 19
pos = 30,-75

[State 2101, 3.4]
type = TargetBind
trigger1 = time >= 20
trigger1 = time <= 26
pos = 13,-94

[State 2101, 3.5]
type = TargetBind
trigger1 = time >= 27
trigger1 = time <= 33
pos = -9,-106

[State 2101, 3.6]
type = TargetBind
trigger1 = time >= 34
trigger1 = time <= 41
pos = -14,-107

[State 2101, 3.7]
type = TargetBind
trigger1 = time >= 42
trigger1 = time <= 48
pos = -16,-102

[State 2101, 3.8]
type = TargetBind
trigger1 = time >= 49
trigger1 = time <= 50
pos = -24,-91

[State 2101, 3.9]
type = TargetBind
trigger1 = time >= 51
trigger1 = time <= 52
pos = -19,-74

[State 2101, 3.10]
type = TargetBind
trigger1 = time >= 53
trigger1 = time <= 56
pos = -17,-2

[State 2101, 3.11]
type = TargetBind
trigger1 = time >= 57
trigger1 = time <= 65
pos = -28,-10

[State 2101, 3.12]
type = TargetBind
trigger1 = time = 66
pos = -41,-10

[State 2101, 4.1]
type = posadd
trigger1 = animelem = 14
x = -20

[State 2101, 4.2]
type = velset
trigger1 = animelem = 14
x = -5

[State 2101, 4.3]
type = velset
trigger1 = animelem = 16
x = 0

[State 2101, 5.1];normal grab spark
type = Explod
trigger1 = animelem = 2
anim = 8250
pos = 8,-61
postype = p1
bindtime = 1
sprpriority = 2
ownpal = 1

[State 2101, 5.2];ground wave
type = Explod
trigger1 = time = 57
anim = 8100
pos = 0,0
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 2101, 5.3];ground wave
type = Explod
trigger1 = p2stateno = 2121
anim = 8100
pos = 22,15
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 2101, 5.4];dust
type = Explod
trigger1 = p2stateno = 2121
anim = 8150
pos = -10,8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 2101, 6.1]
type = Playsnd
trigger1 = animelem = 2
value = 0,54
volume = -80

[State 2101, 6.2]
type = PlaySnd
trigger1 = animelem = 2
value = 0,16
channel = 0
volume = 80

[State 2101, 6.3]
type = Playsnd
trigger1 = animelem = 8
value = 0,32
channel = 0
volume = 80

[State 2101, 6.4]
type = Playsnd
trigger1 = time = 57
value = 0,36
volume = -80

[State 2101, 6.5]
type = Playsnd
trigger1 = p2stateno = 2121
value = 0,37
volume = -80
persistent = 0

[State 2101, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------
; Throw by Fisherman Buster(Throw 2)
[Statedef 2120]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2120, 1]
type = Changeanim2
trigger1 = time = 0
value = 2120

[State 2120, 2]
type = sprpriority
trigger1 = 1
value = 1

[State 2120, 3];adjust the camera
type = ScreenBound
trigger1 = time <= 67
value = 1

[State 2120, 4];shaking effect
type = Envshake
trigger1 = time = 57
time = 15
freq = 50
ampl = -3

[State 2120, 5.1]
type = Velset
trigger1 = time = 67
x = 5
y = -6

[State 2120, 5.2];gravity
type = Veladd
trigger1 = time >= 67
y = .5

[State 2120, 6]
type = lifeadd
trigger1 = time = 57
value = -120
;absolute = 1

[State 2120, 7]
type = Width
trigger1 = time <= 67
value = -30,-30

[State 2120, 9.2]
type = ChangeState
trigger1 = time >= 68
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 2121

;----------------------------------------------
; Throw by Fisherman Buster(Throw 2) - bouncing
[Statedef 2121]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 3,-3

[State 2121, 1.2]
type = Changeanim2
trigger1 = time = 0
value = 2121

[State 2121, 2.1]
type = posset
trigger1 = time = 0
y = -10

[State 2121, 2.4];gravity
type = Veladd
trigger1 = time >= 0
y = .5

[State 2121, 3]
type = ChangeState
trigger1 = time >= 1
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 2122

;------------------------------------------------
; Throw by Fisherman Buster(Throw 2) - lying down
[Statedef 2122]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2122, 1]
type = Changeanim2
trigger1 = time = 0
value = 2122

[State 2122, 2]
type = posset
trigger1 = time = 0
y = 0

[State 2122, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 2122, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Death Lake Drive(Air throw) Attempt
[Statedef 2200]
type    = A
physics = A
movetype= A
anim = 2200
ctrl = 0
juggle = 15
facep2 = 1

[State 2200, 1]
type = Nothitby
trigger1 = 1
value = SCA

[State 2200, 2]
type = Hitdef
trigger1 = Time = 0
attr = A, NT
Hitflag = A-
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 2201
p2stateno = 2220
p2getp1state = 1
hitonce = 1
numhits = 0
getpower = 200
givepower = 100

[State 2200, 3]
type = Ctrlset
trigger1 = time = 2
value = 1

;--------------------------------------
; Death Lake Drive(Air throw) - Succeed
[Statedef 2201]
type    = A
physics = N
movetype= A
anim = 2201
ctrl = 0
velset = 0,0

[State 2201, 1.1]
type = Width
trigger1 = time <= 20
edge = 20,20

[State 2201, 2.1]
type = sprpriority
trigger1 = time >= 15
value = 3

[State 2201, 2.2]
type = sprpriority
trigger1 = time >= 16
value = 2

[State 2201, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 15
pos = 6,-126

[State 2201, 3.2]
type = TargetBind
trigger1 = time >= 16
trigger1 = time <= 19
pos = 12,-126

[State 2201, 3.3]
type = TargetBind
trigger1 = time = 20
pos = 52,-87

[State 2201, 4.1];normal grab spark
type = Explod
trigger1 = time = 0
anim = 8250
pos = 6,-126
postype = p1
bindtime = 1
sprpriority = 2
ownpal = 1

[State 2201, 4.2];smash ground effect
type = Explod
trigger1 = p2stateno = 2221
trigger2 = p2stateno = 2223
anim = 8120
pos = 0,15
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 2201, 4]
type = Velset
trigger1 = time = 25
x = 3

[State 2201, 4]
type = Gravity
trigger1 = time >= 25

[State 2201, 6.1]
type = Playsnd
trigger1 = Time = 0
value = 0,54
volume = -80

[State 2201, 6.2]
type = Playsnd
trigger1 = Time = 20
value = 0,17
volume = 80
channel = 0

[State 2201, 6.2]
type = Playsnd
trigger1 = p2stateno = 2221
trigger2 = p2stateno = 2223
value = 0,36
volume = -80
persistent = 0

[State 2201, 4]
type = Changestate
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 2202

;-------------------------------------------
; Death Lake Drive(Air throw) - Reach ground
[Statedef 2202]
type    = S
physics = N
movetype= A
anim = 2202
ctrl = 0
velset = 0,0

[State 2202, 1]
type = Posset
trigger1 = time = 0
y = 0

[State 2202, 2];dust
type = Explod
trigger1 = p2stateno = 2222
trigger2 = p2stateno = 2224
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 2202, 3.1]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 2202, 3.2]
type = Playsnd
trigger1 = p2stateno = 2222
trigger2 = p2stateno = 2224
value = 0,37
volume = -80
persistent = 0

[State 2202, 4]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------
; Throw by Death Lake Drive(Air throw)
[Statedef 2220]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2220, 1]
type = Changeanim2
trigger1 = time = 0
value = 2220

[State 2220, 2]
type = sprpriority
trigger1 = 1
value = 1

[State 2220, 5.1]
type = Velset
trigger1 = time = 21
x = -6
y = 15

[State 2220, 7]
type = Width
trigger1 = time <= 20
value = -30,-30

[State 2220, 9.2]
type = ChangeState
trigger1 = time >= 21
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 2221

;----------------------------------------------------
; Throw by Death Lake Drive(Air throw) - Reach ground
[Statedef 2221]
type    = A
physics = N
movetype= H
ctrl = 0
velset = -1,-3

[State 2221, 1]
type = Changeanim2
trigger1 = time = 0
trigger1 = SelfAnimExist(5111)
value = 2221

[State 2221, 5.1]
type = Posset
trigger1 = time = 0
y = 0

[State 2221, 5.1]
type = Posadd
trigger1 = time = 1
y = -15

[State 2221, 5.1]
type = Posadd
trigger1 = time = 5
x = -20

[State 2221, 5.3];gravity
type = Veladd
trigger1 = time >= 1
y = .5

[State 2221, 5]
type = Posfreeze
trigger1 = time >= 0
trigger1 = time <= 1

[State 2221, 4];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 70
ampl = -5

[State 2221, 4]
type = Lifeadd
trigger1 = time = 0
value = -120
;absolute = 1

[State 2221, 9.1]
type = Changestate
trigger1 = time = 0
trigger1 = !SelfAnimExist(5111)
value = 2223

[State 2221, 9.2]
type = ChangeState
trigger1 = time >= 2
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 2222

;------------------------------------------------
; Throw by Fisherman Buster(Throw 2) - lying down
[Statedef 2222]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2222, 1]
type = Changeanim
trigger1 = time = 0
trigger1 = SelfAnimExist(5111)
value = 5111

[State 2222, 2]
type = posset
trigger1 = time = 0
y = 0

[State 2222, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 2222, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;----------------------------------------------
; Throw by Death Lake Drive(Air throw) - Bounce
[Statedef 2223]
type    = A
physics = N
movetype= H
ctrl = 0
velset = -2,-5

[State 2223, 1]
type = Changeanim2
trigger1 = time = 0
value = 2222

[State 2223, 5.1]
type = Posset
trigger1 = time = 0
y = 0

[State 2223, 5.1]
type = PosSet
trigger1 = time = 1
y = -10

[State 2223, 5.3];gravity
type = Veladd
trigger1 = time >= 1
y = .5

[State 2223, 5]
type = Posfreeze
trigger1 = time >= 0
trigger1 = time <= 1

[State 2223, 9.2]
type = ChangeState
trigger1 = time >= 2
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 2224

;--------------------------------------------------
; Throw by Fisherman Buster(Throw 2) - lying down 2
[Statedef 2224]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 2224, 1]
type = Changeanim2
trigger1 = time = 0
value = 2223

[State 2224, 2]
type = posset
trigger1 = time = 0
y = 0

[State 2224, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 2224, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;==============
; Basic Attacks
;==============
; Standing Light Punch
[Statedef 200]
type    = S
physics = S
movetype= A
anim = 200
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,16
channel = 0
volume = 80

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,18

[State 200, 3]
type = Hitdef
trigger1 = animelem = 3
attr = S, NA
hitflag = MA
guardflag = M
animtype = light
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 39, 0
pausetime = 12, 10
guard.pausetime = 12, 10
sparkno = 0
guard.sparkno = 40
sparkxy = -10, -95
hitsound = 5,0
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 150, 120
givepower = 75, 60

[State 200, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Punch
[Statedef 400]
type    = C
physics = C
movetype= A
anim = 400
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,16
channel = 0
volume = 80

[State 400, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,18

[State 400, 3]
type = Hitdef
trigger1 = animelem = 3
attr = C, NA
hitflag = MA
guardflag = M
animtype = light
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 40, 0
pausetime = 12, 10
guard.pausetime = 12, 10
sparkno = 0
guard.sparkno = 40
sparkxy = 0, -48
hitsound = 5,0
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 150, 120
givepower = 75, 60

[State 400, 4]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Light Punch
[Statedef 600]
type    = A
physics = A
movetype= A
anim = 600
ctrl = 0
juggle = 5

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,16
channel = 0
volume = 80

[State 600, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,18

[State 600, 3]
type = Hitdef
trigger1 = animelem = 2
attr = A, NA
hitflag = MA
guardflag = H
animtype = light
air.animtype = back
fall.animtype = Back
priority = 7,Hit
damage = 40, 0
pausetime = 12, 14
guard.pausetime = 12, 14
sparkno = 0
guard.sparkno = 40
sparkxy = 0, -67
hitsound = 5,0
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 150, 120
givepower = 75, 60

;---------------------------------------------------------------------------
; Standing Near Light Kick
[Statedef 210]
type    = S
physics = S
movetype= A
anim = 210
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,16
channel = 0
volume = 80

[State 210, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,18

[State 210, 3]
type = Hitdef
trigger1 = animelem = 2
attr = S, NA
hitflag = MA
guardflag = M
animtype = light
air.animtype = back
fall.animtype = back
priority = 7,Hit
damage = 40, 0
pausetime = 14, 12
guard.pausetime = 14, 12
sparkno = 0
guard.sparkno = 40
sparkxy = 10, -40
hitsound = 5,1
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 150, 120
givepower = 75, 60

[State 210, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Far Light Kick
[Statedef 211]
type    = S
physics = S
movetype= A
anim = 211
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 211, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,16
channel = 0
volume = 80

[State 211, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,18

[State 211, 3]
type = Hitdef
trigger1 = animelem = 2
attr = S, NA
hitflag = MA
guardflag = M
animtype = light
air.animtype = back
fall.animtype = back
priority = 7,Hit
damage = 41, 0
pausetime = 14, 12
guard.pausetime = 14, 12
sparkno = 0
guard.sparkno = 40
sparkxy = 8, -50
hitsound = 5,1
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 150, 120
givepower = 75, 60

[State 211, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Forward Light Kick
[Statedef 212]
type    = S
physics = S
movetype= A
anim = 212
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 212, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,17
channel = 0
volume = 80

[State 212, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 212, 3]
type = Hitdef
trigger1 = animelem = 5
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = ifelse(p2movetype=H,50,100), 0
pausetime = 15, 14
guard.pausetime = 15, 14
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -48
hitsound = 5,3
guardsound = 6,0
ground.type = Low
air.type = Trip
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = -18
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -18
sprpriority = 1
getpower = 200, 140
givepower = 100, 70

[State 212, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Kick
[Statedef 410]
type    = C
physics = C
movetype= A
anim = 410
ctrl = 0
velset = 0,0
juggle = 5
facep2 = 1

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,16
channel = 0
volume = 80

[State 410, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,18

[State 410, 3]
type = Hitdef
trigger1 = animelem = 2
attr = C, NA
hitflag = MA
guardflag = L
animtype = light
air.animtype = back
fall.animtype = back
priority = 7,Hit
damage = 33, 0
pausetime = 15, 12
guard.pausetime = 15, 12
sparkno = 0
guard.sparkno = 40
sparkxy = 10, -12
hitsound = 5,1
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 150, 120
givepower = 75, 60

[State 410, 4]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Stright Light Kick
[Statedef 610]
type    = A
physics = A
movetype= A
anim = 610
ctrl = 0
juggle = 5

[State 610, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,16
channel = 0
volume = 80

[State 610, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,18

[State 610, 3]
type = Hitdef
trigger1 = animelem = 2
attr = A, NA
hitflag = MA
guardflag = H
animtype = light
air.animtype = back
fall.animtype = back
priority = 7,Hit
damage = 55, 0
pausetime = 15, 12
guard.pausetime = 15, 12
sparkno = 0
guard.sparkno = 40
sparkxy = 0, -69
hitsound = 5,1
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 150, 120
givepower = 75, 60

;---------------------------------------------------------------------------
; Jumping Light Kick
[Statedef 611]
type    = A
physics = A
movetype= A
anim = 611
ctrl = 0
juggle = 5

[State 611, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,16
channel = 0
volume = 80

[State 611, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,18

[State 611, 3]
type = Hitdef
trigger1 = animelem = 2
attr = A, NA
hitflag = MA
guardflag = H
animtype = light
air.animtype = back
fall.animtype = back
priority = 7,Hit
damage = 40, 0
pausetime = 12, 14
guard.pausetime = 12, 14
sparkno = 0
guard.sparkno = 40
sparkxy = 0, -71
hitsound = 5,1
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 150, 120
givepower = 75, 60

;---------------------------------------------------------------------------
; Standing Near Strong Punch
[Statedef 220]
type    = S
physics = S
movetype= A
anim = 220
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 220, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,17
channel = 0
volume = 80

[State 220, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 220, 3]
type = Hitdef
trigger1 = animelem = 3
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 85
pausetime = 12, 20
guard.pausetime = 12, 20
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -88
hitsound = 5,2
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = 0
guard.velocity = 0
air.velocity = -3.5, -4
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
sprpriority = 1
getpower = 110, 70
givepower = 40, 35

[State 220, 4]
type = Hitdef
trigger1 = animelem = 4
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = ifelse(hitcount=1,10,80)
pausetime = 15, 15
guard.pausetime = 15, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -64
hitsound =5, 2
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -9
guard.velocity = -8.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -15
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
sprpriority = 1
getpower = 90, 66
givepower = 45, 33

[State 220, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Far Strong Punch
[Statedef 221]
type    = S
physics = S
movetype= A
anim = 221
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 221, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,17
channel = 0
volume = 80

[State 221, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 221, 3]
type = Hitdef
trigger1 = animelem = 3
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 100, 0
pausetime = 12, 15
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -75
hitsound = 5,2
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = -18
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -18
sprpriority = 1
getpower = 200, 140
givepower = 100, 70

[State 221, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Punch
[Statedef 420]
type    = C
physics = C
movetype= A
anim = 420
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 420, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,17
channel = 0
volume = 80

[State 420, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 420, 3]
type = Hitdef
trigger1 = animelem = 3
attr = C, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 90, 0
pausetime = 12, 15
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -49
hitsound = 5,2
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = -18
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -18
sprpriority = 1
getpower = 200, 140
givepower = 100, 70

[State 420, 4]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Strong Punch
[Statedef 620]
type    = A
physics = A
movetype= A
anim = 620
ctrl = 0
juggle = 10

[State 620, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,17
channel = 0
volume = 80

[State 620, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 620, 3]
type = Hitdef
trigger1 = animelem = 3
attr = A, NA
hitflag = MA
guardflag = H
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 90, 0
pausetime = 12, 15
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -98
hitsound = 5,2
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 200, 140
givepower = 100, 70

;---------------------------------------------------------------------------
; Standing Near Strong Kick
[Statedef 230]
type    = S
physics = S
movetype= A
anim = 230
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 230, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,17
channel = 0
volume = 80

[State 230, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 230, 3]
type = Hitdef
trigger1 = animelem = 7
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 90, 0
pausetime = 12, 15
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 2, -87
hitsound = 5,3
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.2
guard.velocity = -11.8
air.velocity = -3.5, -4
ground.cornerpush.veloff = -17
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -17
sprpriority = 1
getpower = 200, 140
givepower = 100, 70

[State 230, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Far Strong Kick
[Statedef 231]
type    = S
physics = S
movetype= A
anim = 231
ctrl = 0
velset = 0,0
juggle = 10
facep2 = 1

[State 231, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,17
channel = 0
volume = 80

[State 231, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 231, 3]
type = Hitdef
trigger1 = animelem = 6
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 100, 0
pausetime = 12, 15
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -94
hitsound = 5,3
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.2
guard.velocity = -11.8
air.velocity = -3.5, -4
ground.cornerpush.veloff = -17
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -17
sprpriority = 1
getpower = 200, 140
givepower = 100, 70

[State 231, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Kick
[Statedef 430]
type    = C
physics = C
movetype= A
anim = 430
ctrl = 0
velset = 0,0
juggle = 15
facep2 = 1

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,17
channel = 0
volume = 80

[State 430, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 430, 3]
type = Hitdef
trigger1 = animelem = 4
attr = C, NA
hitflag = MA
guardflag = L
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 120, 0
pausetime = 12, 8
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 2, -12
hitsound = 5,3
guardsound = 6,0
ground.type = Trip
air.type = Trip
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -1.9, -5.5
guard.velocity = -16.8
air.velocity = -1.9, -5.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
getpower = 200, 140
givepower = 100, 70
fall = 1

[State 430, 4]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Straight Strong Kick
[Statedef 630]
type    = A
physics = A
movetype= A
anim = 630
ctrl = 0
juggle = 10

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,17
channel = 0
volume = 80

[State 630, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 630, 3]
type = Hitdef
trigger1 = animelem = 5
attr = A, NA
hitflag = MA
guardflag = H
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 95, 0
pausetime = 12, 15
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -74
hitsound = 5,3
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 200, 140
givepower = 100, 70

;---------------------------------------------------------------------------
; Jumping Strong Kick
[Statedef 631]
type    = A
physics = A
movetype= A
anim = 631
ctrl = 0
juggle = 10

[State 631, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,17
channel = 0
volume = 80

[State 631, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 631, 3]
type = Hitdef
trigger1 = animelem = 2
attr = A, NA
hitflag = MA
guardflag = H
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 90
pausetime = 12, 15
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -87
hitsound = 5,3
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 12
guard.hittime = 12
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3.5, -4
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
sprpriority = 1
getpower = 200, 140
givepower = 100, 70

;---------------------------------------------------------------------------
; Slide Attacks
[Statedef 235]
type    = S
physics = S
movetype= A
anim = 235
ctrl = 0
velset = 0,0
juggle = 5

[State 235, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,12
channel = 0
volume = 80

[State 235, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 235, 3.1]
type = Hitdef
trigger1 = animelem = 5
trigger1 = var(11) = 0
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 58, 0
pausetime = 12, 14
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -51
hitsound = S0, 23
guardsound = 6,0
ground.type = Low
air.type = Trip
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 21
guard.hittime = 21
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -16.2
guard.velocity = -15.8
air.velocity = -3.8, -4
ground.cornerpush.veloff = -28
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -28
sprpriority = 1
getpower = 150, 120
givepower = 75, 60

[State 235, 3.2];for armor mode
type = Hitdef
trigger1 = animelem = 5
trigger1 = var(11) != 0
attr = S, NA
hitflag = MA
guardflag = M
animtype = up
priority = 4,Hit
damage = 58, 0
pausetime = 12, 14
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -51
hitsound = S0, 23
guardsound = 6,0
ground.type = high
air.type = high
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 21
guard.hittime = 21
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -3.8, -6
guard.velocity = -15.8
air.velocity = -3.8, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
fall = 1
fall.animtype = Up
getpower = 150, 120
givepower = 125, 180

[State 235, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Knock Down
[Statedef 240]
type    = S
physics = S
movetype= A
anim = 240
ctrl = 0
velset = 0,0
juggle = 15
facep2 = 1

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,27
channel = 0
volume = 80

[State 240, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 240, 3]
type = Hitdef
trigger1 = animelem = 7
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 120
pausetime = 12, 10
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -97
hitsound = 5,4
guardsound = 6,0
ground.type = hard
air.type = hard
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -4, -5.5
guard.velocity = -16.8
air.velocity = -3.5, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
getpower = 220, 150
givepower = 110, 75
fall = 1

[State 240, 4]
type = Posadd
trigger1 = animelem = 3
x = 32

[State 240, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Knock Down
[Statedef 640]
type    = A
physics = A
movetype= A
anim = 640
ctrl = 0
juggle = 15

[State 640, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random <= 700;high percent
value = 0,27
channel = 0
volume = 80

[State 640, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,19

[State 640, 3]
type = Hitdef
trigger1 = animelem = 3
attr = A, NA
hitflag = MA
guardflag = H
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 120
pausetime = 12, 10
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 0, -70
hitsound = 5,4
guardsound = 6,0
ground.type = high
air.type = high
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -4, -5.5
guard.velocity = -16.8
air.velocity = -3.5, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
getpower = 220, 150
givepower = 110, 75
fall = 1

;---------------------------------------------------------------------------
; Guard Reversal
[Statedef 245]
type    = S
physics = S
movetype= A
anim = 245
ctrl = 0
velset = 0,0
juggle = 15
poweradd = -1000
facep2 = 1

[State 245, 1]
type = Pause
trigger1 = Time = 0
time = 8
movetime = 8

[State 245, 2]
type = Envcolor
trigger1 = Time = 0
value = 248,248,248
time = 3
under = 1

[State 245, 3]
type = Explod
trigger1 = Time = 3
anim = 8000
pos = 3,-65
ontop = 1
ownpal = 1

[State 245, 4]
type = PlaySnd
trigger1 = Time = 4
value = 0,19

[State 245, 5]
type = Hitdef
trigger1 = animelem = 7
attr = S, NA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = hard
fall.animtype = up
priority = 4,Hit
damage = 50
pausetime = 12, 10
guard.pausetime = 12, 15
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -97
hitsound = 5,4
guardsound = 6,0
ground.type = low
air.type = low
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -4, -5.5
guard.velocity = -12.8
air.velocity = -3.5, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
fall = 1

[State 245, 6]
type = Posadd
trigger1 = animelem = 3
x = 32

[State 245, 7]
type = Hitby
trigger1 = Time >= 0
trigger1 = Time < 29
value = SCA, NT,ST,HT

[State 245, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;================
; Speical Attacks
;================
; Super Argentina BackBreaker Attempt
[Statedef 800]
type    = S
physics = S
movetype= A
anim = 800
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

[State 800, 1]
type = Playsnd
trigger1 = Animelem = 2
value = 0,12
volume = 80
channel = 0

[State 800, 2]
type = Hitdef
trigger1 = animelem = 1
trigger1 = p2stateno != [130,153] ;150 && 151 && 130 && 131 && 140 && 141
attr = S, ST
hitflag = M
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 801
p2stateno = 810
p2getp1state = 1
id = 800
;chainID = id_number (int)
;nochainID = nochain_1, nochain_2 (int)
numhits = 0
getpower = 340
givepower = 244

[State 800, 3]
type = Nothitby
trigger1 = time = 0
value = SCA

[State 800, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------
; Super Argentina BackBreaker succeed
[Statedef 801]
type    = S
physics = S
movetype= A
anim = 801
ctrl = 0
velset = 0,0

[State 801, 1]
type = Width
trigger1 = 1
edge = 60,0

[State 801, 2]
type = Explod
trigger1 = animelem = 3
anim = f21
pos = 54,-52
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 801, 3.1]
type = sprpriority
trigger1 = time >= 24
trigger1 = time <= 26
value = 1

[State 801, 3.2]
type = sprpriority
trigger1 = time >= 27
value = 2

[State 801, 4.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 2
pos = 42,0

[State 801, 4.2]
type = TargetBind
trigger1 = time >= 3
trigger1 = time <= 6
pos = 55,0

[State 801, 4.3]
type = TargetBind
trigger1 = time >= 7
trigger1 = time <= 19
pos = 30,0

[State 801, 4.4]
type = TargetBind
trigger1 = time >= 20
trigger1 = time <= 23
pos = 42,-82

[State 801, 4.5]
type = TargetBind
trigger1 = time >= 24
trigger1 = time <= 27
pos = 6,-109

[State 801, 4.6]
type = TargetBind
trigger1 = time = 28
pos = 10,-200

[State 801, 5]
type = Hitdef
trigger1 = animelem = 8
attr = S, ST
hitflag = A
priority = 7,Hit
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 802
p2stateno = 812
p2getp1state = 1
id = 801
chainID = 800
numhits = 0
hitonce = 1

[State 801, 6.1];play clark succeed snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,31
volume = 80
channel = 0

[State 801, 6.2];play catch snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,33
volume = -80

[State 801, 6.3];play fly snd
type = Playsnd
trigger1 = Animelem = 5
value = 0,34
volume = -80

[State 801, 7];this part will excute only when there is error;opponent is away
type = ChangeState
trigger1 = time = 150
value = 0
ctrl = 1

;---------------------------------------------------
; Super Argentina BackBreaker succeed - Backbreaking
[Statedef 802]
type    = S
physics = S
movetype= A
anim = 802
ctrl = 0
velset = 0,0

[State 802, 1.1];speical attack effect
type = Explod
trigger1 = time = 0
anim = f2
pos = 10,-85
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 802, 1.2];ground wave
type = Explod
trigger1 = time = 0
anim = 8100
pos = 10,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 812, 4];damage
type = Targetlifeadd
trigger1 = animelem = 1
value = ifelse(var(12)=1,-40,-80)
;absolute = 1
kill = 0

[State 800, hit]
type = Hitadd
trigger1 = animelem = 1
value = 1

[State 802, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 7
pos = -9,-80

[State 802, 2.2]
type = TargetBind
trigger1 = time >= 8
pos = -9,-100

[State 802, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 802, 4]
type = turn
trigger1 = time = 0

[State 802, 5];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 30
ampl = -5

[State 802, 6];play crush snd
type = Playsnd
trigger1 = time = 0
value = 0,35
volume = -80

[State 802, 7]
type = Width
trigger1 = 1
edge = 0,30

[State 802, 8]
type = ChangeState
trigger1 = animtime = 0
value = 803

[State 2500, 2]
type = ChangeState
triggerall = time > 8
trigger1 = power >= 1000
trigger1 = command = "UAB"
value = 3000

[State 2500, 2]
type = ChangeState
triggerall = time > 8
trigger1 = power >= 2000
trigger1 = command = "UAB2"
value = 4000

[State 802, 9.1]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 802, 9.2]
type = Varset
trigger1 = command = "elbow"
var(1) = 1

;----------------------------------------------------------
; Super Argentina BackBreaker succeed - Throw to the ground
[Statedef 803]
type    = S
physics = S
movetype= A
anim = 803
ctrl = 0
velset = 0,0

[State 803, 1]
type = sprpriority
trigger1 = 1
value = 1

[State 803, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 3
pos = 50,-105

[State 803, 2.2]
type = TargetBind
trigger1 = time >= 4
trigger1 = time <= 7
pos = 62,-88

[State 803, 2.3]
type = TargetBind
trigger1 = time = 8
pos = 115,-3

[State 800, hit]
type = Hitadd
trigger1 = animelem = 3
value = 1

[State 814, 5];damage
type = Targetlifeadd
trigger1 = animelem = 3
value = ifelse(var(12)=1,-30,-60)
;absolute = 1

[State 803, 3.1];smash ground wave
type = Explod
trigger1 = p2stateno = 814
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 803, 3.2];dust
type = Explod
trigger1 = p2stateno = 815
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 803, 4];shaking effect
type = Envshake
trigger1 = p2stateno = 814
time = 15
freq = 70
ampl = -3
persistent = 0

[State 803, 5.1];play clark snd 'wu ya'
type = Playsnd
trigger1 = time = 0
value = 0,32
volume = 80
channel = 0

[State 803, 5.2];play drop snd
type = Playsnd
trigger1 = p2stateno = 814
value = 0,36
volume = -100
persistent = 0

[State 803, 5.3];play land down snd
type = Playsnd
trigger1 = p2stateno = 815
value = 0,37
volume = -100
persistent = 0

[State 803, 6]
type = Width
trigger1 = 1
edge = 100,0

[State 803, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 803, 8.11]
type = Varset
trigger1 = command = "elbow"
trigger1 = time <= 10
var(1) = 1

[State 803, 8.12]
type = Varset
trigger1 = command = "elbow"
trigger1 = time > 10
var(1) = 2

[State 803, 9]
type = ChangeState
triggerall = time >= 10
triggerall = time <= 32
trigger1 = var(1) = 1
trigger2 = var(1) = 2
value = 900

[State 803, 10.1]
type = Varset
trigger1 = time = 0
var(2) = 0

[State 803, 10.2]
type = Varset
trigger1 = p2stateno = 814
var(2) = 1

;---------------------------------------------
; Throw by Super Argentina BackBreaker - go up
[Statedef 810]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 810, 1]
type = Changeanim2
trigger1 = time = 0
value = 810

[State 810, 2.1]
type = Velset
trigger1 = time >= 27
trigger1 = time <= 50
y = -10

[State 810, 2.2]
type = Velset
trigger1 = time >= 51
y = 0

[State 810, 3]
type = sprpriority
trigger1 = time >= 24
trigger1 = time <= 26
value = 2

[State 810, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 810, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 810, 6]
type = Width
trigger1 = 1
value = -30,-30

[State 810, 7]
type = Changestate
trigger1 = time = 68
value = 811

;-------------------------------------------------
; Throw by Super Argentina BackBreaker - come down
[Statedef 811]
type    = A
physics = A
movetype= H
ctrl = 0

[State 811, 1]
type = Velset
trigger1 = 1
y = 12

[State 811, 2]
type = sprpriority
trigger1 = time >= 0
value = 1

[State 811, 3]
type = Hitby
trigger1 = 1
value = S, ST

[State 811, 4]
type = Width
trigger1 = 1
value = -30,-30

[State 811, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

;-------------------------------------------------------
; Throw by Super Argentina BackBreaker - being backbreak
[Statedef 812]
type    = A
physics = N
movetype= H
ctrl = 0

[State 812, 1]
type = Changeanim2
trigger1 = time = 0
value = 812

[State 812, 0]
type = Hitby
trigger1 = 1
value = S,HT

[State 812, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 812, 3];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 812, 5]
type = Width
trigger1 = 1
value = -30,-30

[State 812, 6]
type = Changestate
trigger1 = animtime = 0
value = 813

;------------------------------------------------------------------
; Throw by Super Argentina BackBreaker - being thrown to the ground
[Statedef 813]
type    = A
physics = N
movetype= H
ctrl = 0

[State 813, 1]
type = Changeanim2
trigger1 = time = 0
value = 813

[State 813, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 813, 4]
type = veladd
trigger1 = time >= 9
y = .53

[State 813, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 813, 6];freeze for a moment
type = PosFreeze
trigger1 = time >= 9
trigger1 = time <= 13

[State 813, 7]
type = Width
trigger1 = 1
value = -30,-30

[State 813, 8]
type = ChangeState
trigger1 = time > 9
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 814

;------------------------------------------------
; Throw by Super Argentina BackBreaker - bouncing
[Statedef 814]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 2.4,-5

[State 814, 1]
type = Changeanim2
trigger1 = time = 0
value = 814

[State 814, 2]
type = Veladd
trigger1 = 1
y = .53

[State 814, 3.1]
type = posset
trigger1 = time = 0
y = 0

[State 814, 3.2]
type = posadd
trigger1 = animelem = 2
y = -20

[State 814, 3.3]
type = veladd
trigger1 = vel x >= 0
x = -.2

[State 814, 4] 
type = turn
trigger1 = Time = 0

[State 814, 6]
type = ChangeState
trigger1 = time > 11
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 815

;--------------------------------------------------
; Throw by Super Argentina BackBreaker - lying down
[Statedef 815]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 815, 1]
type = Changeanim2
trigger1 = time = 0
value = 815

[State 815, 2]
type = posset
trigger1 = time = 0
y = 0

[State 815, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = p2stateno = 803;opponent never access flashing elbow
trigger1 = Time = 0
trigger2 = Time = 25
value = 5150

[State 815, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Flashing Elbow - start running
[Statedef 900]
type    = S
physics = S
movetype= I
anim = 900
ctrl = 0
velset = 0
facep2 = 1

[State 900, 1.1]
type = VelSet
trigger1 = AnimElem = 1, >= 0
trigger1 = FrontEdgeDist >= 20
x = const(velocity.run.fwd.x)

[State 900, 1.2]
type = VelSet
trigger1 = FrontEdgeDist < 20
x = 0

; Play sound when running
[State 900, 2]
type = PlaySnd
trigger1 = Timemod = 71,0;start playing from time = 0,then play again for every 71 more ticks
value = 0,5
channel = 20
volume = 80

;Stop channel 20's sound when button fwd is release
[State 900, 3]
type = StopSnd
trigger1 = P2bodydist X <= 18
trigger1 = p2statetype = L
trigger2 = time = 50
channel = 20;running snd

[State 900, 4.1]
type = ChangeState
trigger1 = P2bodydist X <= 18
trigger1 = p2statetype = L
value = 901

[State 900, 4.2]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1

[State 900, 5.11];smash ground wave
type = Explod
triggerall = p2stateno = 814
triggerall = var(2) = 0
trigger1 = var(1) = 1
trigger2 = var(9) = 1;Only AI can access
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 900, 5.21];ground wave
type = Explod
triggerall = var(2) = 0
triggerall = p2stateno = 1011
trigger1 = var(1) = -1
trigger2 = var(9) = 1;Only AI can access
anim = 8100
pos = 12,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 900, 5.22];ground wave
type = Explod
triggerall = p2stateno = 1222
triggerall = var(2) = 0
trigger1 = var(1) = 1
trigger2 = var(9) = 1;Only AI can access
anim = 8100
pos = 12,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 900, 6.1];play drop snd
type = Playsnd
triggerall = p2stateno = 814
triggerall = var(2) = 0
trigger1 = var(1) = 1
trigger2 = var(9) = 1;Only AI can access
value = 0,36
volume = -100
persistent = 0

[State 900, 6.2];play drop snd
type = Playsnd
triggerall = var(2) = 0
triggerall = p2stateno = 1011
trigger1 = var(1) = -1
trigger2 = var(9) = 1;Only AI can access
value = 0,36
volume = -100
persistent = 0

[State 900, 6.1];play drop snd
type = Playsnd
triggerall = p2stateno = 1222
triggerall = var(2) = 0
trigger1 = var(1) = 1
trigger2 = var(9) = 1;Only AI can access
value = 0,36
volume = -100
persistent = 0

[State 900, 7.1];Set AI constant
type = Varset
triggerall = var(9) = 1;Only AI can access
trigger1 = prevstateno = 803
trigger2 = prevstateno = 1203
var(1) = 1

[State 900, 7.2];Set AI constant
type = Varset
triggerall = var(9) = 1;Only AI can access
trigger1 = prevstateno = 1001
trigger2 = prevstateno = 1500
var(1) = -1

[State 900, 7]
type = Varset
trigger1 = p2stateno = 1011
trigger2 = p2stateno = 814
var(2) = 1

;---------------------------------------------------------------------------
; Flashing Elbow - start elbow
[Statedef 901]
type    = S
physics = N
movetype= A
anim = 901
ctrl = 0
velset = 1.7

[State 901, 1.1];play clark snd 'wu ya'
type = Playsnd
trigger1 = time = 10
value = 0,32
volume = 80
channel = 0

[State 901, 2.1]
type = Hitdef
trigger1 = animelem = 10
trigger1 = var(1) != -1
attr = S, SA
hitflag = D
priority = 7,Hit
sparkno = -1
sprpriority = 2
p1stateno = 902
p2stateno = 912
p2getp1state = 1
chainID = 801
numhits = 0
hitonce = 1

[State 901, 2.2]
type = Hitdef
trigger1 = animelem = 10
trigger1 = var(1) = -1
attr = S, SA
hitflag = D
priority = 7,Hit
sparkno = -1
sprpriority = 2
p1stateno = 902
p2stateno = 915
p2getp1state = 1
chainID = 801
numhits = 0
hitonce = 1

[State 901, 3];ground wave
type = Explod
trigger1 = animelem = 10
anim = 8100
pos = 12,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 901, 4.1];shaking effect
type = Envshake
trigger1 = animelem = 10
time = 15
freq = 30
ampl = -5

[State 901, 4.2];play drop snd
type = Playsnd
trigger1 = animelem = 10
value = 0,36
volume = -100
persistent = 0

[State 901, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 901, 6.1];dust
type = Explod
triggerall = p2stateno = 814
triggerall = var(2) = 0
trigger1 = var(1) = 1
trigger2 = var(9) = 1;Only AI can access
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 901, 6.2];dust
type = Explod
triggerall = p2stateno = 1012
triggerall = var(2) = 0
trigger1 = var(1) = -1
trigger2 = var(9) = 1;Only AI can access
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 901, 6.3];dust
type = Explod
triggerall = p2stateno = 1223
triggerall = var(2) = 0
trigger1 = var(1) = 1
trigger2 = var(9) = 1;Only AI can access
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 901, 6.4];dust
type = Explod
triggerall = p2stateno = 1521
trigger1 = var(1) = -1
trigger2 = var(9) = 1;Only AI can access
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 901, 6.5];ground wave
type = Explod
triggerall = p2stateno = 1222
triggerall = var(2) = 0
trigger1 = var(1) = 1
trigger2 = var(9) = 1;Only AI can access
anim = 8100
pos = 12,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 901, 7.1];play land down snd
type = Playsnd
triggerall = p2stateno = 814
triggerall = var(2) = 0
trigger1 = var(1) = 1
trigger2 = var(9) = 1;Only AI can access
value = 0,37
volume = -100
persistent = 0

[State 901, 7.2];play land down snd
type = Playsnd
triggerall = p2stateno = 1012
triggerall = var(2) = 0
trigger1 = var(1) = -1
trigger2 = var(9) = 1;Only AI can access
value = 0,37
volume = -100
persistent = 0

[State 901, 7.3];play land down snd
type = Playsnd
triggerall = p2stateno = 1223
triggerall = var(2) = 0
trigger1 = var(1) = 1
trigger2 = var(9) = 1;Only AI can access
value = 0,37
volume = -100
persistent = 0

[State 901, 7.4];play drop snd
type = Playsnd
triggerall = var(2) = 0
triggerall = p2stateno = 1011
trigger1 = var(1) = -1
trigger2 = var(9) = 1;Only AI can access
value = 0,36
volume = -100
persistent = 0

[State 901, 7.5];play drop snd
type = Playsnd
triggerall = var(2) = 0
triggerall = p2stateno = 1222
trigger1 = var(1) = 1
trigger2 = var(9) = 1;Only AI can access
value = 0,36
volume = -100
persistent = 0

[State 901, 7.6];play land down snd
type = Playsnd
triggerall = p2stateno = 1521
trigger1 = var(1) = -1
trigger2 = var(9) = 1;Only AI can access
value = 0,37
volume = -100
persistent = 0

[State 901, 8.1]
type = Playerpush
trigger1 = 1
value = 0

[State 901, 8.2]
type = NotHitBy
trigger1 = time <= 38
value = SCA

[State 901, 9.0]
type = Varset
trigger1 = time = 0
var(3) = 0

[State 901, 9.11]
type = Varset
trigger1 = time >= 32
trigger1 = command = "iUAB"
var(3) = 11

[State 901, 9.12];change to Ultra Argentina BackBreaker
type = ChangeState
triggerall = time = 55
triggerall = var(3) = 11
trigger1 = life > 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
trigger2 = var(10) != 0
value = 3000

[State 901, 9.13];change to Ultra Argentina BackBreaker(Max)
type = ChangeState
triggerall = time = 55
triggerall = var(3) = 11
trigger1 = life <= 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
value = 4000

[State 901, 9.21]
type = Varset
trigger1 = time >= 32
trigger1 = command = "irunthree"
var(3) = 12

[State 901, 9.22];change to Running Three
type = ChangeState
triggerall = time = 55
triggerall = var(3) = 12
triggerall = palno <= 6
trigger1 = life > 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
trigger2 = var(10) != 0
value = 3100

[State 901, 9.23];change to Running Three(Max)
type = ChangeState
triggerall = time = 55
triggerall = var(3) = 12
trigger1 = palno <= 6
trigger1 = life <= 200
trigger1 = power >= 1000
trigger1 = var(10) = 0
trigger1 = var(11) = 0
trigger2 = palno > 6
trigger2 = power >= 1000
trigger2 = var(10) = 0
trigger2 = var(11) = 0
value = 4100

[State 901, 9.31]
type = Varset
trigger1 = time >= 32
trigger1 = command = "ibackbreak"
var(3) = 1

[State 901, 9.32];change to Super Argentina BackBreaker
type = ChangeState
trigger1 = time = 55
trigger1 = var(3) = 1
value = 800

[State 901, 9.41]
type = Varset
trigger1 = time >= 32
trigger1 = command = "ifrank"
var(3) = 2

[State 901, 9.42];change to Frankensteiner
type = ChangeState
trigger1 = time = 55
trigger1 = var(3) = 2
value = 1000

[State 901, 9.51]
type = Varset
trigger1 = time >= 32
trigger1 = command = "igatling_1"
var(1) = 3

[State 901, 9.52];change to Gatling attack - Light
type = ChangeState
trigger1 = var(1) = 3
trigger1 = time = 55
value = 1100
ctrl = 0

[State 901, 9.61]
type = Varset
trigger1 = time >= 32
trigger1 = command = "igatling_2"
var(1) = 4

[State 901, 9.62];change to Gatling attack - Heavy
type = ChangeState
trigger1 = var(1) = 4
trigger1 = time = 55
value = 1101
ctrl = 0

[State 901, 9.71]
type = Varset
trigger1 = time >= 32
trigger1 = command = "inapalm"
var(1) = 5

[State 901, 9.72];change to Napalm Stretch
type = ChangeState
trigger1 = var(1) = 5
trigger1 = time = 55
value = 1200
ctrl = 0

[State 901, 9.81]
type = Varset
trigger1 = time >= 32
trigger1 = command = "imount_1"
var(1) = 6

[State 901, 9.82];change to Mount Tackle Short
type = ChangeState
trigger1 = var(1) = 6
trigger1 = time = 55
value = 1300
ctrl = 0

[State 901, 9.91]
type = Varset
trigger1 = time >= 32
trigger1 = command = "imount_2"
var(1) = 7

[State 901, 9.92];change to Mount Tackle Long
type = ChangeState
trigger1 = var(1) = 7
trigger1 = time = 55
value = 1310
ctrl = 0

[State 901, 9.101]
type = Varset
trigger1 = time >= 32
trigger1 = command = "ir.launcher"
var(1) = 8

[State 901, 9.102];change to Running Launcher short
type = ChangeState
trigger1 = var(1) = 8
trigger1 = time = 55
value = 1700
ctrl = 0

[State 901, 9.111]
type = Varset
trigger1 = time >= 32
trigger1 = command = "if.launcher"
var(1) = 9

[State 901, 9.112];change to Running Launcher long
type = ChangeState
trigger1 = var(1) = 9
trigger1 = time = 55
value = 1703
ctrl = 0

[State 901, 10]
type = Statetypeset
trigger1 = time = 19
value = S

[State 901, 11]
type = Width
trigger1 = p2stateno = 1520
trigger2 = p2stateno = 1521
edge = 20,0

;---------------------------
; Flashing Elbow - elbow hit
[Statedef 902]
type    = S
physics = N
movetype= A
anim = 902
ctrl = 0
velset = 0

[State 902, 1];smash ground wave
type = Explod
trigger1 = p2stateno = 912
trigger2 = p2stateno = 915
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 902, 2];speical attack effect
type = Explod
trigger1 = time = 0
anim = f2
pos = 38,-11
postype = p1
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 902, 3]
type = velset
trigger1 = time = 10
x = 1.2

[State 902, 4];freeze for a moment
type = PosFreeze
trigger1 = time >= 0
trigger1 = time <= 9

[State 902, 5];play crush snd
type = Playsnd
trigger1 = time = 0
value = 0,35
volume = -80

[State 902, 6];play drop snd
type = Playsnd
trigger1 = p2stateno = 913
value = 0,36
volume = -120
persistent = 0

[State 902, 7];play land down snd
type = Playsnd
trigger1 = p2stateno = 914
value = 0,37
volume = -120
persistent = 0

[State 902, 8];dust
type = Explod
trigger1 = p2stateno = 914
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 902, 9]
type = NotHitBy
trigger1 = time <= 38
value = SCA

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 902, 10];damage
type = Targetlifeadd
trigger1 = time = 0
value = ifelse(var(12)=1,-5,-10)
;absolute = 1

[State 902, 11]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------
; hit by Flashing Elbow(facing player)
[Statedef 912]
type    = L
physics = N
movetype= H
ctrl = 0
velset = -5,-6

[State 912, 1]
type = Changeanim2
trigger1 = time = 0
value = 912

[State 912, 2]
type = Veladd
trigger1 = time >= 10
y = .53

[State 912, 3.1]
type = posset
trigger1 = time = 0
y = 0

[State 912, 3.2]
type = veladd
trigger1 = time >= 10
trigger1 = vel x < 0
x = .2

[State 912, 4];freeze for a moment
type = PosFreeze
trigger1 = time >= 0
trigger1 = time <= 9

[State 912, 5]
type = ChangeState
trigger1 = time > 10
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 913

;---------------------------------
; hit by Flashing Elbow - bouncing
[Statedef 913]
type    = L
physics = N
movetype= H
ctrl = 0
velset = -2,-4.5

[State 913, 1]
type = Changeanim2
trigger1 = time = 0
value = 913

[State 913, 2]
type = Veladd
trigger1 = 1
y = .53

[State 913, 3.1]
type = posset
trigger1 = time = 0
y = 0

[State 913, 3.2]
type = veladd
trigger1 = vel x < 0
x = .2

[State 913, 4]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 914

;----------------------------------------
; hit by Flashing Elbow(not facing player)
[Statedef 915]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 5,-6

[State 915, 1]
type = Changeanim2
trigger1 = time = 0
value = 912

[State 915, 2]
type = Veladd
trigger1 = time >= 10
y = .53

[State 915, 3.1]
type = posset
trigger1 = time = 0
y = 0

[State 915, 3.2]
type = veladd
trigger1 = time >= 10
trigger1 = vel x > 0
x = -.2

[State 915, 4];freeze for a moment
type = PosFreeze
trigger1 = time >= 0
trigger1 = time <= 9

[State 915, 5]
type = ChangeState
trigger1 = time > 10
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 916

;----------------------------------------------------
; hit by Flashing Elbow - bouncing(not facing player)
[Statedef 916]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 2,-4.5

[State 916, 1]
type = Changeanim2
trigger1 = time = 0
value = 913

[State 916, 2]
type = Veladd
trigger1 = 1
y = .53

[State 916, 3.1]
type = posset
trigger1 = time = 0
y = 0

[State 916, 3.2]
type = veladd
trigger1 = vel x > 0
x = -.2

[State 916, 4]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 914

;-----------------------------------
; Hit by Flashing Elbow - lying down
[Statedef 914]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 914, 1]
type = Changeanim2
trigger1 = time = 0
value = 815

[State 914, 2]
type = posset
trigger1 = time = 0
y = 0

[State 914, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 914, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Frankensteiner Attempt
[Statedef 1000]
type    = S
physics = S
movetype= A
anim = 1000
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

[State 1000, 1.1]
type = Playsnd
trigger1 = Animelem = 1
value = 0,42
volume = 80
channel = 0

[State 1000, 1.2]
type = Playsnd
trigger1 = time = 22
value = 0,16
volume = 80
channel = 0

[State 1000, 2]
type = Hitdef
trigger1 = animelem = 3
attr = S, ST
hitflag = M
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 1001
p2stateno = 1010
p2getp1state = 1
id = 801
;chainID = id_number (int)
;nochainID = nochain_1, nochain_2 (int)
numhits = 0
getpower = 340
givepower = 244
hitonce = 1

[State 1000, 3]
type = Hitby
trigger1 = time >= 0
trigger1 = time <= 21
value = SCA, NT,ST,HT

[State 1000, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------
; Frankensteiner Succeed
[Statedef 1001]
type    = S
physics = S
movetype= A
anim = 1001
ctrl = 0
velset = 0,0

[State 1001, 1.1]
type = BindToTarget
trigger1 = time >= 0
trigger1 = time <= 2
pos = 22,25,head;<-make use of user define head position

[State 1001, 1.2]
type = BindToTarget;null;Targetbind
trigger1 = time >= 3
trigger1 = time <= 25
pos = 22,0,mid;<-13,-25

[State 1001, 1.3]
type = Targetbind
trigger1 = time >= 26
trigger1 = time <= 29
pos = -9,-78

[State 1001, 1.4]
type = Targetbind
trigger1 = time >= 30
trigger1 = time <= 33
pos = -28,-65

[State 1001, 1.5]
type = Targetbind
trigger1 = time >= 34
trigger1 = time <= 44
pos = -39,-3

[State 1001, 2]
type = Explod
trigger1 = animelem = 2
anim = f21
pos = 13,-29
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 1001, 3.1]
type = Posset
trigger1 = time = 26
y = 0

[State 1001, 3.2]
type = Posadd
trigger1 = time = 34
x = -19

[State 1001, 4]
type = turn
trigger1 = animtime = 0
value = 1

[State 1001, 5];adjust the camera
type = ScreenBound
trigger1 = time <= 34
value = 1

[State 1001, 6.1];smash ground effect
type = Explod
trigger1 = time = 34
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 800, hit]
type = Hitadd
trigger1 = time = 34
value = 1

[State 1010, 5]
type = TargetLifeadd
trigger1 = time = 34
value = ifelse(var(12)=1,-70,-140)
;absolute = 1

[State 1001, 6.2];ground wave
type = Explod
trigger1 = p2stateno = 1011
anim = f72
pos = 12,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 1001, 6.3];dust
type = Explod
trigger1 = p2stateno = 1012
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 1001, 7.1]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 1001, 7.21]
type = Varset
trigger1 = command = "ielbow"
trigger1 = time > 18
var(1) = -1

[State 1001, 7.22]
type = ChangeState
triggerall = time >= 50
triggerall = time <= 57
trigger1 = var(1) = -1
value = 900

[State 1001, 8.1]
type = Varset
trigger1 = time = 0
var(2) = 0

[State 1001, 8.2]
type = Varset
trigger1 = p2stateno = 1011
var(2) = 1

[State 1001, 9]
type = Width
trigger1 = time <= 45
edge = 30,30

[State 1001, 10.1];"hey"
type = Playsnd
trigger1 = Animelem = 10
value = 0,43
volume = 80
channel = 0

[State 1001, 10.2];swing snd
type = Playsnd
trigger1 = Animelem = 5
value = 0,44
volume = -80

[State 1001, 10.3];crush snd
type = Playsnd
trigger1 = Animelem = 7
value = 0,45
volume = -80

[State 1001, 10.4];play catch snd
type = Playsnd
trigger1 = Animelem = 1
value = 0,33
volume = -80

[State 1001, 10.5];play drop snd
type = Playsnd
trigger1 = p2stateno = 1011
value = 0,36
volume = -100
persistent = 0

[State 1001, 10.6];play land down snd
type = Playsnd
trigger1 = p2stateno = 1012
value = 0,37
volume = -100
persistent = 0

[State 1001, 11]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------
; Throw by Frankensteiner
[Statedef 1010]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1010, 1]
type = Changeanim2
trigger1 = time = 0
value = 1010

[State 1010, 2.1]
type = Velset
trigger1 = time = 45
x = 5.5
y = -7

[State 1010, 2.2]
type = Veladd
trigger1 = time >= 45
y = .53

[State 1010, 2.3]
type = Posadd
trigger1 = time = 49
y = -10

[State 1010, 3];adjust the camera
type = ScreenBound
trigger1 = time <= 34
value = 1

[State 1010, 4.1];shaking effect
type = Envshake
trigger1 = time = 34
time = 15
freq = 50
ampl = -4

[State 1010, 6]
type = Width
trigger1 = time <= 45
value = -30,-30

[State 901, 7]
type = Statetypeset
trigger1 = time = 45
value = L

[State 1010, 8]
type = Changestate
trigger1 = time >= 45
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 1011
ctrl = 1

;-----------------------------------
; Throw by Frankensteiner - bouncing
[Statedef 1011]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 2,-5.5

[State 1011, 1]
type = Changeanim2
trigger1 = time = 0
value = 1011

[State 1011, 2]
type = Veladd
trigger1 = 1
y = .53

[State 1011, 3]
type = posset
trigger1 = time = 0
y = 0

[State 1011, 4]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 1012

;-------------------------------------
; Throw by Frankensteiner - lying down
[Statedef 1012]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1012, 1]
type = Changeanim2
trigger1 = time = 0
value = 1012

[State 1012, 2]
type = posset
trigger1 = time = 0
y = 0

[State 1012, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 1012, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Gatling attack - Light
[Statedef 1100]
type    = S
physics = N
movetype= A
anim = 1100
ctrl = 0
velset = 0,0
juggle = 15
facep2 = 1

[State 1100, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,46
channel = 0
volume = 80

[State 1100, 2]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = 0,19

[state 1200, jordamage3]
type = attackmulset
trigger1 = prevstateno >= 200
value = 0.5

[State 1100, 3.1]
type = Hitdef
trigger1 = animelem = 3
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 60,10
pausetime = 6, 15
guard.pausetime = 6, 15
sparkno = 2
guard.sparkno = 42
sparkxy = 18, -87
hitsound = 5,2
guardsound = 6,0
ground.type = High
air.type = Trip
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -6.5
guard.velocity = -6
air.velocity = -3.5, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
getpower = 200, 140
givepower = 150, 60

[State 1100, 3.2]
type = Hitdef
trigger1 = animelem = 6
trigger2 = animelem = 7
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = ifelse(hitcount>=1,20,80), 5
pausetime = 6, 8
guard.pausetime = 6, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 8, -60
hitsound = 5,2
guardsound = 6,0
ground.type = high
air.type = hard
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
ground.hittime = 19
ground.velocity = -1.5, -11
guard.ctrltime = 15
guard.velocity = -12
air.velocity = -1.5, -10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
sprpriority = 1
getpower = 200, 140
givepower = 150, 60
fall = 1
yaccel = .5;gravity

[State 1100, 4.1]
type = Posadd
trigger1 = animelem = 10
x = 24

[State 1100, 4.2]
type = veladd
trigger1 = animelem = 2
x = 4

[State 1100, 4.3]
type = Velset
trigger1 = animelem = 7
x = 0

[State 1101, 6.1]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 1101, 6.2]
type = Varset
trigger1 = command = "napalm"
trigger1 = time >= 14
var(1) = 1

[State 1101, 6.3];cancek to Napalm Stretch
type = ChangeState
trigger1 = var(1) = 1
trigger1 = time >= 30
trigger1 = time >= 42
value = 1200

[State 1100, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Gatling attack - Heavy
[Statedef 1101]
type    = S
physics = N
movetype= A
anim = 1101
ctrl = 0
velset = 0,0
juggle = 15
facep2 = 1

[State 1101, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,46
channel = 0
volume = 80

[State 1101, 2]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
value = 0,19

[state 1200, jordamage3]
type = attackmulset
trigger1 = prevstateno >= 200
value = 0.5

[State 1101, 3.1]
type = Hitdef
trigger1 = animelem = 3
attr = S, SA
hitflag = MA
guardflag = MA
animtype = Hard
air.animtype = hard
fall.animtype = hard
priority = 4,Hit
damage = 60,10
pausetime = 6, 15
guard.pausetime = 6, 15
sparkno = 2
guard.sparkno = 42
sparkxy = 18, -87
hitsound = 5,2
guardsound = 6,0
ground.type = High
air.type = hard
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -6.5
guard.velocity = -6
air.velocity = -3.5, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
getpower = 200, 140
givepower = 150, 60

[State 1101, 3.2]
type = Hitdef
trigger1 = animelem = 6
attr = S, SA
hitflag = MA
guardflag = MA
animtype = Hard
air.animtype = hard
fall.animtype = hard
priority = 4,Hit
damage = ifelse(hitcount>=1,10,80), 5
pausetime = 6, 8
guard.pausetime = 6, 12
sparkno = 2
guard.sparkno = 42
sparkxy = 8, -60
hitsound = 5,2
guardsound = 6,0
ground.type = high
air.type = hard
guard.slidetime = 18
guard.hittime = 19
air.hittime = 0
ground.hittime = 19
ground.velocity = -1.5, -11
guard.ctrltime = 15
guard.velocity = -12
air.velocity = -1.5, -10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
sprpriority = 1
getpower = 200, 140
givepower = 150, 60
yaccel = .5;gravity
fall = 1  

[State 1101, 3.3]
type = Hitdef
trigger1 = animelem = 7
attr = S, SA
hitflag = MAF
guardflag = MA
priority = 4,Hit
damage = ifelse(hitcount>=1,10,80), 5
sparkno = 2
guard.sparkno = 42
sparkxy = 8, -79
hitsound = 5,2
guardsound = 6,0
ground.type = high
air.type = hard
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -12
guard.cornerpush.veloff = -15
ground.hittime = 19
ground.velocity = -1.5, -11
air.cornerpush.veloff = 0
air.velocity = -1.5, -10
sprpriority = 1
getpower = 200, 140
givepower = 100, 60
;p2facing = 1
;p2stateno = 1102
;p2getp1state = 1
fall = 1
yaccel = .5;gravity

[State 1101, 4.1]
type = Posadd
trigger1 = animelem = 10
x = 24

[State 1101, 4.2]
type = Velset
trigger1 = animelem = 2
x = 6.5

[State 1101, 4.3]
type = Velset
trigger1 = animelem = 4
x = 3

[State 1101, 4.4]
type = Velset
trigger1 = animelem = 7
x = 0

[State 1101, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 1101, 6.1]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 1101, 6.2]
type = Varset
trigger1 = command = "napalm"
trigger1 = time >= 14
var(1) = 1

[State 1101, 6.3];cancek to Napalm Stretch
type = ChangeState
trigger1 = var(1) = 1
trigger1 = time >= 30
trigger1 = time >= 42
value = 1200

;-------------------------------
; Hit by Gatling attack going up
[Statedef 1102]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,-10
;facep2 = 1

[State 1102, 1]
type = changeanim
trigger1 = time >= 0
trigger1 = time <= 7
value = 5070

[State 1102, 2]
type = Posfreeze
trigger1 = time >= 0
trigger1 = time <= 7

[State 1102, 3.1]
type = Hitby
trigger1 = time >= 8
trigger1 = time <= 29
value = SCA,ST,HT

[State 1102, 3.2]
type = Nothitby
trigger1 = time >= 30
value = SCA

[State 1102, 4.1]
type = veladd
trigger1 = time >= 8
y = .5

[State 1102, 5.2];access this if facing opponent
type = velset
trigger1 = p2dist x > 1
trigger1 = time = 0
x = -1.5

[State 1102, 6.2];access this if not facing opponent
type = velset
trigger1 = p2dist x < 1
trigger1 = time = 0
x = 1.5

[State 1102, 7]
type = Selfstate
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 5110

;---------------------------------------------------------------------------
; Napalm Stretch Attempt
[Statedef 1200]
type    = A
physics = N
movetype= A
anim = 1200
ctrl = 0
juggle = 0
velset = 0,0
facep2 = 1

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

[State 1200, 1];play jumping snd
type = Playsnd
trigger1 = Animelem = 2
value = 0,3
volume = -80

[State 1200, 2]
type = Hitdef
trigger1 = animelem = 5
attr = A, ST
hitflag = AF
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 1202
p2stateno = 1220
p2getp1state = 1
id = 801
;chainID = id_number (int)
;nochainID = nochain_1, nochain_2 (int)
getpower = 340
givepower = 244

[State 1200, 3.1]
type = Nothitby
trigger1 = movehit = 1
value = SCA
ignorehitpause = 1

[State 1200, 3.2]
type = Nothitby
trigger1 = 1
value = SCA, NT,ST,HT

[State 1200, 4.1]
type = Velset
trigger1 = time = 3
x = 2.8
y = -11

[State 1200, 4.2]
type = Gravity
trigger1 = 1

[State 1200, 5]
type = varset
trigger1 = time = 0
var(3) = 0

[State 1200, 5.1]
type = varset
trigger1 = time = 0
var(4) = 0

[State 1200, 5.2]
type = varset
trigger1 = time = 1
trigger1 = prevstateno = 1101;<-cancel from gatling Attack
var(4) = 1

[State 1200, 6]
type = ChangeState
trigger1 = time > 3
trigger1 = Pos y >= 0
trigger1 = Vel y > 0
value = 1201

;-------------------------
; Napalm Stretch - landing
[Statedef 1201]
type    = S
physics = S
movetype= I
anim = 1201
ctrl = 0
velset = 0,0

[State 1201, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 1201, 2]
type = Posset
trigger1 = time = 0
y = 0

[State 1201, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------
; Napalm Stretch - Succeed
[Statedef 1202]
type    = A
physics = N
movetype= A
anim = 1202
ctrl = 0

[State 1202, 1]
type = Width
trigger1 = 1
edge = 40,40

[State 1202, 2]
type = Explod
trigger1 = time = 0
trigger1 = var(3) = 0
anim = f2
pos = 42,-113
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 1202, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 4
pos = 29,-69

[State 1202, 3.2]
type = TargetBind
trigger1 = time >= 5
trigger1 = time <= 9
pos = 15,-96

[State 1202, 3.3]
type = TargetBind
trigger1 = time >= 10
trigger1 = time <= 14
pos = -30,-72

[State 1202, 3.4]
type = TargetBind
trigger1 = time >= 15
trigger1 = time <= 19
pos = -10,-44

[State 1202, 4.1]
type = Playsnd
trigger1 = time = 0
trigger1 = var(3) = 0
value = 0,47
volume = 80
channel = 0

[State 1202, 4.2];play catch snd
type = Playsnd
trigger1 = time = 0
trigger1 = var(3) = 0
value = 0,33
volume = -80

[State 1202, 5]
type = Gravity
trigger1 = 1

[State 1202, 6]
type = varadd
trigger1 = time = 20
var(3) = 1

[State 1202, 7.1]
type = ChangeState
trigger1 = Pos y < -12
trigger1 = time = 20
value = 1202

[State 1202, 7.2]
type = ChangeState
trigger1 = Pos y >= -12
trigger1 = Vel y > 0
value = 1203

[State 1202, 8]
type = varset
trigger1 = time = 0
var(1) = 0

[State 1202, 8]
type = varset
trigger1 = command = "elbow"
trigger1 = time >= 8
var(1) = 1

;------------------------------
; Napalm Stretch - Reach ground
[Statedef 1203]
type    = S
physics = N
movetype= A
anim = 1203
ctrl = 0
velset = 0,0

[State 1203, 1]
type = Width
trigger1 = 1
edge = 10,10

[State 1203, 2];play slam snd
type = Playsnd
trigger1 = time = 0
value = 0,35
volume = -80

[State 1203, 3]
type = Posset
trigger1 = time = 0
y = 0

[State 1203, 4.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 9
pos = 9,-8

[State 1203, 5];smash ground effect
type = Explod
trigger1 = time = 0
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 1203, 6]
type = Targetlifeadd
trigger1 = time = 0
value = ifelse(var(12)=1,-60,-120)
;absolute = 1

[State 1203, 7]
type = ChangeState
trigger1 = var(1) = 0
trigger1 = animtime = 0
value = 1204

[State 1203, 8.1]
type = varset
trigger1 = command = "elbow"
var(1) = 1

[State 1203, 8.2]
type = ChangeState
trigger1 = var(1) = 1
trigger1 = time > 10
value = 900

;------------------------------
; Napalm Stretch - Rolling back
[Statedef 1204]
type    = S
physics = N
movetype= A
anim = 1204
ctrl = 0
velset = -3,0

[State 1204, 1]
type = velset
trigger1 = time = 19
x = 0

[State 1204, 2];ground wave
type = Explod
trigger1 = p2stateno = 1222
anim = 8100
pos = 12,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 1204, 3];play drop snd
type = Playsnd
trigger1 = p2stateno = 1222
value = 0,36
volume = -100
persistent = 0

[State 1204, 4];dust
type = Explod
trigger1 = p2stateno = 1222
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 1203, 5]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1203, 5]
type = varset
trigger1 = p2stateno = 1222
var(2) = 1

[State 1204, 6]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------
; Throw by Napalm Stretch
[Statedef 1220]
type    = A
physics = N
movetype= H
ctrl = 0

[State 1220, 1]
type = Changeanim2
trigger1 = time = 0
value = 1220

[State 1220, 2]
type = Width
trigger1 = 1
value = -30,-30

[State 1220, 3]
type = ChangeState
trigger1 = p2stateno = 1203
trigger2 = Pos y >= -12
value = 1221

;---------------------------------------
; Throw by Napalm Stretch - Reach ground
[Statedef 1221]
type    = S
physics = N
movetype= H
ctrl = 0

[State 1221, 1]
type = Changeanim2
trigger1 = time = 0
value = 1221

[State 1221, 2]
type = Width
trigger1 = 1
value = -30,-30

[State 1221, 3];shaking effect
type = null;Envshake
trigger1 = time = 0
time = 15
freq = 50
ampl = -5

[State 1221, 4.1]
type = Velset
trigger1 = time = 10
x = -5.5
y = -7

[State 1221, 4.2]
type = Veladd
trigger1 = time >= 10
y = .53

[State 1221, 4.3]
type = Posset
trigger1 = time = 10
y = 0

[State 1221, 5]
type = Statetypeset
trigger1 = time = 18
value = L

[State 1221, 6]
type = ChangeState
trigger1 = time > 12
trigger1 = Pos y >= -20
trigger1 = Vel y > 0
value = 1222

;-----------------------------------
; Throw by Napalm Stretch - Bouncing
[Statedef 1222]
type    = L
physics = N
movetype= H
ctrl = 0
velset = -2,-5

[State 1222, 1]
type = Changeanim2
trigger1 = time = 0
value = 1222

[State 1222, 2]
type = Posset
trigger1 = time = 0
y = 0

[State 1222, 3]
type = Posfreeze
trigger1 = time >= 0
trigger1 = time <= 1

[State 1222, 4]
type = Veladd
trigger1 = time >= 2
y = .53

[State 1222, 5]
type = Nothitby
trigger1 = backedgedist < 10
value = SCA

[State 1222, 6]
type = ChangeState
trigger1 = time > 3
trigger1 = Pos y >= -20
trigger1 = Vel y > 0
value = 1223

;----------------------------------
; Throw by Napalm Stretch - Liedown
[Statedef 1223]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1223, 1]
type = Changeanim2
trigger1 = time = 0
value = 1223

[State 1223, 2]
type = posset
trigger1 = time = 0
y = 0

[State 1223, 3]
type = Nothitby
trigger1 = time <= 2
trigger1 = backedgedist < 10
value = SCA

[State 1223, 4.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 1223, 4.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Mount Tackle Short - running
[Statedef 1300]
type    = S
physics = S
anim = 1300
ctrl = 0
velset = 0
facep2 = 1

[State 1300, 1]
type = VelSet
trigger1 = AnimElem = 2, < 0
x = 0

[State 1300, 2]
type = VelSet
trigger1 = time >= 3
trigger1 = time <= 30
x = const(velocity.run.fwd.x)+2.5;faster than normal running

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

; Play sound when running
[State 1300, 3.1]
type = PlaySnd
trigger1 = Timemod = 71,0;start playing from time = 0,then play again for every 71 more ticks
value = 0,5
channel = 20
volume = 80

[State 1300, 3.2]
type = playsnd
trigger1 = time = 0 
value = 0,48
volume = 80
channel = 0

[State 1300, 4.1]
type = StopSnd
trigger1 = p2bodydist x <= 10
trigger1 = time >= 5
trigger2 = time = 23
channel = 20;running snd

[State 1300, 4.2]
type = ChangeState
trigger1 = p2bodydist x <= 10
trigger1 = time >= 5
value = 1301

[State 1300, 4.3]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1

[State 1300, 4.4]
type = ChangeAnim
trigger1 = time >= 25
trigger1 = time <= 30
value = 1300

[State 1300, 5]
type = PlaySnd
trigger1 = Time = 25
value = 0,49
volume = -80

;---------------------------------------------------------------------------
; Mount Tackle Long - running
[Statedef 1310]
type    = S
physics = S
anim = 1300
ctrl = 0
velset = 0
facep2 = 1

[State 1310, 1]
type = VelSet
trigger1 = AnimElem = 2, < 0
x = 0

[State 1310, 2]
type = VelSet
trigger1 = time >= 3
trigger1 = time <= 42
x = const(velocity.run.fwd.x)+2.5;faster than normal running

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

; Play sound when running
[State 1310, 3.1]
type = PlaySnd
trigger1 = Timemod = 71,0;start playing from time = 0,then play again for every 71 more ticks
value = 0,5
channel = 20
volume = 80

[State 1310, 3.2]
type = playsnd
trigger1 = time = 0 
value = 0,48
volume = 80
channel = 0

[State 1310, 4.1]
type = StopSnd
trigger1 = p2bodydist x <= 10
trigger1 = time >= 5
trigger2 = time = 35
channel = 20;running snd

[State 1310, 4.2]
type = ChangeState
trigger1 = p2bodydist x <= 10
trigger1 = time >= 5
value = 1301

[State 1310, 4.3]
type = ChangeState
trigger1 = time = 42
value = 0
ctrl = 1

[State 1310, 4.4]
type = ChangeAnim
trigger1 = time >= 25
trigger1 = time <= 30
value = 1300

[State 1310, 5]
type = PlaySnd
trigger1 = Time = 25
value = 0,49
volume = -80

;----------------------
; Mount Tackle - Tackle
[Statedef 1301]
type    = S
physics = N
movetype= A
anim = 1301
ctrl = 0
juggle = 15
velset = const(velocity.run.fwd.x)+2.5

[State 1301, 1]
type = Hitdef
trigger1 = time = 1
attr = S, ST
hitflag = MA
hitsound = 5,2
damage = 0,10
guardflag = M
gaurd.pausetime = 2,20
priority = 3,hit
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 1303
p2stateno = 1320
p2getp1state = 1
id = 1300
;chainID = id_number (int)
;nochainID = nochain_1, nochain_2 (int)
guard.sparkno = 42
sparkxy = 10, -77
guardsound = 6,0
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -10.8
guard.cornerpush.veloff = 18
getpower = 340
givepower = 244

[State 1301, 2]
type = Velset
trigger1 = time = 10
trigger2 = moveguarded
x = 0

[State 1301, 3]
type = Nothitby
trigger1 = time = 1
value = SCA

[State 1301, 4]
type = ChangeState
trigger1 = animtime = 0
value = 1302

;--------------------------
; Mount Tackle Miss - Getup
[Statedef 1302]
type    = S
physics = N
movetype= A
anim = 1302
ctrl = 0
velset = 0,0

[State 1302, 1]
type = Posadd
trigger1 = prevstateno = 1303
trigger1 = time = 5
x = 30

[State 1302, 2];dust
type = Explod
trigger1 = p2stateno = 1422
trigger2 = p2stateno = 1521
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 1302, 3];play land down snd
type = Playsnd
trigger1 = p2stateno = 1422
trigger2 = p2stateno = 1521
value = 0,37
volume = -100
persistent = 0

[State 1302, 4]
type = changeanim
trigger1 = time = 0
trigger1 = prevstateno = 1400
value = 1401

[State 1302, 5]
type = turn
trigger1 = animtime = 0
trigger1 = prevstateno = 1400
trigger2 = prevstateno = 1500
trigger2 = time = 0

[State 1302, 6]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------
; Mount Tackle Succeed
[Statedef 1303]
type    = S
physics = N
movetype= A
anim = 1303
ctrl = 0

[State 1303, 1]
type = Width
trigger1 = 1
edge = 40,30

[State 1303, 2]
type = Explod
trigger1 = animelem = 1
anim = f2
pos = 41,-84
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 1303, 3.1]
type = playsnd
trigger1 = time = 0 
value = 0,23

[State 1303, 3.2]
type = playsnd
trigger1 = time = 0 
value = 0,49
volume = -80

[State 1303, 4.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 8
pos = 51,-53

[State 1303, 4.2]
type = TargetBind
trigger1 = time >= 9
trigger1 = time <= 11
pos = 43,-46

[State 1303, 4.3]
type = TargetBind
trigger1 = time >= 12
trigger1 = time <= 14
pos = 46,-31

[State 1303, 4.4]
type = TargetBind
trigger1 = time >= 15
trigger1 = time <= 17
pos = 15,1

[State 1303, 4.5]
type = TargetBind
trigger1 = time >= 18
trigger1 = time <= 39
pos = 12,-30

[State 1303, 4.6]
type = TargetBind
trigger1 = time >= 40
trigger1 = time <= 51
pos = 12,1

[State 1303, 5];friction
type = Veladd
trigger1 = vel x > 0
x = -.17

[State 1303, 6]
type = ChangeState
trigger1 = animtime = 0
value = 1302

[State 1303, 7.1]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 1303, 7.2];random for AI
type = VarRandom
trigger1 = 1
v = 5
range = 0,90

[State 1303, 7.3]
type = Varset
trigger1 = command = "c.lift"
trigger1 = time <= 40
var(1) = 1

[State 1303, 7.4]
type = Varset
trigger1 = command = "s.lift"
trigger1 = time <= 40
var(1) = 2

[State 1303, 7.5]
type = Varset
trigger1 = command = "r.cradle"
trigger1 = time <= 40
var(1) = 3

[State 1303, 7.6];Clark Lift
type = Hitdef
triggerall = time = 51
trigger1 = var(1) = 1
trigger2 = var(9) = 1;AI control
trigger2 = var(5) <= 29
attr = S, ST
hitflag = D
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 1400
p2stateno = 1420
p2getp1state = 1
id = 1400
chainID = 1300
;nochainID = nochain_1, nochain_2 (int)
numhits = 0

[State 1303, 7.7];Super Lift
type = Hitdef
triggerall = time = 51
trigger1 = var(1) = 2
trigger2 = var(9) = 1;AI control
trigger2 = var(5) >= 30
trigger2 = var(5) <= 59
attr = S, ST
hitflag = D
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 1500
p2stateno = 1520
p2getp1state = 1
id = 801
chainID = 1300
;nochainID = nochain_1, nochain_2 (int)
numhits = 0

[State 1303, 7.8];Rolling Cradle
type = Hitdef
triggerall = time = 51
trigger1 = var(1) = 3
trigger2 = var(9) = 1;AI control
trigger2 = var(5) > 60
attr = S, ST
hitflag = D
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 1600
p2stateno = 1620
p2getp1state = 1
id = 1600
chainID = 1300
;nochainID = nochain_1, nochain_2 (int)
numhits = 0

;-------------------------
; Tackle by - Mount Tackle
[Statedef 1320]
type    = S
physics = S
movetype= H
ctrl = 0
velset = 0,0

[State 1320, 1]
type = Changeanim2
trigger1 = time = 0
value = 1320

[State 1320, 2]
type = Width
trigger1 = 1
value = -30,-30

[State 1320, 3]
type = Posset
trigger1 = time = 80
y = 0

[State 1320, 4];Can be hit only when time is at 51
type = Nothitby
trigger1 = time <= 50
trigger2 = time >= 52
value = SCA

[State 1320, 5]
type = Statetypeset
trigger1 = time = 40
value = L

[State 1320, 6.1];getup state
type = SelfState
trigger1 = alive
trigger1 = time = 80
value = 5120

[State 1320, 6.2];dead
type = SelfState
trigger1 = !alive
trigger1 = time = 45
value = 5150

;---------------------------------------------------------------------------
; Clark Lift
[Statedef 1400]
type    = S
physics = N
movetype= A
anim = 1400
ctrl = 0
velset = 0,0

[State 1400, 1]
type = Width
trigger1 = time <= 70
edge = 30,30

[State 1400, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 9
trigger2 = time >= 46
trigger2 = time <= 70
value = 2

[State 1400, 2.2]
type = sprpriority
trigger1 = time >= 10
trigger1 = time <= 45
trigger2 = time >= 71
value = 1

[State 1400, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 1
pos = 19,0

[State 1400, 3.2]
type = TargetBind
trigger1 = time >= 2
trigger1 = time <= 3
pos = 0,0

[State 1400, 3.3]
type = TargetBind
trigger1 = time >= 4
trigger1 = time <= 9
pos = 20,-10

[State 1400, 3.4]
type = TargetBind
trigger1 = time >= 10
trigger1 = time <= 15
pos = 5,-20

[State 1400, 3.5]
type = TargetBind
trigger1 = time >= 16
trigger1 = time <= 21
pos = 3,-27

[State 1400, 3.6]
type = TargetBind
trigger1 = time >= 22
trigger1 = time <= 27
pos = 14,-36

[State 1400, 3.7]
type = TargetBind
trigger1 = time >= 28
trigger1 = time <= 33
pos = 35,-57

[State 1400, 3.8]
type = TargetBind
trigger1 = time >= 34
trigger1 = time <= 39
pos = 17,-64

[State 1400, 3.9]
type = TargetBind
trigger1 = time >= 40
trigger1 = time <= 45
pos = 15,-70

[State 1400, 3.10]
type = TargetBind
trigger1 = time >= 46
trigger1 = time <= 53
pos = -11,-90

[State 1400, 3.11]
type = TargetBind
trigger1 = time >= 54
trigger1 = time <= 61
pos = -2,-86

[State 1400, 3.12]
type = TargetBind
trigger1 = time >= 62
trigger1 = time <= 69
pos = -2,-86

[State 1400, 3.13]
type = TargetBind
trigger1 = time = 70
pos = -3,-67

[State 1400, 4]
type = Explod
trigger1 = animelem = 3
anim = f21
pos = 21,-10
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 1400, 5.1];clark hand
type = Explod
trigger1 = animelem = 4
anim = 1411
pos = 0,0
postype = p1
bindtime = 6
sprpriority = 3

[State 1400, 5.2];clark hand
type = Explod
trigger1 = animelem = 5
anim = 1412
pos = 0,0
postype = p1
bindtime = 6
sprpriority = 3

[State 1400, 5.3];clark hand
type = Explod
trigger1 = animelem = 6
anim = 1413
pos = 0,0
postype = p1
bindtime = 6
sprpriority = 3

[State 1400, 5.4];clark hand
type = Explod
trigger1 = animelem = 8
anim = 1414
pos = 0,0
postype = p1
bindtime = 6
sprpriority = 3

[State 1400, 5.5];clark hand
type = Explod
trigger1 = animelem = 9
anim = 1415
pos = 0,0
postype = p1
bindtime = 6
sprpriority = 3

[State 1400, 6.1];play catch snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,33
volume = -80

[State 1400, 6.2]
type = Playsnd
trigger1 = time = 45
value = 0,50
volume = 80
channel = 0

[State 1400, 6.3];play drop snd
type = Playsnd
trigger1 = p2stateno = 1421
value = 0,36
volume = -100
persistent = 0

[State 800, hit]
type = Hitadd
trigger1 = animelem = 13
value = 1

[State 1421, 3];damage
type = TargetLifeadd
trigger1 = Animelem = 13
value = ifelse(var(12)=1,-70,-140)
;absolute = 1

[State 1400, 7.1]
type = posadd
trigger1 = animelem = 11
x = -39

[State 1400, 7.2]
type = posadd
trigger1 = animtime = 0
x = 32

[State 1400, 8]
type = turn
trigger1 = time = 0

[State 1400, 9];smash ground effect
type = Explod
trigger1 = p2stateno = 1421
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 1400, 10]
type = ChangeState
trigger1 = animtime = 0
value = 1302

;--------------------
; Throw by Clark Lift
[Statedef 1420]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1420, 1]
type = Changeanim2
trigger1 = time = 0
value = 1420

[State 1420, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 9
trigger2 = time >= 46
trigger2 = time <= 70
value = 1

[State 1420, 2.2]
type = sprpriority
trigger1 = time >= 10
trigger1 = time <= 45
trigger2 = time >= 71
value = 2

[State 1420, 3]
type = Velset
trigger1 = time = 70
x = -12
y = 9

[State 1420, 4]
type = Width
trigger1 = time <= 70
value = -30,-30

[State 1420, 5]
type = ChangeState
trigger1 = time >= 72
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 1421

;-------------------------------
; Throw by Clark Lift - bouncing
[Statedef 1421]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,-6

[State 1421, 1]
type = Changeanim2
trigger1 = time = 0
value = 1421

[State 1421, 2];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 50
ampl = -6

[State 1421, 4]
type = Veladd
trigger1 = time >= 3
y = .5

[State 1421, 5]
type = posfreeze
trigger1 = time >= 0
trigger1 = time <= 2

[State 1421, 6]
type = posset
trigger1 = time = 0
y = 0

[State 1421, 7]
type = Changestate
trigger1 = time >= 4
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 1422

;------------------------------
; Throw by Clark Lift - Liedown
[Statedef 1422]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1422, 1]
type = Changeanim2
trigger1 = time = 0
value = 1422

[State 1422, 2]
type = posset
trigger1 = time = 0
y = 0

[State 1422, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 1422, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 20
value = 5120

;---------------------------------------------------------------------------
; Super Lift
[Statedef 1500]
type    = S
physics = N
movetype= A
anim = 1500
ctrl = 0
velset = 0,0

[State 1500, 1]
type = Width
trigger1 = 1
edge = 40,30

[State 1500, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 9
trigger2 = time >= 28
trigger2 = time <= 46
value = 2

[State 1500, 2.2]
type = sprpriority
trigger1 = time >= 10
trigger1 = time <= 27
trigger2 = time >= 47
value = 1

[State 1500, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 1
pos = 19,0

[State 1500, 3.2]
type = TargetBind
trigger1 = time >= 2
trigger1 = time <= 3
pos = 0,0

[State 1500, 3.3]
type = TargetBind
trigger1 = time >= 4
trigger1 = time <= 9
pos = 20,-26

[State 1500, 3.4]
type = TargetBind
trigger1 = time >= 10
trigger1 = time <= 15
pos = 10,-25

[State 1500, 3.5]
type = TargetBind
trigger1 = time >= 16
trigger1 = time <= 21
pos = 16,-38

[State 1500, 3.6]
type = TargetBind
trigger1 = time >= 22
trigger1 = time <= 27
pos = 3,-49

[State 1500, 3.7]
type = TargetBind
trigger1 = time >= 28
trigger1 = time <= 33
pos = 30,-57

[State 1500, 3.8]
type = TargetBind
trigger1 = time >= 34
trigger1 = time <= 40
pos = 46,-56

[State 1500, 3.9]
type = TargetBind
trigger1 = time >= 41
trigger1 = time <= 43
pos = 13,-67

[State 1500, 3.10]
type = TargetBind
trigger1 = time >= 44
trigger1 = time <= 46
pos = -21,-28

[State 1500, 3.11]
type = TargetBind
trigger1 = time >= 47
trigger1 = time <= 54
pos = -23,-3

[State 1500, 4]
type = Explod
trigger1 = animelem = 3
anim = f21
pos = 21,-10
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 1500, 5.1];clark hand
type = Explod
trigger1 = animelem = 4
anim = 1411
pos = 0,0
postype = p1
bindtime = 6
sprpriority = 3

[State 1500, 5.2];clark hand
type = Explod
trigger1 = animelem = 5
anim = 1412
pos = 0,0
postype = p1
bindtime = 6
sprpriority = 3

[State 1500, 5.3];clark hand
type = Explod
trigger1 = animelem = 6
anim = 1413
pos = 0,0
postype = p1
bindtime = 6
sprpriority = 3

[State 800, hit]
type = Hitadd
trigger1 = animelem = 11
value = 1

[State 1520, 7]
type = Targetlifeadd
trigger1 = Animelem = 11
value = ifelse(var(12)=1,-65,-130)
;absolute = 1

[State 1500, 6.1];play catch snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,33
volume = -80

[State 1500, 6.2]
type = Playsnd
trigger1 = time = 35
value = 0,51
volume = 80
channel = 0

[State 1500, 6.3];play drop snd
type = Playsnd
trigger1 = time = 55
value = 0,36
volume = -80

[State 1500, 6.4];play drop snd
type = Playsnd
trigger1 = time = 48
value = 0,36
volume = -40;louder

[State 1500, 7]
type = posadd
trigger1 = animelem = 10
x = -35

[State 1500, 8]
type = turn
trigger1 = time = 0

[State 1500, 9];ground wave
type = Explod
trigger1 = time = 48
anim = 8100
pos = 12,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 1500, 10]
type = ChangeState
trigger1 = animtime = 0
value = 1302

[State 1500, 11.1]
type = Varset
trigger1 = time = 0
var(1) = 0

[State 1500, 11.21]
type = Varset
triggerall = time > 18
trigger1 = command = "ielbow";either direction will works on this move
trigger2 = command = "elbow"
trigger3 = var(9) = 1;Only AI can access
var(1) = -1

[State 1500, 11.22]
type = ChangeState
triggerall = time = 68
trigger1 = var(1) = -1
value = 900

;--------------------
; Throw by Super Lift
[Statedef 1520]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1520, 1]
type = Changeanim2
trigger1 = time = 0
value = 1520

[State 1520, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 9
trigger2 = time >= 28
trigger2 = time <= 46
value = 1

[State 1520, 2.2]
type = sprpriority
trigger1 = time >= 10
trigger1 = time <= 27
trigger2 = time >= 47
value = 2

[State 1520, 3.1]
type = Velset
trigger1 = time = 68
y = -3

[State 1520, 3.2]
type = Veladd
trigger1 = time >= 68
y = .5

[State 1520, 3.3]
type = Posadd
trigger1 = time = 55
x = -30

[State 1520, 3.4]
type = Posadd
trigger1 = time = 58
y = -18

[State 1520, 4]
type = turn
trigger1 = time = 58

[State 1520, 5]
type = posfreeze
trigger1 = time >= 47
trigger1 = time <= 67

[State 1520, 6]
type = Width
trigger1 = time <= 54
value = -30,-30

[State 1520, 8];shaking effect
type = Envshake
trigger1 = time = 48
time = 15
freq = 30
ampl = -6

[State 1520, 9]
type = Statetypeset
trigger1 = time = 55
value = L

[State 1520, 10]
type = ChangeState
trigger1 = time >= 70
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 1521

;------------------------------
; Throw by Super Lift - Liedown
[Statedef 1521]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1521, 1]
type = Changeanim2
trigger1 = time = 0
value = 1521

[State 1521, 2]
type = posset
trigger1 = time = 0
y = 0

[State 1521, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 1521, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Rolling Cradle
[Statedef 1600]
type    = S
physics = N
movetype= A
anim = 1600
ctrl = 0
velset = 0,0

[State 1600, 1]
type = Width
trigger1 = 1
edge = 20,20

[State 1600, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 39
trigger2 = time >= 43
trigger2 = time <= 71
trigger3 = time >= 75
value = 2

[State 1600, 2.2]
type = sprpriority
trigger1 = time >= 40
trigger1 = time <= 42
trigger2 = time >= 72
trigger2 = time <= 74
value = 1

[State 1600, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 3
pos = 20,0

[State 1600, 3.2]
type = TargetBind
trigger1 = time >= 4
trigger1 = time <= 10
pos = -2,0

[State 1600, 3.3]
type = TargetBind
trigger1 = time >= 11
trigger1 = time <= 16
pos = -15,0

[State 1600, 3.4]
type = TargetBind
trigger1 = time >= 17
trigger1 = time <= 19
pos = 0,0

[State 1600, 3.5]
type = TargetBind
trigger1 = time >= 20
trigger1 = time <= 23
pos = 9,0

[State 1600, 3.6]
type = TargetBind
trigger1 = time >= 24
trigger1 = time <= 25
trigger2 = time >= 56
trigger2 = time <= 57
trigger3 = time >= 89
trigger3 = time <= 90
pos = 9,-26

[State 1600, 3.7]
type = TargetBind
trigger1 = time >= 26
trigger1 = time <= 29
trigger2 = time >= 58
trigger2 = time <= 61
trigger3 = time >= 91
trigger3 = time <= 94
pos = 9,-28

[State 1600, 3.8]
type = TargetBind
trigger1 = time >= 30
trigger1 = time <= 32
trigger2 = time >= 62
trigger2 = time <= 64
trigger3 = time >= 95
trigger3 = time <= 97
pos = -16,-26

[State 1600, 3.9]
type = TargetBind
trigger1 = time >= 33
trigger1 = time <= 35
trigger2 = time >= 65
trigger2 = time <= 67
pos = 3,-25

[State 1600, 3.10]
type = TargetBind
trigger1 = time >= 36
trigger1 = time <= 39
trigger2 = time >= 49
trigger2 = time <= 51
trigger3 = time >= 68
trigger3 = time <= 71
trigger4 = time >= 81
trigger4 = time <= 84
pos = 14,-13

[State 1600, 3.11]
type = TargetBind
trigger1 = time >= 40
trigger1 = time <= 42
trigger2 = time >= 72
trigger2 = time <= 74
pos = -4,-20

[State 1600, 3.12]
type = TargetBind
trigger1 = time >= 43
trigger1 = time <= 45
trigger2 = time >= 75
trigger2 = time <= 77
pos = 0,-15

[State 1600, 3.13]
type = TargetBind
trigger1 = time >= 46
trigger1 = time <= 48
trigger2 = time >= 78
trigger2 = time <= 80
pos = 8,-23

[State 1600, 3.14]
type = TargetBind
trigger1 = time >= 52
trigger1 = time <= 55
trigger2 = time >= 85
trigger2 = time <= 88
pos = 13,-28

[State 1600, 3.15]
type = TargetBind
trigger1 = time >= 98
trigger1 = time <= 100
pos = -9,-54

[State 1600, 3.16]
type = TargetBind
trigger1 = time >= 101
trigger1 = time <= 103
pos = -46,0

[State 1600, 4]
type = Explod
trigger1 = animelem = 1
anim = f21
pos = -52,-87
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 1600, 5.1];play catch snd
type = Playsnd
trigger1 = time = 0
value = 0,33
volume = -80

[State 1600, 5.2]
type = Playsnd
trigger1 = time = 0
value = 0,17
volume = 80
channel = 0

[State 1600, 5.3]
type = Playsnd
trigger1 = animelem = 6
value = 0,52
volume = 80
channel = 0

[State 1600, 5.4];play drop snd
type = Playsnd
trigger1 = p2stateno = 1621
value = 0,37
volume = -80
persistent = 0

[State 800, hit]
type = Hitadd
trigger1 = animelem = 9
trigger2 = animelem = 14
trigger3 = animelem = 19
trigger4 = animelem = 24
trigger5 = time = 101
value = 1

[State 1620, 4.1]
type = Targetlifeadd
trigger1 = animelem = 9
trigger2 = animelem = 14
trigger3 = animelem = 19
trigger4 = animelem = 24
value = ifelse(var(12)=1,-10,-20)
;absolute = 1
kill = 0

[State 1620, 4.2]
type = Targetlifeadd
trigger1 = time = 101
value = ifelse(var(12)=1,-25,-50)
;absolute = 1

[State 1600, 5.5];play drop snd
type = Playsnd
trigger1 = animelem = 9
trigger2 = animelem = 14
trigger3 = animelem = 19
trigger4 = animelem = 24
trigger5 = animelem = 30
value = 0,36
volume = -40;louder

[State 1600, 5.6];play swing snd
type = Playsnd
trigger1 = animelem = 29
value = 0,34
volume = -40

[State 1600, 6.1]
type = Velset
trigger1 = animelem = 6
x = -2.5

[State 1600, 6.2]
type = Velset
trigger1 = animelem = 29
x = 0

[State 1600, 7]
type = turn
trigger1 = time = 0
trigger2 = animtime = 0

[State 1600, 8.1];ground wave
type = Explod
trigger1 = animelem = 9
trigger2 = animelem = 14
trigger3 = animelem = 19
trigger4 = animelem = 24
anim = 8100
pos = 0,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 1600, 8.2];ground wave
type = Explod
trigger1 = animelem = 30
anim = 8100
pos = -42,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 1600, 8.3];ground wave
type = Explod
trigger1 = p2stateno = 1621
anim = 8100
pos = 12,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 1600, 8.4];dust
type = Explod
trigger1 = p2stateno = 1621
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 1600, 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------
; Slam by Rolling Cradle
[Statedef 1620]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1620, 1.1]
type = Changeanim2
trigger1 = time = 0
value = 1620

[State 1620, 1.21];lie down facing down animation
type = Changeanim
trigger1 = time = 101
trigger1 = SelfAnimExist(5111)
value = 5111

[State 1620, 1.22];change to this animation if player don't have animation 5111
type = Changeanim2
trigger1 = time = 101
trigger1 = !SelfAnimExist(5111)
value = 1622

[State 1620, 1.31]
type = Changeanim2
trigger1 = time = 104
trigger1 = SelfAnimExist(5111)
value = 1621

[State 1620, 1.32]
type = Changeanim2
trigger1 = time = 104
trigger1 = !SelfAnimExist(5111)
value = 1623

[State 1620, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 39
trigger2 = time >= 43
trigger2 = time <= 71
trigger3 = time >= 75
value = 1

[State 1620, 2.2]
type = sprpriority
trigger1 = time >= 40
trigger1 = time <= 42
trigger2 = time >= 72
trigger2 = time <= 74
value = 2

[State 1620, 3]
type = Width
trigger1 = time <= 104
value = -30,-30

[State 1620, 5];shaking effect
type = Envshake
trigger1 = animelem = 9
trigger2 = animelem = 14
trigger3 = animelem = 19
trigger4 = animelem = 24
trigger5 = time = 101
time = 15
freq = 60
ampl = -6

[State 1620, 6.1]
type = Velset
trigger1 = time = 104
x = -5
y = -7

[State 1620, 6.2];gravity
type = Veladd
trigger1 = time >= 104
y = .5

[State 1620, 7]
type = Statetypeset
trigger1 = time = 104
value = A

[State 1620, 8]
type = Nothitby
trigger1 = time <= 104
value = SCA

[State 1620, 9]
type = ChangeState
trigger1 = time >= 105
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 1621

;----------------------------------
; Slam by Rolling Cradle - Bouncing
[Statedef 1621]
type    = L
physics = N
movetype= H
ctrl = 0
velset = -3,-4

[State 1621, 1.1]
type = Changeanim
trigger1 = time = 0
trigger1 = SelfAnimExist(5111)
value = 5111

[State 1621, 1.2]
type = Changeanim2
trigger1 = time = 0
trigger1 = !SelfAnimExist(5111)
value = 1624

[State 1621, 1.3]
type = Changeanim2
trigger1 = time = 2
trigger1 = SelfAnimExist(5111)
value = 1621

[State 1621, 1.4]
type = Changeanim2
trigger1 = time = 2
trigger1 = !SelfAnimExist(5111)
value = 1624

[State 1621, 2]
type = Posfreeze
trigger1 = time >= 0
trigger1 = time <= 1

[State 1621, 3.1];gravity
type = Veladd
trigger1 = time >= 2
y = .5

[State 1621, 3.2]
type = Posset
trigger1 = time = 0
y = 0

[State 1621, 3.3]
type = Posset
trigger1 = time = 2
y = -10

[State 1621, 4]
type = ChangeState
trigger1 = time >= 3
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 1622

;---------------------------------
; Slam by Rolling Cradle - liedown
[Statedef 1622]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1622, 1.1];lie down facing down animation
type = Changeanim
trigger1 = SelfAnimExist(5111)
trigger1 = time = 0
value = 5111

[State 1622, 1.2];lie down facing up animation
type = Changeanim2
trigger1 = !SelfAnimExist(5111)
trigger1 = time = 0
value = 1625

[State 1622, 2]
type = posset
trigger1 = time = 0
y = 0

[State 1622, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5110

[State 1622, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Running Launcher - Short
[Statedef 1700]
type    = S
physics = N
movetype = A
anim = 1700
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

[State 1700, 1]
type = Velset
trigger1 = animelem = 2
x = const(velocity.run.fwd.x)

[State 1700, 2]
type = sprpriority
trigger1 = 1
value = 3

[State 1700, 3.1]
type = PlaySnd
trigger1 = Timemod = 71,3;start playing from time = 0,then play again for every 71 more ticks
value = 0,5
channel = 20
volume = 80

[State 1700, 3.2]
type = StopSnd
trigger1 = Time = 40
trigger2 = time >= 6
trigger2 = p2bodydist x <= 20
channel = 20;running snd

[State 1700, 4.1]
type = Changestate
trigger1 = Time = 40
value = 0
ctrl = 1

[State 1700, 4.2]
type = Changestate
trigger1 = time >= 10
trigger1 = p2bodydist x <= 15
value = 1701

[State 1700, 5.1]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 1700, 5.2]
type = Varadd
trigger1 = Time >= 0
var(1) = 1

;---------------------------------------------------------------------------
; Running Launcher - Long
[Statedef 1703]
type    = S
physics = N
movetype= A
anim = 1700
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

[State 1703, 1]
type = Velset
trigger1 = animelem = 2
x = const(velocity.run.fwd.x)

[State 1703, 2]
type = sprpriority
trigger1 = 1
value = 3

[State 1703, 3.1]
type = PlaySnd
trigger1 = Timemod = 71,3;start playing from time = 0,then play again for every 71 more ticks
value = 0,5
channel = 20
volume = 80

[State 1703, 3.2]
type = StopSnd
trigger1 = Time = 55
trigger2 = time >= 6
trigger2 = p2bodydist x <= 20
channel = 20;running snd

[State 1703, 4.1]
type = Changestate
trigger1 = Time = 55
value = 0
ctrl = 1

[State 1703, 4.2]
type = Changestate
trigger1 = time >= 10
trigger1 = p2bodydist x <= 15
value = 1701

[State 1703, 5.1]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 1703, 5.2]
type = Varadd
trigger1 = Time >= 0
var(1) = 1

;--------------------------------
; Running Launcher - Grab Attempt
[Statedef 1701]
type    = S
physics = N
movetype= A
anim = 1701
ctrl = 0
velset = 0,0

[State 1701, 1]
type = Nothitby
trigger1 = animelem = 2
value = SCA

[State 1701, 2]
type = sprpriority
trigger1 = 1
value = 3

[State 1701, 3]
type = Hitdef
triggerall = animelem = 2
triggerall = p2stateno != 150 && 151 && 130 && 131 && 140 && 141;make sure opponent is not in guarding state
trigger1 = var(1) >= 11
trigger2 = p2movetype != H;does not grab when opponent is hurt
trigger2 = var(1) <= 10
attr = S, ST
hitflag = M
priority = 7, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 1702
p2stateno = 1720
p2getp1state = 1
id = 1700
;nochainID = nochain_1, nochain_2 (int)
numhits = 0
getpower = 340
givepower = 244

[State 1701, 4]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------
; Running Launcher - Succeed
[Statedef 1702]
type    = S
physics = N
movetype= A
anim = 1702
ctrl = 0
velset = 0,0

[State 1702, 1]
type = Posadd
trigger1 = animelem = 9
x = 35

[State 1702, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 13
pos = 55,0

[State 1702, 2.2]
type = TargetBind
trigger1 = time >= 14
trigger1 = time <= 15
pos = 22,-60

[State 1702, 2.3]
type = TargetBind
trigger1 = time >= 16
trigger1 = time <= 18
pos = 7,-63

[State 1702, 2.4]
type = TargetBind
trigger1 = time >= 19
trigger1 = time <= 22
pos = 0,-75

[State 1702, 2.5]
type = TargetBind
trigger1 = time >= 23
trigger1 = time <= 26
pos = -9,-93

[State 1702, 2.6]
type = TargetBind
trigger1 = time >= 27
trigger1 = time <= 30
pos = 0,-117

[State 1702, 2.7]
type = TargetBind
trigger1 = time >= 31
trigger1 = time <= 33
pos = 4,-117

[State 1702, 2.8]
type = TargetBind
trigger1 = time >= 34
trigger1 = time <= 36
pos = 10,-118

[State 1702, 2.9]
type = TargetBind
trigger1 = time >= 37
trigger1 = time <= 38
pos = -14,-119

[State 1702, 2.10]
type = TargetBind
trigger1 = time >= 39
trigger1 = time <= 42
pos = -6,-105

[State 1702, 2.11]
type = TargetBind
trigger1 = time >= 43
trigger1 = time <= 46
pos = 0,-105

[State 1702, 2.12]
type = TargetBind
trigger1 = time >= 47
trigger1 = time <= 70
pos = -1,-105

[State 1702, 2.13]
type = TargetBind
trigger1 = time >= 71
trigger1 = time <= 75
pos = 4,-110

[State 1702, 2.14]
type = TargetBind
trigger1 = time >= 76
trigger1 = time <= 80
pos = -35,-110

[State 1702, 3.1]
type = Explod
trigger1 = time = 0
anim = f21
pos = 63,-80
postype = p1
bindtime = 1
ownpal = 1
sprpriority = 2;between player and opponent

[State 1702, 3.2];ground wave
type = Explod
trigger1 = p2stateno = 1721
anim = 8100
pos = 12,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 800, hit]
type = Hitadd
trigger1 = animelem = 15
value = 1

[State 1720, 5]
type = targetlifeadd
trigger1 = Animelem = 15
value = ifelse(var(12)=1,-60,-120)
;absolute = 1

[State 1702, 3.3];dust
type = Explod
trigger1 = p2stateno = 1722
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 1702, 4.1]
type = sprpriority
trigger1 = time <= 15
value = 3

[State 1702, 4.2]
type = sprpriority
trigger1 = time >= 31
value = 2

[State 1702, 4.3]
type = sprpriority
trigger1 = time >= 16
trigger1 = time <= 30
value = 1

[State 1702, 5.1]
type = Playsnd
trigger1 = time = 0
value = 0,33
volume = -80

[State 1702, 5.2]
type = Playsnd
trigger1 = animelem = 12
value = 0,56
volume = 80
channel = 0

[State 1702, 5.3]
type = Playsnd
trigger1 = animelem = 14
value = 0,57
volume = 80
channel = 0

[State 1702, 5.4]
type = Playsnd
trigger1 = p2stateno = 1721
value = 0,36
volume = -80
persistent = 0

[State 1702, 5.5]
type = Playsnd
trigger1 = p2stateno = 1722
value = 0,37
volume = -80
persistent = 0

[State 1702, 6]
type = Width
trigger1 = 1
edge = 30,35

[State 1702, 7]
type = Turn
trigger1 = animelem = 17

[State 1702, 8];adjust the camera
type = ScreenBound
trigger1 = time <= 80
value = 1

[State 1702, 9]
type = Changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1

;--------------------------
; Throw by Running Launcher
[Statedef 1720]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1720, 1]
type = Changeanim2
trigger1 = Time = 0
value = 1720

[State 1720, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 15
trigger2 = time >= 31
value = 1

[State 1720, 2.2]
type = sprpriority
trigger1 = time >= 16
trigger1 = time <= 30
value = 2

[State 1720, 3]
type = Width
trigger1 = 1
value = -30,-30

[State 1720, 4]
type = Turn
trigger1 = animelem = 14

[State 1720, 6.1]
type = Velset
trigger1 = time = 81
x = -4
y = -8

[State 1720, 6.2];gravity
type = Veladd
trigger1 = time >= 81
y = .5

[State 1720, 7];adjust the camera
type = ScreenBound
trigger1 = time <= 80
value = 1

[State 1720, 8]
type = Changestate
trigger1 = time >= 82
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 1721

;-----------------------------------------
; Throw by Running Launcher - Reach Ground
[Statedef 1721]
type    = A
physics = N
movetype= H
ctrl = 0
velset = -3,-3

[State 1721, 1]
type = Changeanim2
trigger1 = Time <= 1
value = 1721

[State 1721, 2.1];gravity
type = Veladd
trigger1 = time >= 2
y = .5

[State 1721, 2.2]
type = Posset
trigger1 = Time <= 1
y = 0

[State 1721, 2.3]
type = Posset
trigger1 = Time = 2
y = -10

[State 1721, 3]
type = Posfreeze
trigger1 = Time <= 1
y = .5

[State 1721, 4]
type = Changestate
trigger1 = time >= 3
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 1722

;------------------------------------
; Throw by Running Launcher - Liedown
[Statedef 1722]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1722, 1]
type = Changeanim2
trigger1 = time = 0
value = 1722

[State 1722, 2]
type = posset
trigger1 = time = 0
y = 0

[State 1722, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 1722, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Flashing Launcher(Self-Striker)
[Statedef 1800]
type    = A
physics = N
movetype= A
anim = 1800
ctrl = 0
velset = 0,0
facep2 = 1

[State 1800, 1.1]
type = velset
trigger1 = time = 4
y = -10
x = -6

[State 1800, 1.2]
type = veladd
trigger1 = time >= 4
y = -1

[State 1800, 2];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 1800, 3]
type = Playsnd
trigger1 = time = 4
value = 0,3
volume = -80

[State 1800, 4]
type = Changestate
trigger1 = BackEdgeBodyDist <= 0
trigger1 = Time >= 18
value = 1801

;------------------------------------------
; Flashing Launcher(Self-Striker) - Jump in
[Statedef 1801]
type    = A
physics = N
movetype= A
anim = 1801
ctrl = 0
velset = 0,3

[State 1801, 1.1]
type = posset
trigger1 = time = 10
trigger1 = p2bodydist x > 50
y = -70

[State 1801, 1.2]
type = posset
trigger1 = time = 10
trigger1 = p2bodydist x <= 50
y = -50

[State 1801, 2]
type = posfreeze
trigger1 = time <= 10
y = -60

[State 1801, 3.1]
type = velset
trigger1 = time = 0
x = 10

[State 1801, 3.2]
type = Gravity
trigger1 = time >= 10

[State 1801, 4]
type = Hitdef
trigger1 = animelem = 2
attr = A, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = Back
fall.animtype = Back
priority = 4,Hit
damage = 40, 0
pausetime = 10, 14
guard.pausetime = 10, 14
sparkno = 1
guard.sparkno = 41
sparkxy = 8, -48
hitsound = 5,2
guardsound = 6,0
ground.type = Low
air.type = Trip
ground.slidetime = 18
guard.slidetime = 18
ground.hittime = 19
guard.hittime = 19
air.hittime = 0
guard.ctrltime = 15
ground.velocity = -12.5
guard.velocity = -12
air.velocity = -3.5, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = 1
givepower = 100, 60

[State 1801, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 1801, 6]
type = Playsnd
trigger1 = time = 10
value = 0,3
volume = -80

[State 1801, 7]
type = Changestate
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 1802

;-----------------------------------------------
; Flashing Launcher(Self-Striker) - Grab Attempt
[Statedef 1802]
type    = S
physics = N
movetype= A
anim = 1802
ctrl = 0
velset = 0,0

[State 1802, 1.1]
type = SuperPause
trigger1 = Time = 8
anim = -1
time = 18
movetime = 18

[State 1802, 1.2]
type = Explod
trigger1 = Time = 12
anim = 8800
pos = 26,-82
postype = p1
supermove = 1
bindtime = 30
ontop = 0
ownpal = 1

[State 1802, 1.3]
type = Playsnd
trigger1 = time = 8
value = 0,55
volume = -80

[State 1802, 1.4]
type = Playsnd
trigger1 = time = 0
value = 0,2
volume = -80

[State 1802, 2.1]
type = posadd
trigger1 = animelem = 3
x = 25

[State 1802, 2.2]
type = posset
trigger1 = time = 0
y = 0

[State 1802, 3]
type = Nothitby
trigger1 = animelem = 4
value = SCA

[State 1802, 4]
type = sprpriority
trigger1 = 1
value = 3

[State 1802, 5]
type = Hitdef
trigger1 = animelem = 2
attr = S, ST
hitflag = MAF
guardflag = M
guard.pausetime = 10, 22
priority = 7, Miss
sparkno = -1
guard.sparkno = 42
sparkxy = 8, -80
sprpriority = 2
p2facing = 1
p1stateno = 1803
p2stateno = 1820
p2getp1state = 1
id = 1800
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -12
;nochainID = nochain_1, nochain_2 (int)
guard.cornerpush.veloff = -20
givepower = 144,200

[State 1802, 6]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------
; Flashing Launcher(Self-Striker) - Succeed
[Statedef 1803]
type    = S
physics = N
movetype= A
anim = 1803
ctrl = 0
velset = 0,0

[State 1803, 1]
type = Posadd
trigger1 = animelem = 9
x = 35

[State 1803, 2.1]
type = TargetBind
trigger1 = time >= 13
trigger1 = time <= 26
pos = 55,0

[State 1803, 2.2]
type = TargetBind
trigger1 = time >= 27
trigger1 = time <= 28
pos = 22,-60

[State 1803, 2.3]
type = TargetBind
trigger1 = time >= 29
trigger1 = time <= 31
pos = 7,-63

[State 1803, 2.4]
type = TargetBind
trigger1 = time >= 32
trigger1 = time <= 35
pos = 0,-75

[State 1803, 2.5]
type = TargetBind
trigger1 = time >= 36
trigger1 = time <= 39
pos = -9,-93

[State 1803, 2.6]
type = TargetBind
trigger1 = time >= 40
trigger1 = time <= 43
pos = 0,-117

[State 1803, 2.7]
type = TargetBind
trigger1 = time >= 44
trigger1 = time <= 46
pos = 4,-117

[State 1803, 2.8]
type = TargetBind
trigger1 = time >= 47
trigger1 = time <= 49
pos = 10,-118

[State 1803, 2.9]
type = TargetBind
trigger1 = time >= 50
trigger1 = time <= 51
pos = -14,-119

[State 1803, 2.10]
type = TargetBind
trigger1 = time >= 52
trigger1 = time <= 55
pos = -6,-105

[State 1803, 2.11]
type = TargetBind
trigger1 = time >= 56
trigger1 = time <= 59
pos = 0,-105

[State 1803, 2.12]
type = TargetBind
trigger1 = time >= 60
trigger1 = time <= 83
pos = -1,-105

[State 1803, 2.13]
type = TargetBind
trigger1 = time >= 84
trigger1 = time <= 88
pos = 4,-110

[State 1803, 2.14]
type = TargetBind
trigger1 = time >= 89
trigger1 = time <= 93
pos = -35,-110

[State 1803, 3.1]
type = Explod
trigger1 = time = 0
anim = f2
pos = 75,-62
postype = p1
bindtime = 1
ownpal = 1
sprpriority = 2;between player and opponent

[State 1803, 3.2];ground wave
type = Explod
trigger1 = p2stateno = 1721
anim = 8100
pos = 12,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 1803, 3.3];dust
type = Explod
trigger1 = p2stateno = 1722
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 1803, 4.1]
type = sprpriority
trigger1 = time <= 28
value = 3

[State 1803, 4.2]
type = sprpriority
trigger1 = time >= 44
value = 2

[State 1803, 4.3]
type = sprpriority
trigger1 = time >= 29
trigger1 = time <= 43
value = 1

[State 1803, 5.1]
type = Playsnd
trigger1 = time = 0
value = 0,33
volume = -80

[State 1803, 5.2]
type = Playsnd
trigger1 = animelem = 12
value = 0,56
volume = 80
channel = 0

[State 1803, 5.3]
type = Playsnd
trigger1 = animelem = 14
value = 0,57
volume = 80
channel = 0

[State 1803, 5.4]
type = Playsnd
trigger1 = p2stateno = 1721
value = 0,36
volume = -80
persistent = 0

[State 1803, 5.5]
type = Playsnd
trigger1 = p2stateno = 1722
value = 0,37
volume = -80
persistent = 0

[State 1803, 6]
type = Width
trigger1 = 1
edge = 30,35

[State 1803, 7]
type = Turn
trigger1 = animelem = 17

[State 1803, 8];adjust the camera
type = ScreenBound
trigger1 = time <= 93
value = 1

[State 1803, 9]
type = Changestate
trigger1 = Animtime = 0
value = 0
ctrl = 1

;-----------------------------------------
; Throw by Flashing Launcher(Self-Striker)
[Statedef 1820]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 1820, 1]
type = Changeanim2
trigger1 = Time = 0
value = 1820

[State 1820, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 28
trigger2 = time >= 44
value = 1

[State 1820, 2.2]
type = sprpriority
trigger1 = time >= 29
trigger1 = time <= 43
value = 2

[State 1820, 3]
type = Width
trigger1 = 1
value = -30,-30

[State 1820, 4]
type = Turn
trigger1 = animelem = 14

[State 1820, 5]
type = lifeadd
trigger1 = time = 81
value = -50
;absolute = 1

[State 1820, 6.1]
type = Velset
trigger1 = time = 94
x = -4
y = -8

[State 1820, 6.2];gravity
type = Veladd
trigger1 = time >= 94
y = .5

[State 1820, 7];adjust the camera
type = ScreenBound
trigger1 = time <= 93
value = 1

[State 1820, 8];use throw by running launcher animation
type = Changestate
trigger1 = time >= 95
trigger1 = pos y >= -10
trigger1 = vel y > 0
value = 1721

;==============
; Super Attacks
;==============
; Ultra Argentina BackBreaker Attempt
[Statedef 3000]
type    = S
physics = S
movetype= A
anim = ifelse(prevstateno>=800,2999,3000)
poweradd = -1000
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

[State 3000, 19]
type = Helper
triggerall = prevstateno = [800,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3000, 1.1];pause for miss
type = SuperPause
trigger1 = Time = 1
trigger1 = var(10) = 0
anim = -1
time = 30

[State 3000, 1.2];foreground superspark 
type = Explod
trigger1 = Time = 1
anim = f100
pos = 20,-97
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 3000, 1.3];background superspark 
type = Explod
trigger1 = Time = 1
trigger1 = var(10) = 0;disable for counter mode
anim = f101
pos = 20,-97
postype = p1
supermove = 1
bindtime = 30
ontop = 0
ownpal = 1

[State 3000, 1.5];chime snd
type = playsnd
trigger1 = Time = 1
value = F20,0

[State 3000, 2]
type = Hitdef
trigger1 = time = 0
trigger1 = p2stateno != 150 && 151 && 130 && 131 && 140 && 141;make sure opponent is not in guarding state
attr = S, HT
hitflag = MA
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 3001
p2stateno = 3020
p2getp1state = 1
id = 3000
;nochainID = nochain_1, nochain_2 (int)
numhits = 0
givepower = 288

[State 3000, 3]
type = Nothitby
trigger1 = time = 0
value = SCA

[State 3000, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------
; Ultra Argentina BackBreaker succeed - 1st throw
[Statedef 3001]
type    = S
physics = S
movetype= A
anim = 3001
ctrl = 0
velset = 0,0

[State 3001, 1]
type = Width
trigger1 = 1
edge = 60,0

[State 3001, 2.1]
type = SuperPause
trigger1 = Time = 0
trigger1 = var(10) = 0
anim = -1
time = 30

[State 3001, 2.2];foreground superspark 
type = Explod
trigger1 = Time = 0
anim = f100
pos = 20,-97
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 3001, 2.3];background superspark 
type = Explod
trigger1 = Time = 0
trigger1 = var(10) = 0;disable for counter mode
anim = f101
pos = 20,-97
postype = p1
supermove = 1
bindtime = 30
ontop = 0
ownpal = 1

[State 3001, 2.5];chime snd
type = playsnd
trigger1 = Time = 0
value = f20,0

[State 3001, 3]
type = Explod
trigger1 = animelem = 3
anim = f21
pos = 54,-52
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 3001, 4.1]
type = sprpriority
trigger1 = time >= 24
trigger1 = time <= 26
value = 1

[State 3001, 4.2]
type = sprpriority
trigger1 = time >= 27
value = 2

[State 3001, 5.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 2
pos = 42,0

[State 3001, 5.2]
type = TargetBind
trigger1 = time >= 3
trigger1 = time <= 6
pos = 55,0

[State 3001, 5.3]
type = TargetBind
trigger1 = time >= 7
trigger1 = time <= 19
pos = 30,0

[State 3001, 5.4]
type = TargetBind
trigger1 = time >= 20
trigger1 = time <= 23
pos = 42,-82

[State 3001, 5.5]
type = TargetBind
trigger1 = time >= 24
trigger1 = time <= 27
pos = 6,-109

[State 3001, 5.6]
type = TargetBind
trigger1 = time = 28
pos = -10,-200

[State 3001, 6]
type = Hitdef
trigger1 = animelem = 8
attr = S, HT
hitflag = A
priority = 7,Hit
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 3002
p2stateno = 3022
p2getp1state = 1
id = 3001
chainID = 3000
numhits = 0
hitonce = 1

[State 3001, 7.1];play clark succeed snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,31
volume = 80
channel = 0

[State 3001, 7.2];play catch snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,33
volume = -80

[State 3001, 7.3];play fly snd
type = Playsnd
trigger1 = Animelem = 5
value = 0,34
volume = -80

[State 3001, 8]
type = ChangeState;this part will excute only when there is error;opponent is away
trigger1 = time = 150
value = 0
ctrl = 1

;-------------------------------------------------------
; Ultra Argentina BackBreaker succeed - 1st Backbreaking
[Statedef 3002]
type    = S
physics = S
movetype= A
anim = 3003
ctrl = 0
velset = 0,0

[State 3002, 1.1];speical attack effect
type = Explod
trigger1 = time = 0
anim = f3
pos = 4,-85
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 3002, 1.2];ground wave
type = Explod
trigger1 = time = 0
anim = 8100
pos = 4,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 3022, 4];damage
type = Targetlifeadd
trigger1 = time = 0
value = ifelse(var(12)=1,-40,-80)
;absolute = 1
kill = 0

[State 3002, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 7
pos = 4,-80

[State 3002, 2.2]
type = TargetBind
trigger1 = time >= 8
pos = 4,-100

[State 3002, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 3002, 4];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 30
ampl = -5

[State 3002, 5];play crush snd
type = Playsnd
trigger1 = time = 0
value = 0,35
volume = -80

[State 3002, 6]
type = Width
trigger1 = 1
edge = 0,30

[State 3002, 7]
type = ChangeState
trigger1 = animtime = 0
value = 3003

;------------------------------------------------
; Ultra Argentina BackBreaker succeed - 2nd throw
[Statedef 3003]
type    = S
physics = S
movetype= A
anim = 3002
ctrl = 0
velset = 0,0

[State 3003, 1]
type = Width
trigger1 = 1
edge = 60,0

[State 3003, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 10
value = 2

[State 3003, 2.2]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 13
value = 1

[State 3003, 2.3]
type = sprpriority
trigger1 = time >= 14
value = 2

[State 3003, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 6
pos = 30,0

[State 3003, 3.2]
type = TargetBind
trigger1 = time >= 7
trigger1 = time <= 10
pos = 42,-82

[State 3003, 3.3]
type = TargetBind
trigger1 = time >= 11
trigger1 = time <= 14
pos = 6,-109

[State 3003, 3.4]
type = TargetBind
trigger1 = time = 15
pos = 2,-200

[State 3003, 4]
type = Hitdef
trigger1 = animelem = 6
attr = S, HT
hitflag = A
priority = 7,Hit
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 3004
p2stateno = 3025
p2getp1state = 1
id = 3003
chainID = 3001
numhits = 0
hitonce = 1

[State 3003, 5.1];play clark succeed snd
type = Playsnd
trigger1 = Animelem = 1
value = 0,31
volume = 80
channel = 0

[State 3003, 5.2];play fly snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,34
volume = -80

[State 3003, 6]
type = ChangeState;this part will excute only when there is error;opponent is away
trigger1 = time = 143
value = 0
ctrl = 1

;-------------------------------------------------------
; Ultra Argentina BackBreaker succeed - 2nd Backbreaking
[Statedef 3004]
type    = S
physics = S
movetype= A
anim = 3004
ctrl = 0
velset = 0,0

[State 3004, 1.1];speical attack effect
type = Explod
trigger1 = time = 0
anim = f3
pos = 2,-85
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 3004, 1.2];ground wave
type = Explod
trigger1 = time = 0
anim = 8100
pos = 2,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 3022, 4];damage
type = Targetlifeadd
trigger1 = time = 0
value = ifelse(var(12)=1,-40,-80)
;absolute = 1
kill = 0

[State 3004, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 7
pos = 2,-80

[State 3004, 2.2]
type = TargetBind
trigger1 = time >= 8
pos = 2,-100

[State 3004, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 3004, 4];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 30
ampl = -5

[State 3004, 5];play crush snd
type = Playsnd
trigger1 = time = 0
value = 0,35
volume = -80

[State 2500, 2]
type = ChangeState
triggerall = time > 8
trigger1 = power >= 2000
trigger1 = command = "UAB2"
value = 4000

[State 3004, 6]
type = Width
trigger1 = 1
edge = 0,30

[State 3004, 7]
type = ChangeState
trigger1 = animtime = 0
value = 3005

;--------------------------------------------------
; Ultra Argentina BackBreaker succeed - Final throw
[Statedef 3005]
type    = S
physics = S
movetype= A
anim = 3002
ctrl = 0
velset = 0,0

[State 3005, 1]
type = Width
trigger1 = 1
edge = 60,0

[State 3005, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 10
value = 2

[State 3005, 2.2]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 13
value = 1

[State 3005, 2.3]
type = sprpriority
trigger1 = time >= 14
value = 2

[State 3005, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 6
pos = 30,0

[State 3005, 3.2]
type = TargetBind
trigger1 = time >= 7
trigger1 = time <= 10
pos = 42,-82

[State 3005, 3.3]
type = TargetBind
trigger1 = time >= 11
trigger1 = time <= 14
pos = 6,-109

[State 3005, 3.4]
type = TargetBind
trigger1 = time = 15
pos = 2,-200

[State 3005, 4]
type = Hitdef
trigger1 = animelem = 6
attr = S, HT
hitflag = A
priority = 7,Hit
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 3006
p2stateno = 3028
p2getp1state = 1
id = 3005
chainID = 3003
numhits = 0
hitonce = 1

[State 3005, 5.1];play clark succeed snd
type = Playsnd
trigger1 = Animelem = 1
value = 0,31
volume = 80
channel = 0

[State 3005, 5.2];play fly snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,34
volume = -80

[State 3005, 6]
type = ChangeState;this part will excute only when there is error;opponent is away
trigger1 = time = 143
value = 0
ctrl = 1

;---------------------------------------------------------
; Ultra Argentina BackBreaker succeed - Final Backbreaking
[Statedef 3006]
type    = S
physics = S
movetype= A
anim = 3004
ctrl = 0
velset = 0,0

[State 3006, 1.1];speical attack effect
type = Explod
trigger1 = time = 0
anim = f3
pos = 2,-85
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 3006, 1.2];ground wave
type = Explod
trigger1 = time = 0
anim = 8100
pos = 2,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 3022, 4];damage
type = Targetlifeadd
trigger1 = time = 0
value = ifelse(var(12)=1,-40,-80)
;absolute = 1
kill = 0

[State 3006, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 7
pos = 2,-82

[State 3006, 2.2]
type = TargetBind
trigger1 = time >= 8
pos = 2,-100

[State 3006, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 3006, 4]
type = turn
trigger1 = time = 0

[State 3006, 5];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 30
ampl = -5

[State 3006, 6];play crush snd
type = Playsnd
trigger1 = time = 0
value = 0,35
volume = -80

[State 3006, 9]
type = ChangeState
triggerall = time > 8
trigger1 = power >= 2000
trigger1 = command = "UAB2"
value = 4000

[State 3006, 7]
type = Width
trigger1 = 1
edge = 30,0

[State 3006, 8]
type = ChangeState
trigger1 = animtime = 0 ;time = 18
value = 3007

;------------------------------------------------
; Ultra Argentina BackBreaker succeed - Slam down
[Statedef 3007]
type    = S
physics = N
movetype= A
anim = 3005
ctrl = 0
velset = 0,0

[State 3007, 1.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 2
pos = -7,-100

[State 3007, 1.2]
type = TargetBind
trigger1 = time >= 3
trigger1 = time <= 5
pos = -15,-91

[State 3007, 1.3]
type = TargetBind
trigger1 = time >= 6
trigger1 = time <= 8
pos = -7,-113

[State 3007, 1.4]
type = TargetBind
trigger1 = time >= 9
trigger1 = time <= 11
pos = 13,-109

[State 3007, 1.5]
type = TargetBind
trigger1 = time >= 12
trigger1 = time <= 14
pos = 12,-99

[State 3007, 1.6]
type = TargetBind
trigger1 = time >= 15
trigger1 = time <= 17
pos = 13,-91

[State 3007, 1.7]
type = TargetBind
trigger1 = time >= 18
trigger1 = time <= 20
pos = 23,-65

[State 3007, 1.8]
type = TargetBind
trigger1 = time >= 21
trigger1 = time <= 37
pos = 22,-16

[State 3007, 2.1];smash ground effect
type = Explod
trigger1 = animelem = 9
anim = 8120
pos = 33,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 800, hit]
type = Hitadd
trigger1 = Animelem = 9
value = 1

[State 3028, 5];damage
type = targetlifeadd
trigger1 = Animelem = 9
value = ifelse(var(12)=1,-60,-120)
;absolute = 1

[State 3007, 2.2];ground wave
type = Explod
trigger1 = p2stateno = 3030
anim = 8100
pos = 22,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 3007, 2.3];dust
type = Explod
trigger1 = p2stateno = 3030
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 3007, 3]
type = Playsnd
trigger1 = time = 0
value = 0,39
volume = 80
channel = 0

[State 3007, 4];play heavy crushing snd
type = Playsnd
trigger1 = Animelem = 9
value = 0,40
volume = -40

[State 3007, 5];play drop snd
type = Playsnd
trigger1 = p2stateno = 3030
value = 0,36
volume = -100
persistent = 0

[State 3007, 6]
type = Width
trigger1 = 1
edge = 60,0

[State 3007, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------
; Throw by Ultra Argentina BackBreaker - 1st go up
[Statedef 3020]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3020, 1]
type = Changeanim2
trigger1 = time = 0
value = 3020

[State 3020, 2.1]
type = Velset
trigger1 = time >= 27
trigger1 = time <= 50
y = -10

[State 3020, 2.2]
type = Velset
trigger1 = time >= 51
y = 0

[State 3020, 3]
type = sprpriority
trigger1 = time >= 24
trigger1 = time <= 26
value = 2

[State 3020, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 3020, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 3020, 6]
type = Width
trigger1 = 1
value = -30,-30

[State 3020, 7]
type = Changestate
trigger1 = time = 68
value = 3021

;-----------------------------------------------------
; Throw by Ultra Argentina BackBreaker - 1st come down
[Statedef 3021]
type    = A
physics = A
movetype= H
ctrl = 0

[State 3021, 1]
type = Velset
trigger1 = 1
y = 12

[State 3021, 2]
type = sprpriority
trigger1 = time >= 0
value = 1

[State 3021, 3]
type = Hitby
trigger1 = 1
value = S, HT

[State 3021, 4]
type = Width
trigger1 = 1
value = -30,-30

[State 3021, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

;----------------------------------------------------------------
; Throw by Ultra Argentina BackBreaker - being backbreak(face up)
[Statedef 3022]
type    = A
physics = N
movetype= H
ctrl = 0

[State 3022, 1]
type = Changeanim2
trigger1 = time = 0
value = 3022

[State 3023, 4]
type = Hitby
trigger1 = 1
value = SCA,HT

[State 3022, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 3022, 3];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 3022, 5]
type = Width
trigger1 = 1
value = -30,-30

[State 3022, 6]
type = Changestate
trigger1 = animtime = 0
value = 3023

;-------------------------------------------------
; Throw by Ultra Argentina BackBreaker - 2nd go up
[Statedef 3023]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3023, 1]
type = Changeanim2
trigger1 = time = 0
value = 3021

[State 3023, 2.1]
type = Velset
trigger1 = time >= 14
trigger1 = time <= 37
y = -10

[State 3023, 2.2]
type = Velset
trigger1 = time >= 38
y = 0

[State 3023, 3.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 10
value = 1

[State 3023, 3.2]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 13
value = 2

[State 3023, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 3023, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 3023, 6]
type = Width
trigger1 = 1
value = -30,-30

[State 3023, 7]
type = Changestate
trigger1 = time = 55
value = 3024

;-----------------------------------------------------
; Throw by Ultra Argentina BackBreaker - 2nd come down
[Statedef 3024]
type    = A
physics = A
movetype= H
ctrl = 0

[State 3024, 1]
type = Velset
trigger1 = 1
y = 12

[State 3024, 2]
type = sprpriority
trigger1 = time >= 0
value = 1

[State 3024, 3]
type = Hitby
trigger1 = 1
value = S, HT

[State 3024, 4]
type = Width
trigger1 = 1
value = -30,-30

[State 3024, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

;----------------------------------------------------------------
; Throw by Ultra Argentina BackBreaker - being backbreak(face up)
[Statedef 3025]
type    = A
physics = N
movetype= H
ctrl = 0

[State 3025, 1]
type = Changeanim2
trigger1 = time = 0
value = 3022

[State 3023, 4]
type = Hitby
trigger1 = 1
value = SCA,HT

[State 3025, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 3025, 3];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 3025, 5]
type = Width
trigger1 = 1
value = -30,-30

[State 3025, 6]
type = Changestate
trigger1 = animtime = 0
value = 3026

;-------------------------------------------------
; Throw by Ultra Argentina BackBreaker - 3rd go up
[Statedef 3026]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3026, 1]
type = Changeanim2
trigger1 = time = 0
value = 3021

[State 3026, 2.1]
type = Velset
trigger1 = time >= 14
trigger1 = time <= 37
y = -10

[State 3026, 2.2]
type = Velset
trigger1 = time >= 38
y = 0

[State 3026, 3.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 10
value = 1

[State 3026, 3.2]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 13
value = 2

[State 3026, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 3026, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 3026, 6]
type = Width
trigger1 = 1
value = -30,-30

[State 3026, 7]
type = Changestate
trigger1 = time = 55
value = 3027

;-----------------------------------------------------
; Throw by Ultra Argentina BackBreaker - 3rd come down
[Statedef 3027]
type    = A
physics = A
movetype= H
ctrl = 0

[State 3027, 1]
type = Velset
trigger1 = 1
y = 12

[State 3027, 2]
type = sprpriority
trigger1 = time >= 0
value = 1

[State 3027, 3]
type = Hitby
trigger1 = 1
value = S, HT

[State 3027, 4]
type = Width
trigger1 = 1
value = -30,-30

[State 3027, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

;------------------------------------------------------------------
; Throw by Ultra Argentina BackBreaker - being backbreak(face down)
[Statedef 3028]
type    = A
physics = N
movetype= H
ctrl = 0

[State 3028, 1]
type = Changeanim2
trigger1 = time = 0
value = 3023

[State 3023, 4]
type = Hitby
trigger1 = 1
value = SCA,HT

[State 3028, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 3028, 3];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 3028, 5]
type = Width
trigger1 = 1
value = -30,-30

[State 3028, 6];short flash
type = Envcolor
trigger1 = time = 0
value = 248,248,248
time = 1
under = 1

[State 3028, 7]
type = Changestate
trigger1 = animtime = 0 ;time = 18
value = 3029

;-------------------------------------------------------
; Throw by Ultra Argentina BackBreaker - being slam down
[Statedef 3029]
type    = A
physics = N
movetype= H
ctrl = 0

[State 3029, 1]
type = Changeanim2
trigger1 = time = 0
value = 3024

[State 3029, 2];adjust the camera
type = ScreenBound
trigger1 = time < 39
value = 1

[State 3029, 3.1]
type = Velset
trigger1 = time = 39
x = 4
y = -8

[State 3029, 3.2]
type = Veladd
trigger1 = time >= 39
y = .53

[State 3029, 4];short flash
type = Envcolor
trigger1 = animelem = 9
value = 248,248,248
time = 1
under = 1

[State 3028, 6];shaking effect
type = Envshake
trigger1 = animelem = 9
time = 15
freq = 30
ampl = -5

[State 3028, 7]
type = Width
trigger1 = 1
value = -30,-30

[State 3029, 8]
type = ChangeState
trigger1 = time > 50
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 3030

;------------------------------------------------
; Throw by Ultra Argentina BackBreaker - bouncing
[Statedef 3030]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 3,-5.5

[State 3030, 1]
type = Changeanim2
trigger1 = time = 0
value = 3025

[State 3030, 2]
type = Veladd
trigger1 = 1
y = .53

[State 3030, 3.1]
type = posset
trigger1 = time = 0
y = 0

[State 3030, 3.2]
type = veladd
trigger1 = vel x <= 0
x = .2

[State 3030, 4]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 3031

;--------------------------------------------------
; Throw by Ultra Argentina BackBreaker - lying down
[Statedef 3031]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3031, 1]
type = Changeanim2
trigger1 = time = 0
value = 3026

[State 3031, 2]
type = posset
trigger1 = time = 0
y = 0

[State 3031, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 3031, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Ultra Argentina BackBreaker(Max) Attempt
[Statedef 4000]
type    = S
physics = S
movetype= A
anim = ifelse(prevstateno>=3000,2999,3000)
ctrl = 0
juggle = 15
velset = 0,0
poweradd = -2000
facep2 = 1

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

[State 3000, 19]
type = Helper
triggerall = prevstateno = [800,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3500, 9]
type = Helper
triggerall = prevstateno >= 3000
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 3700
stateno = 3700
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 4000, 1.1];pause for miss
type = SuperPause
trigger1 = Time = 1
anim = -1
time = 30

[State 4000, 1.2];foreground superspark 
type = Explod
trigger1 = Time = 1
anim = f102
pos = 20,-97
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 4000, 1.3];background superspark 
type = Explod
trigger1 = Time = 1
anim = f103
pos = 20,-97
postype = p1
supermove = 1
bindtime = 30
ontop = 0
ownpal = 1

[State 4000, 1.5];chime snd
type = playsnd
trigger1 = Time = 1
value = f20,1

[State 4000, 2]
type = Hitdef
trigger1 = time = 0
trigger1 = p2stateno != 150 && 151 && 130 && 131 && 140 && 141;make sure opponent is not in guarding state
attr = S, HT
hitflag = MA
priority = 3, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 4001
p2stateno = 4020
p2getp1state = 1
id = 4000
;nochainID = nochain_1, nochain_2 (int)
numhits = 0
givepower = 288
hitonce = 1

[State 4000, 3]
type = Nothitby
trigger1 = time = 0
value = SCA

[State 4000, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;-----------------------------------------------------
; Ultra Argentina BackBreaker(Max) succeed - 1st throw
[Statedef 4001]
type    = S
physics = S
movetype= A
anim = 3001
ctrl = 0
velset = 0,0

[State 4001, 1]
type = Width
trigger1 = 1
edge = 60,0

[State 4001, 2.1]
type = SuperPause
trigger1 = Time = 0
anim = -1
time = 30

[State 4001, 2.2];foreground superspark 
type = Explod
trigger1 = Time = 0
anim = f102
pos = 20,-97
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 4001, 2.3];background superspark 
type = Explod
trigger1 = Time = 0
anim = f103
pos = 20,-97
postype = p1
supermove = 1
bindtime = 30
ontop = 0
ownpal = 1

[State 4001, 2.5];chime snd
type = playsnd
trigger1 = Time = 0
value = f20,1

[State 4001, 3]
type = Explod
trigger1 = animelem = 3
anim = f21
pos = 54,-52
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 4001, 4.1]
type = sprpriority
trigger1 = time >= 24
trigger1 = time <= 26
value = 1

[State 4001, 4.2]
type = sprpriority
trigger1 = time >= 27
value = 2

[State 4001, 5.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 2
pos = 42,0

[State 4001, 5.2]
type = TargetBind
trigger1 = time >= 3
trigger1 = time <= 6
pos = 55,0

[State 4001, 5.3]
type = TargetBind
trigger1 = time >= 7
trigger1 = time <= 19
pos = 30,0

[State 4001, 5.4]
type = TargetBind
trigger1 = time >= 20
trigger1 = time <= 23
pos = 42,-82

[State 4001, 5.5]
type = TargetBind
trigger1 = time >= 24
trigger1 = time <= 27
pos = 6,-109

[State 4001, 5.6]
type = TargetBind
trigger1 = time = 28
pos = -10,-200

[State 4001, 6]
type = Hitdef
trigger1 = animelem = 8
attr = S, HT
hitflag = A
priority = 7,Hit
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 4002
p2stateno = 4022
p2getp1state = 1
id = 4001
chainID = 4000
numhits = 0
hitonce = 1

[State 4001, 7.1];play clark succeed snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,31
volume = 80
channel = 0

[State 4001, 7.2];play catch snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,33
volume = -80

[State 4001, 7.3];play fly snd
type = Playsnd
trigger1 = Animelem = 5
value = 0,34
volume = -80

[State 4001, 8]
type = ChangeState;this part will excute only when there is error;opponent is away
trigger1 = time = 150
value = 0
ctrl = 1

;------------------------------------------------------------
; Ultra Argentina BackBreaker(Max) succeed - 1st Backbreaking
[Statedef 4002]
type    = S
physics = S
movetype= A
anim = 3003
ctrl = 0
velset = 0,0

[State 4002, 1.1];speical attack effect
type = Explod
trigger1 = time = 0
anim = f2
pos = 4,-85
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 4002, 1.2];ground wave
type = Explod
trigger1 = time = 0
anim = 8100
pos = 4,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 4002, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 7
pos = 4,-80

[State 4002, 2.2]
type = TargetBind
trigger1 = time >= 8
pos = 4,-100

[State 4002, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 812, 4];damage
type = Targetlifeadd
trigger1 = time = 0
value = ifelse(var(12)=1,-50,-100)
;absolute = 1
kill = 0

[State 4002, 4];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 30
ampl = -5

[State 4002, 5];play crush snd
type = Playsnd
trigger1 = time = 0
value = 0,35
volume = -80

[State 4002, 6]
type = Width
trigger1 = 1
edge = 0,30

[State 4002, 7]
type = ChangeState
trigger1 = animtime = 0
value = 4003

;-----------------------------------------------------
; Ultra Argentina BackBreaker(Max) succeed - 2nd throw
[Statedef 4003]
type    = S
physics = S
movetype= A
anim = 3002
ctrl = 0
velset = 0,0

[State 4003, 1]
type = Width
trigger1 = 1
edge = 60,0

[State 4003, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 10
value = 2

[State 4003, 2.2]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 13
value = 1

[State 4003, 2.3]
type = sprpriority
trigger1 = time >= 14
value = 2

[State 4003, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 6
pos = 30,0

[State 4003, 3.2]
type = TargetBind
trigger1 = time >= 7
trigger1 = time <= 10
pos = 42,-82

[State 4003, 3.3]
type = TargetBind
trigger1 = time >= 11
trigger1 = time <= 14
pos = 6,-109

[State 4003, 3.4]
type = TargetBind
trigger1 = time = 15
pos = 2,-200

[State 4003, 4]
type = Hitdef
trigger1 = animelem = 6
attr = S, HT
hitflag = A
priority = 7,Hit
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 4004
p2stateno = 4025
p2getp1state = 1
id = 4003
chainID = 4001
numhits = 0
hitonce = 1

[State 4003, 5.1];play clark succeed snd
type = Playsnd
trigger1 = Animelem = 1
value = 0,31
volume = 80
channel = 0

[State 4003, 5.2];play fly snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,34
volume = -80

[State 4003, 6]
type = ChangeState;this part will excute only when there is error;opponent is away
trigger1 = time = 143
value = 0
ctrl = 1

;------------------------------------------------------------
; Ultra Argentina BackBreaker(Max) succeed - 2nd Backbreaking
[Statedef 4004]
type    = S
physics = S
movetype= A
anim = 3004
ctrl = 0
velset = 0,0

[State 4004, 1.1];speical attack effect
type = Explod
trigger1 = time = 0
anim = f2
pos = 2,-85
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 4004, 1.2];ground wave
type = Explod
trigger1 = time = 0
anim = 8100
pos = 2,5
postype = p1
bindtime = 1
ontop = 0
ownpal = 1

[State 4004, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 7
pos = 2,-80

[State 4004, 2.2]
type = TargetBind
trigger1 = time >= 8
pos = 2,-100

[State 4004, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 812, 4];damage
type = Targetlifeadd
trigger1 = time = 0
value = ifelse(var(12)=1,-50,-100)
;absolute = 1
kill = 0

[State 4004, 4];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 30
ampl = -5

[State 4004, 5];play crush snd
type = Playsnd
trigger1 = time = 0
value = 0,35
volume = -80

[State 4004, 6]
type = Width
trigger1 = 1
edge = 0,30

[State 4004, 7]
type = ChangeState
trigger1 = animtime = 0
value = 4005

;-------------------------------------------------------
; Ultra Argentina BackBreaker(Max) succeed - Final throw
[Statedef 4005]
type    = S
physics = N
movetype= A
anim = 4000
ctrl = 0
velset = 0,0

[State 4005, 1]
type = Width
trigger1 = 1
edge = 60,0

[State 4005, 2.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 10
value = 2

[State 4005, 2.2]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 13
value = 1

[State 4005, 2.3]
type = sprpriority
trigger1 = time >= 14
value = 2

[State 4005, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 6
pos = 30,0

[State 4005, 3.2]
type = TargetBind
trigger1 = time >= 7
trigger1 = time <= 10
pos = 42,-82

[State 4005, 3.3]
type = TargetBind
trigger1 = time >= 11
trigger1 = time <= 14
pos = 6,-109

[State 4005, 3.4]
type = TargetBind
trigger1 = time = 15
pos = 2,-200

[State 4005, 4]
type = Hitdef
trigger1 = animelem = 11
attr = A, HT
hitflag = A
priority = 7,Hit
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 4006
p2stateno = 4028
p2getp1state = 1
id = 4005
chainID = 4003
numhits = 0
hitonce = 1

[State 4005, 5.1];play clark succeed snd
type = Playsnd
trigger1 = Animelem = 1
trigger2 = animelem = 5
value = 0,31
volume = 80
channel = 0

[State 4005, 5.2];play fly snd
type = Playsnd
trigger1 = Animelem = 3
value = 0,34
volume = -80

[State 4005, 6]
type = ChangeState;this part will excute only when there is error;opponent is away
trigger1 = time = 100
value = 50
ctrl = 0

[State 4005, 7.1]
type = Velset
trigger1 = animelem = 8
y = -10

[State 4005, 7.2]
type = Posadd
trigger1 = animelem = 5
x = -7

[State 4005, 8];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

;-------------------------------------------------
; Ultra Argentina BackBreaker(max) - hit;come down
[Statedef 4006]
type    = A
physics = N
movetype= A
anim = 4001
ctrl = 0
velset = 0,0

[State 4006, 1.1]
type = TargetBind
trigger1 = time >= 1
trigger1 = time <= 14
pos = 26,-68

[State 4006, 1.2]
type = TargetBind
trigger1 = time >= 15
trigger1 = time <= 17
pos = 11,-63

[State 4006, 1.3]
type = TargetBind
trigger1 = time >= 18
trigger1 = time <= 21
pos = -2,-33

[State 4006, 1.4]
type = TargetBind
trigger1 = time >= 22
trigger1 = time <= 25
pos = -32,-26

[State 4006, 1.5]
type = TargetBind
trigger1 = time >= 26
trigger1 = time <= 29
pos = -38,-23

[State 4006, 1.6]
type = TargetBind
trigger1 = time >= 30
trigger1 = time <= 59
pos = -31,-5

[State 4006, 1.7]
type = TargetBind
trigger1 = time >= 60
pos = -35,-9

[State 4006, 2.11]
type = Velset
trigger1 = time >= 15
trigger1 = time <= 17
x = -1

[State 4006, 2.12]
type = Velset
trigger1 = time = 18
x = 0

[State 4006, 2.21]
type = Velset
trigger1 = time = 30
y = -5

[State 4006, 2.22]
type = Veladd
trigger1 = time >= 30
y = .5

[State 4006, 3]
type = sprpriority
trigger1 = 1
value = 2

[State 4006, 4]
type = Width
trigger1 = 1
edge = 30,40

[State 4006, 5];super attack effect
type = Explod
trigger1 = time = 0
anim = f3
pos = -3,-63
postype = p1
bindtime = 1
ontop = 1
ownpal = 1

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 812, 4];damage
type = Targetlifeadd
trigger1 = time = 0
value = ifelse(var(12)=1,-80,-160)
;absolute = 1
kill = 0

[State 4006, 6];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 4006, 7.1]
type = Playsnd
trigger1 = time = 0
value = f5,2

[State 4006, 7.2]
type = Playsnd
trigger1 = time = 26
value = 0,41
volume = 80
channel = 0

[State 4006, 8]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 4007

;----------------------------------------------------------
; Ultra Argentina BackBreaker(max) - reach ground;jump back
[Statedef 4007]
type    = S
physics = N
movetype= A
anim = 4002
ctrl = 0
velset = 0,0

[State 4007, 1.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 17
pos = -7,-8

[State 4007, 2]
type = Width
trigger1 = time <= 17
edge = 40,40

[State 4007, 3.1]
type = Velset
trigger1 = time = 22
x = const(velocity.jump.back.x)
y = -9

[State 4007, 3.2]
type = Gravity
trigger1 = time >= 22

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 812, 4];damage
type = Targetlifeadd
trigger1 = time = 0
value = ifelse(var(12)=1,-100,-200)
kill = 1

[State 4007, 4.1];smash ground effect
type = Explod
trigger1 = time = 0
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 4007, 4.2];smash ground effect
type = Explod
trigger1 = p2stateno = 4030
anim = 8100
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 7007, 4.3];dust
type = Explod
trigger1 = p2stateno = 4030
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 4007, 5.1];play heavy crushing snd
type = Playsnd
trigger1 = time = 0
value = 0,40
volume = -40

[State 4007, 5.2];play drop snd
type = Playsnd
trigger1 = p2stateno = 4030
value = 0,36
volume = -100
persistent = 0

[State 4007, 6]
type = ChangeState
trigger1 = time >= 20
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 4008

;----------------------------------------
; Ultra Argentina BackBreaker(max) - land
[Statedef 4008]
type    = S
physics = S
movetype= A
anim = 4003
ctrl = 0
velset = 0,0

[State 4008, 1]
type = posset
trigger1 = time = 0
y = 0

[State 4008, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 4008, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - 1st go up
[Statedef 4020]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4020, 1]
type = Changeanim2
trigger1 = time = 0
value = 3020

[State 4020, 2.1]
type = Velset
trigger1 = time >= 27
trigger1 = time <= 50
y = -10

[State 4020, 2.2]
type = Velset
trigger1 = time >= 51
y = 0

[State 4020, 3]
type = sprpriority
trigger1 = time >= 24
trigger1 = time <= 26
value = 2

[State 4020, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 4020, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 4020, 6]
type = Width
trigger1 = 1
value = -30,-30

[State 4020, 7]
type = Changestate
trigger1 = time = 68
value = 4021

;----------------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - 1st come down
[Statedef 4021]
type    = A
physics = A
movetype= H
ctrl = 0

[State 4021, 1]
type = Velset
trigger1 = 1
y = 12

[State 4021, 2]
type = sprpriority
trigger1 = time >= 0
value = 1

[State 4021, 3]
type = Hitby
trigger1 = 1
value = S, HT

[State 4021, 4]
type = Width
trigger1 = 1
value = -30,-30

[State 4021, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

;---------------------------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - being backbreak(face up)
[Statedef 4022]
type    = A
physics = N
movetype= H
ctrl = 0

[State 4022, 1]
type = Changeanim2
trigger1 = time = 0
value = 3022

[State 4022, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 4022, 3];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 4022, 5]
type = Width
trigger1 = 1
value = -30,-30

[State 4022, 6]
type = Changestate
trigger1 = animtime = 0
value = 4023

;------------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - 2nd go up
[Statedef 4023]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4023, 1]
type = Changeanim2
trigger1 = time = 0
value = 3021

[State 4023, 2.1]
type = Velset
trigger1 = time >= 14
trigger1 = time <= 37
y = -10

[State 4023, 2.2]
type = Velset
trigger1 = time >= 38
y = 0

[State 4023, 3.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 10
value = 1

[State 4023, 3.2]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 13
value = 2

[State 4023, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 4023, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 4023, 6]
type = Width
trigger1 = 1
value = -30,-30

[State 4023, 7]
type = Changestate
trigger1 = time = 55
value = 4024

;----------------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - 2nd come down
[Statedef 4024]
type    = A
physics = A
movetype= H
ctrl = 0

[State 4024, 1]
type = Velset
trigger1 = 1
y = 12

[State 4024, 2]
type = sprpriority
trigger1 = time >= 0
value = 1

[State 4024, 3]
type = Hitby
trigger1 = 1
value = S, HT

[State 4024, 4]
type = Width
trigger1 = 1
value = -30,-30

[State 4024, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

;---------------------------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - being backbreak(face up)
[Statedef 4025]
type    = A
physics = N
movetype= H
ctrl = 0

[State 4025, 1]
type = Changeanim2
trigger1 = time = 0
value = 3022

[State 4025, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 4025, 3];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 4025, 5]
type = Width
trigger1 = 1
value = -30,-30

[State 4025, 6]
type = Changestate
trigger1 = animtime = 0
value = 4026

;------------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - 3rd go up
[Statedef 4026]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4026, 1]
type = Changeanim2
trigger1 = time = 0
value = 3021

[State 4026, 2.1]
type = Velset
trigger1 = time >= 14
trigger1 = time <= 37
y = -10

[State 4026, 2.2]
type = Velset
trigger1 = time >= 38
y = 0

[State 4026, 3.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 10
value = 1

[State 4026, 3.2]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 13
value = 2

[State 4026, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 4026, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 4026, 6]
type = Width
trigger1 = 1
value = -30,-30

[State 4026, 7]
type = Changestate
trigger1 = time = 55
value = 4027

;----------------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - 3rd come down
[Statedef 4027]
type    = A
physics = A
movetype= H
ctrl = 0

[State 4027, 1]
type = Velset
trigger1 = 1
y = 12

[State 4027, 2]
type = sprpriority
trigger1 = time >= 0
value = 1

[State 4027, 3]
type = Hitby
trigger1 = 1
value = S, HT

[State 4027, 4]
type = Width
trigger1 = 1
value = -30,-30

[State 4027, 5];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

;-------------------------------------------------------
; Hit by Ultra Argentina BackBreaker(max) - comming down
[Statedef 4028]
type    = A
physics = N
movetype= H
ctrl = 0

[State 4028, 1]
type = Changeanim2
trigger1 = time = 1
value = 4020

[State 4028, 2]
type = sprpriority
trigger1 = 1
value = 1

[State 4028, 3];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[State 4028, 4]
type = Width
trigger1 = 1
value = -30,-30

[State 4028, 5];short flash
type = Envcolor
trigger1 = time = 0
value = 248,248,248
time = 1
under = 1

[State 4028, 7]
type = Changestate
trigger1 = p2stateno = 4007
value = 4029

;------------------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - being slam down
[Statedef 4029]
type    = A
physics = N
movetype= H
ctrl = 0

[State 4029, 1.11];lie down facing down animation
type = Changeanim
trigger1 = time = 0
trigger1 = SelfAnimExist(5111)
value = 5111

[State 4029, 1.12];change to this animation if player don't have animation 5111
type = Changeanim2
trigger1 = time = 0
trigger1 = !SelfAnimExist(5111)
value = 4023

[State 4029, 1.21]
type = Changeanim2
trigger1 = time = 18
trigger1 = SelfAnimExist(5111)
value = 4022

[State 4029, 1.22]
type = Changeanim2
trigger1 = time = 18
trigger1 = !SelfAnimExist(5111)
value = 4024

[State 4029, 2];adjust the camera
type = ScreenBound
trigger1 = time <= 18
value = 1

[State 4029, 3.1]
type = Velset
trigger1 = time = 18
x = -4
y = -8

[State 4029, 3.2]
type = Veladd
trigger1 = time >= 18
y = .53

[State 4029, 4]
type = Width
trigger1 = 1
value = -30,-30

[State 4029, 5];shaking effect
type = Envshake
trigger1 = time = 0
time = 20
freq = 70
ampl = -8

[State 4029, 6];short flash
type = Envcolor
trigger1 = time = 0
value = 248,248,248
time = 1
under = 1

[State 4029, 8]
type = Nothitby
trigger1 = time <= 18
value = SCA

[State 4029, 9]
type = ChangeState
trigger1 = time >= 20
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 4030

;-----------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - bouncing
[Statedef 4030]
type    = L
physics = N
movetype= H
ctrl = 0
velset = -3,-5.5

[State 4030, 1.1]
type = Changeanim2
trigger1 = SelfAnimExist(5111)
trigger1 = time = 0
value = 4022

[State 4030, 1.1]
type = Changeanim2
trigger1 = !SelfAnimExist(5111)
trigger1 = time = 0
value = 4025

[State 4030, 2]
type = Veladd
trigger1 = 1
y = .53

[State 4030, 3.1]
type = posset
trigger1 = time = 0
y = 0

[State 4030, 3.2]
type = veladd
trigger1 = vel x <= 0
x = .2

[State 4030, 4]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 4031

;-------------------------------------------------------
; Throw by Ultra Argentina BackBreaker(Max) - lying down
[Statedef 4031]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4031, 1.1];lie down facing down animation
type = Changeanim
trigger1 = SelfAnimExist(5111)
trigger1 = time = 0
value = 5111

[State 4031, 1.2];lie down facing up animation
type = Changeanim2
trigger1 = !SelfAnimExist(5111)
trigger1 = time = 0
value = 4026

[State 4031, 2]
type = posset
trigger1 = time = 0
y = 0

[State 4031, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5110

[State 4031, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Running Three
[Statedef 3100]
type    = S
physics = N
movetype= A
anim = 3100
poweradd = -1000
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

[State 3100, 1.1]
type = SuperPause
trigger1 = animelem = 3
trigger1 = var(10) = 0
anim = -1
time = 30

[State 3000, 19]
type = Helper
triggerall = prevstateno >= 1000
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3100, 1.2];foreground superspark 
type = Explod
trigger1 = animelem = 3
anim = f100
pos = 8,-77
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 3100, 1.3];background superspark 
type = Explod
trigger1 = animelem = 3
trigger1 = var(10) = 0;disable for counter mode
anim = f101
pos = 8,-77
postype = p1
supermove = 1
bindtime = 30
ontop = 0
ownpal = 1

[State 3100, 1.4];chime snd
type = playsnd
trigger1 = animelem = 3
value = f20,0

[State 3100, 1.5]
type = playsnd
trigger1 = animelem = 3
value = 0,53
volume = 80
channel = 0

[State 3100, 2.1]
type = Velset
trigger1 = animelem = 6
x = const(velocity.run.fwd.x)+1.5

[State 3100, 2.2]
type = Velset
trigger1 = animelem = 15
x = 0

[State 3100, 3] ; Shadows
type = Afterimage
trigger1 = Animelem = 4
time = 33
length = 9
FrameGap = 3

[State 3100, 4]
type = Nothitby
trigger1 = time >= 0
trigger1 = time <= 10
value = SCA

[State 3100, 5]
type = sprpriority
trigger1 = 1
value = 3

[State 3100, 5.1]
type = PlaySnd
trigger1 = Timemod = 71,17;start playing from time = 0,then play again for every 71 more ticks
value = 0,5
channel = 20
volume = 80

[State 3100, 5.2]
type = StopSnd
trigger1 = AnimTime = 0
trigger2 = time >= 20
trigger2 = p2bodydist x <= 25
channel = 20;running snd

[State 3100, 6]
type = PlaySnd
trigger1 = Time = 42
value = 0,49
volume = -80

[State 3100, 7.1]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 3100, 7.2]
type = Changestate
trigger1 = time >= 20
trigger1 = p2bodydist x <= 25
value = 3101

[State 3100, 8.1]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 3100, 8.2]
type = Varadd
trigger1 = Time >= 14
var(1) = 1

;-----------------------------
; Running Three - Grab Attempt
[Statedef 3101]
type    = S
physics = N
movetype= A
anim = 3101
ctrl = 0
velset = 0,0

[State 3101, 1]
type = Nothitby
trigger1 = time = 0
value = SCA

[State 3101, 2]
type = sprpriority
trigger1 = 1
value = 3

[State 3101, 3]
type = Hitdef
triggerall = time = 0
trigger1 = var(1) >= 11
trigger2 = p2movetype != H;does not grab when opponent is hurt
trigger2 = var(1) <= 10
attr = S, HT
hitflag = M
priority = 7, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 3102
p2stateno = 3120
p2getp1state = 1
id = 3100
;nochainID = nochain_1, nochain_2 (int)
numhits = 0
givepower = 288

[State 3101, 4]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------
; Running Three - Succeed
[Statedef 3102]
type    = S
physics = N
movetype= A
anim = 3102
ctrl = 0
velset = 0,0

[State 3102, 1.1]
type = Velset
trigger1 = animelem = 14
x = -const(velocity.walk.fwd.x)

[State 3102, 1.2]
type = Velset
trigger1 = animelem = 16
x = -const(velocity.run.fwd.x)-2

[State 3102, 1.2]
type = Veladd
trigger1 = animelem = 20
x = -4

[State 3102, 1.4]
type = Velset
trigger1 = animelem = 20
y = -9

[State 3102, 1.4]
type = Gravity
trigger1 = time >= 99

[State 3102, 2.1]
type = Posadd
trigger1 = animelem = 10
x = 35

[State 3102, 2.2]
type = Posadd
trigger1 = animelem = 20
x = -39

[State 3102, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 10
pos = 55,0

[State 3102, 3.2]
type = TargetBind
trigger1 = time >= 11
trigger1 = time <= 18
pos = 22,-60

[State 3102, 3.3]
type = TargetBind
trigger1 = time >= 19
trigger1 = time <= 21
pos = 7,-63

[State 3102, 3.4]
type = TargetBind
trigger1 = time >= 22
trigger1 = time <= 25
pos = 0,-75

[State 3102, 3.5]
type = TargetBind
trigger1 = time >= 26
trigger1 = time <= 29
pos = -9,-93

[State 3102, 3.6]
type = TargetBind
trigger1 = time >= 30
trigger1 = time <= 33
pos = 0,-117

[State 3102, 3.7]
type = TargetBind
trigger1 = time >= 34
trigger1 = time <= 37
pos = 4,-117

[State 3102, 3.8]
type = TargetBind
trigger1 = time >= 38
trigger1 = time <= 41
pos = 10,-118

[State 3102, 3.9]
type = TargetBind
trigger1 = time >= 42
trigger1 = time <= 45
pos = -14,-119

[State 3102, 3.10]
type = TargetBind
trigger1 = time >= 46
trigger1 = time <= 49
pos = -6,-105

[State 3102, 3.11]
type = TargetBind
trigger1 = time >= 50
trigger1 = time <= 52
pos = 0,-105

[State 3102, 3.12]
type = TargetBind
trigger1 = time >= 53
trigger1 = time <= 70
pos = -1,-105

[State 3102, 3.13]
type = TargetBind
trigger1 = time >= 71
trigger1 = time <= 75
pos = -3,-113

[State 3102, 3.14]
type = TargetBind
trigger1 = time >= 76
trigger1 = time <= 81
pos = -1,-118

[State 3102, 3.15]
type = TargetBind
trigger1 = time >= 82
trigger1 = time <= 85
pos = -21,-109

[State 3102, 3.16]
type = TargetBind
trigger1 = time >= 86
trigger1 = time <= 89
pos = -21,-108

[State 3102, 3.17]
type = TargetBind
trigger1 = time >= 90
trigger1 = time <= 93
pos = -21,-104

[State 3102, 3.18]
type = TargetBind
trigger1 = time >= 94
trigger1 = time <= 97
pos = -21,-104

[State 3102, 3.19]
type = TargetBind
trigger1 = time >= 98
trigger1 = time <= 106
pos = -19,-96

[State 3102, 3.20]
type = TargetBind
trigger1 = time >= 107
trigger1 = time <= 110
pos = -22,-111

[State 3102, 3.21]
type = TargetBind
trigger1 = time >= 111
pos = -19,-93

[State 3102, 4]
type = Explod
trigger1 = time = 0
anim = f21
pos = 65,-83
postype = p1
bindtime = 1
ownpal = 1
sprpriority = 2;between player and opponent

[State 3102, 5.1]
type = sprpriority
trigger1 = time <= 10
value = 3

[State 3102, 5.2]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 18
trigger2 = time >= 34
value = 2

[State 3102, 5.3]
type = sprpriority
trigger1 = time >= 19
trigger1 = time <= 33
value = 1

[State 3102, 6.1]
type = Playsnd
trigger1 = time = 0
value = 0,33
volume = -80

[State 3102, 6.2]
type = Playsnd
trigger1 = animelem = 20
value = 0,3
volume = -80

[State 3102, 7.1]
type = PlaySnd
trigger1 = animelem = 14
value = 0,5
channel = 20
volume = 80

[State 3102, 7.2]
type = StopSnd
trigger1 = animelem = 20
channel = 20;running snd

[State 3102, 8]
type = Width
trigger1 = 1
edge = 30,35

[State 3102, 9]
type = Changestate
trigger1 = time >= 100
trigger1 = Pos y >= 0
trigger1 = Vel y > 0
value = 3103

;-----------------------------
; Running Three - Reach ground
[Statedef 3103]
type    = S
physics = N
movetype = A
anim = 3103
ctrl = 0
velset = 0,0

[State 3103, 1.1]
type = Posset
trigger1 = time = 0
y = 0

[State 3103, 1.2]
type = Posadd
trigger1 = animelem = 1
x = -15

[State 3103, 2]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 19
pos = -33,-5

[State 3103, 3]
type = Turn
trigger1 = AnimTime = 0
value = 1

[State 3103, 4]
type = Width
trigger1 = 1
edge = 0,30

[State 800, hit]
type = Hitadd
trigger1 = Animelem = 1
value = 1

[State 812, 4];damage
type = Targetlifeadd
trigger1 = animelem = 1
value = ifelse(var(12)=1,-150,-300)
;absolute = 1

[State 3103, 5.1];smash ground effect
type = Explod
trigger1 = Time = 0
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 3103, 5.2];ground wave
type = Explod
trigger1 = p2stateno = 3122
anim = 8100
pos = 22,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 3103, 5.3];dust
type = Explod
trigger1 = p2stateno = 3122
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 3103, 6.1]
type = Playsnd
trigger1 = Time = 0
value = 0,40
volume = -80

[State 3103, 6.2]
type = Playsnd
trigger1 = p2stateno = 3122
value = 0,37
volume = -80
persistent = 0

[State 3103, 7]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------
; Throw by Running Three
[Statedef 3120]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3120, 1]
type = Changeanim2
trigger1 = Time = 0
value = 3120

[State 3120, 2.1]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 18
trigger2 = time >= 34
value = 1

[State 3120, 2.2]
type = sprpriority
trigger1 = time >= 19
trigger1 = time <= 33
value = 2

[State 3120, 3]
type = Width
trigger1 = 1
value = -30,-30

[State 3120, 4];short flash
type = Envcolor
trigger1 = time = 0
value = 248,248,248
time = 1
under = 1

[State 3120, 5]
type = Changestate
trigger1 = time >= 111
trigger1 = pos y >= -89
trigger2 = p2stateno = 3103
trigger3 = p2stateno = 4503
value = 3121

;--------------------------------------
; Throw by Running Three - Reach ground
[Statedef 3121]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3121, 1]
type = Changeanim2
trigger1 = Time = 0
value = 3121

[State 3121, 2.1]
type = Velset
trigger1 = time = 20
x = -5
y = -7

[State 3121, 2.2];gravity
type = Veladd
trigger1 = time >= 20
y = .5

[State 3121, 3]
type = Width
trigger1 = time <= 20
value = -30,-30

[State 3121, 4]
type = Turn
trigger1 = time = 0
value = 1

[State 3121, 5];shaking effect
type = Envshake
trigger1 = time = 0
time = 20
freq = 70
ampl = -8

[State 3121, 7];short flash
type = Envcolor
trigger1 = time = 0
value = 248,248,248
time = 1
under = 1

[State 3121, 8]
type = Changestate
trigger1 = time >= 21
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 3122

;----------------------------------
; Throw by Running Three - Bouncing
[Statedef 3122]
type    = A
physics = N
movetype= H
ctrl = 0
velset = -3,-4

[State 3122, 1]
type = Changeanim2
trigger1 = Time = 0
value = 3122

[State 3122, 2.1]
type = posset
trigger1 = time = 0
y = 0

[State 3122, 2.2];gravity
type = Veladd
trigger1 = time >= 3
y = .5

[State 3122, 2.3]
type = posset
trigger1 = time = 3
y = -10

[State 3122, 3]
type = Posfreeze
trigger1 = time >= 0
trigger1 = time <= 2

[State 3122, 4]
type = Changestate
trigger1 = time >= 4
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 3123

;------------------------------------
; Throw by Running Three - lying down
[Statedef 3123]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3123, 1]
type = Changeanim2
trigger1 = time = 0
value = 3123

[State 3123, 2]
type = posset
trigger1 = time = 0
y = 0

[State 3123, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 3123, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Running Three(max)
[Statedef 4100]
type    = S
physics = N
movetype= A
anim = 4100
poweradd = -2000
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
var(12) = 0

[state 1200, jordamage3]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(12) = 1

[State 3000, 19]
type = Helper
triggerall = prevstateno = [800,2999]
trigger1 = time = 0
helpertype = normal
name = "Super Cancel"
ID = 3600
stateno = 3600
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3500, 9]
type = Helper
triggerall = prevstateno >= 3000
trigger1 = time = 0
helpertype = normal
name = "Dream Cancel"
ID = 3700
stateno = 3700
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 4100, 1.1]
type = SuperPause
trigger1 = animelem = 3
trigger1 = var(10) = 0
anim = -1
time = 30

[State 4100, 1.2];foreground superspark 
type = Explod
trigger1 = animelem = 3
anim = f102
pos = 8,-77
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 4100, 1.3];background superspark 
type = Explod
trigger1 = animelem = 3
trigger1 = var(10) = 0
anim = f103
pos = 8,-77
postype = p1
supermove = 1
bindtime = 30
ontop = 0
ownpal = 1

[State 4100, 1.5];chime snd
type = playsnd
trigger1 = animelem = 3
value = f20,1

[State 4100, 1.5]
type = playsnd
trigger1 = animelem = 3
value = 0,53
volume = 80
channel = 0

[State 4100, 2.1]
type = Velset
trigger1 = animelem = 6
x = const(velocity.run.fwd.x)+1.5

[State 4100, 2.2]
type = Velset
trigger1 = animelem = 15
x = 0

[State 4100, 3] ; Shadows
type = Afterimage
trigger1 = Animelem = 4
time = 33
length = 9
FrameGap = 3

[State 4100, 4]
type = Nothitby
trigger1 = time >= 0
trigger1 = time <= 10
value = SCA

[State 4100, 5]
type = sprpriority
trigger1 = 1
value = 3

[State 4100, 5.1]
type = PlaySnd
trigger1 = Timemod = 71,17;start playing from time = 0,then play again for every 71 more ticks
value = 0,5
channel = 20
volume = 80

[State 4100, 5.2]
type = StopSnd
trigger1 = AnimTime = 0
trigger2 = time >= 20
trigger2 = p2bodydist x <= 25
channel = 20;running snd

[State 4100, 6]
type = PlaySnd
trigger1 = Time = 42
value = 0,49
volume = -80

[State 4100, 7.1]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 4100, 7.2]
type = Changestate
trigger1 = time >= 20
trigger1 = p2bodydist x <= 25
value = 4101

[State 4100, 8.1]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 4100, 8.2]
type = Varadd
trigger1 = Time >= 14
var(1) = 1


;----------------------------------
; Running Three(max) - Grab Attempt
[Statedef 4101]
type    = S
physics = N
movetype= A
anim = 4101
ctrl = 0
velset = 0,0

[State 4101, 1]
type = Nothitby
trigger1 = time = 0
value = SCA

[State 4101, 2]
type = sprpriority
trigger1 = 1
value = 3

[State 4101, 3]
type = Hitdef
triggerall = time = 0
trigger1 = var(1) >= 11
trigger2 = p2movetype != H;does not grab when opponent is hurt
trigger2 = var(1) <= 10
attr = S, HT
hitflag = M
priority = 7, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 4102
p2stateno = 4120
p2getp1state = 1
id = 4100
;nochainID = nochain_1, nochain_2 (int)
numhits = 0
givepower = 288

[State 4101, 4]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------
; Running Three(max) - Succeed
[Statedef 4102]
type    = S
physics = N
movetype= A
anim = 4102
ctrl = 0
velset = 0,0

[State 4102, 1.1]
type = Velset
trigger1 = animelem = 14
x = -const(velocity.walk.fwd.x)

[State 4102, 1.2]
type = Velset
trigger1 = animelem = 16
x = -const(velocity.run.fwd.x)-2

[State 4102, 1.2]
type = Veladd
trigger1 = animelem = 20
x = -4

[State 4102, 1.4]
type = Velset
trigger1 = animelem = 20
y = -9

[State 4102, 1.4]
type = Gravity
trigger1 = time >= 99

[State 4102, 2.1]
type = Posadd
trigger1 = animelem = 10
x = 35

[State 4102, 2.2]
type = Posadd
trigger1 = animelem = 20
x = -39

[State 4102, 3.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 10
pos = 55,0

[State 4102, 3.2]
type = TargetBind
trigger1 = time >= 11
trigger1 = time <= 18
pos = 22,-60

[State 4102, 3.3]
type = TargetBind
trigger1 = time >= 19
trigger1 = time <= 21
pos = 7,-63

[State 4102, 3.4]
type = TargetBind
trigger1 = time >= 22
trigger1 = time <= 25
pos = 0,-75

[State 4102, 3.5]
type = TargetBind
trigger1 = time >= 26
trigger1 = time <= 29
pos = -9,-93

[State 4102, 3.6]
type = TargetBind
trigger1 = time >= 30
trigger1 = time <= 33
pos = 0,-117

[State 4102, 3.7]
type = TargetBind
trigger1 = time >= 34
trigger1 = time <= 37
pos = 4,-117

[State 4102, 3.8]
type = TargetBind
trigger1 = time >= 38
trigger1 = time <= 41
pos = 10,-118

[State 4102, 3.9]
type = TargetBind
trigger1 = time >= 42
trigger1 = time <= 45
pos = -14,-119

[State 4102, 3.10]
type = TargetBind
trigger1 = time >= 46
trigger1 = time <= 49
pos = -6,-105

[State 4102, 3.11]
type = TargetBind
trigger1 = time >= 50
trigger1 = time <= 52
pos = 0,-105

[State 4102, 3.12]
type = TargetBind
trigger1 = time >= 53
trigger1 = time <= 70
pos = -1,-105

[State 4102, 3.13]
type = TargetBind
trigger1 = time >= 71
trigger1 = time <= 75
pos = -3,-113

[State 4102, 3.14]
type = TargetBind
trigger1 = time >= 76
trigger1 = time <= 81
pos = -1,-118

[State 4102, 3.15]
type = TargetBind
trigger1 = time >= 82
trigger1 = time <= 85
pos = -21,-109

[State 4102, 3.16]
type = TargetBind
trigger1 = time >= 86
trigger1 = time <= 89
pos = -21,-108

[State 4102, 3.17]
type = TargetBind
trigger1 = time >= 90
trigger1 = time <= 93
pos = -21,-104

[State 4102, 3.18]
type = TargetBind
trigger1 = time >= 94
trigger1 = time <= 97
pos = -21,-104

[State 4102, 3.19]
type = TargetBind
trigger1 = time >= 98
trigger1 = time <= 106
pos = -19,-96

[State 4102, 3.20]
type = TargetBind
trigger1 = time >= 107
trigger1 = time <= 110
pos = -22,-111

[State 4102, 3.21]
type = TargetBind
trigger1 = time >= 111
pos = -19,-93

[State 4102, 4]
type = Explod
trigger1 = time = 0
anim = f21
pos = 65,-83
postype = p1
bindtime = 1
ownpal = 1
sprpriority = 2;between player and opponent

[State 4102, 5.1]
type = sprpriority
trigger1 = time <= 10
value = 3

[State 4102, 5.2]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 18
trigger2 = time >= 34
value = 2

[State 4102, 5.3]
type = sprpriority
trigger1 = time >= 19
trigger1 = time <= 33
value = 1

[State 4102, 6.1]
type = Playsnd
trigger1 = time = 0
value = 0,33
volume = -80

[State 4102, 6.2]
type = Playsnd
trigger1 = animelem = 20
value = 0,3
volume = -80

[State 4102, 6.3]
type = PlaySnd
trigger1 = animelem = 20
value = 0,31
channel = 0
volume = 80

[State 4102, 7.1]
type = PlaySnd
trigger1 = animelem = 14
value = 0,5
channel = 20
volume = 80

[State 4102, 7.2]
type = StopSnd
trigger1 = animelem = 20
channel = 20;running snd

[State 4102, 8]
type = Width
trigger1 = 1
edge = 30,35

[State 4102, 9]
type = Changestate
trigger1 = time >= 100
trigger1 = Pos y >= 0
trigger1 = Vel y > 0
value = 4103
;---------------------------------------------
; Running Three(max) - Reach ground;second run
[Statedef 4103]
type    = S
physics = N
movetype= A
anim = 4103
ctrl = 0
velset = 0,0

[State 4103, 1.1]
type = Posset
trigger1 = time = 0
y = 0

[State 4103, 1.2]
type = Posadd
trigger1 = animelem = 1
x = -15

[State 4103, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 11
pos = -33,-5

[State 4103, 2.2]
type = TargetBind
trigger1 = time >= 12
trigger1 = time <= 20
pos = -19,-18

[State 4103, 2.3]
type = TargetBind
trigger1 = time >= 21
trigger1 = time <= 24
pos = -16,-12

[State 4103, 2.4]
type = TargetBind
trigger1 = time >= 25
trigger1 = time <= 28
pos = -47,-1

[State 4103, 2.5]
type = TargetBind
trigger1 = time >= 29
trigger1 = time <= 33
pos = -28,-35

[State 4103, 2.6]
type = TargetBind
trigger1 = time >= 34
trigger1 = time <= 37
pos = 22,-60

[State 4103, 2.7]
type = TargetBind
trigger1 = time >= 38
trigger1 = time <= 40
pos = 7,-63

[State 4103, 2.8]
type = TargetBind
trigger1 = time >= 41
trigger1 = time <= 44
pos = 0,-75

[State 4103, 2.9]
type = TargetBind
trigger1 = time >= 45
trigger1 = time <= 48
pos = -9,-93

[State 4103, 2.10]
type = TargetBind
trigger1 = time >= 49
trigger1 = time <= 52
pos = 0,-117

[State 4103, 2.11]
type = TargetBind
trigger1 = time >= 53
trigger1 = time <= 56
pos = 4,-117

[State 4103, 2.12]
type = TargetBind
trigger1 = time >= 57
trigger1 = time <= 60
pos = 10,-118

[State 4103, 2.13]
type = TargetBind
trigger1 = time >= 61
trigger1 = time <= 64
pos = -14,-119

[State 4103, 2.14]
type = TargetBind
trigger1 = time >= 65
trigger1 = time <= 68
pos = -6,-105

[State 4103, 2.15]
type = TargetBind
trigger1 = time >= 69
trigger1 = time <= 71
pos = 0,-105

[State 4103, 2.16]
type = TargetBind
trigger1 = time >= 72
trigger1 = time <= 89
pos = -1,-105

[State 4103, 2.17]
type = TargetBind
trigger1 = time >= 90
trigger1 = time <= 94
pos = -3,-113

[State 4103, 2.18]
type = TargetBind
trigger1 = time >= 95
trigger1 = time <= 100
pos = -1,-118

[State 4103, 2.19]
type = TargetBind
trigger1 = time >= 101
trigger1 = time <= 104
pos = -21,-109

[State 4103, 2.20]
type = TargetBind
trigger1 = time >= 105
trigger1 = time <= 108
pos = -21,-108

[State 4103, 2.21]
type = TargetBind
trigger1 = time >= 109
trigger1 = time <= 112
pos = -21,-104

[State 4103, 2.22]
type = TargetBind
trigger1 = time >= 113
trigger1 = time <= 116
pos = -21,-104

[State 4103, 2.23]
type = TargetBind
trigger1 = time >= 117
trigger1 = time <= 125
pos = -19,-96

[State 4103, 2.24]
type = TargetBind
trigger1 = time >= 126
trigger1 = time <= 129
pos = -22,-111

[State 4103, 2.25]
type = TargetBind
trigger1 = time >= 130
pos = -19,-93

[State 4103, 3.1]
type = Velset
trigger1 = animelem = 17
x = -const(velocity.walk.fwd.x)

[State 4103, 3.2]
type = Velset
trigger1 = animelem = 19
x = -const(velocity.run.fwd.x)-2

[State 4103, 3.1]
type = Veladd
trigger1 = animelem = 23
x = -4

[State 4103, 3.2]
type = Velset
trigger1 = animelem = 23
y = -9

[State 4103, 3.3]
type = Gravity
trigger1 = time >= 118

[State 4103, 4.1]
type = Posadd
trigger1 = animelem = 13
x = 35

[State 4103, 4.2]
type = Posadd
trigger1 = animelem = 23
x = -39

[State 4103, 5.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 37
trigger2 = time >= 53
value = 2

[State 4103, 5.3]
type = sprpriority
trigger1 = time >= 38
trigger1 = time <= 52
value = 1

[State 4103, 6]
type = Turn
trigger1 = Time = 34
value = 1

[State 4103, 7]
type = Width
trigger1 = 1
edge = 0,30

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 812, 4];damage
type = Targetlifeadd
trigger1 = Time = 0
value = ifelse(var(12)=1,-80,-160)
;absolute = 1
kill = 0

[State 4103, 8];smash ground effect
type = Explod
trigger1 = Time = 0
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 4103, 9.1]
type = Playsnd
trigger1 = Time = 0
value = 0,40
volume = -80

[State 4103, 9.2]
type = Playsnd
trigger1 = animelem = 23
value = 0,3
volume = -80

[State 4103, 9.3]
type = PlaySnd
trigger1 = animelem = 23
value = 0,31
channel = 0
volume = 80

[State 4103, 10.1]
type = PlaySnd
trigger1 = animelem = 17
value = 0,5
channel = 20
volume = 80

[State 4103, 10.2]
type = StopSnd
trigger1 = animelem = 23
channel = 20;running snd

[State 4103, 11]
type = Changestate
trigger1 = time >= 131
trigger1 = Pos y >= 0
trigger1 = Vel y > 0
value = 4104

;--------------------------------------------
; Running Three(max) - Reach ground;third run
[Statedef 4104]
type    = S
physics = N
movetype= A
anim = 4103
ctrl = 0
velset = 0,0

[State 4104, 1.1]
type = Posset
trigger1 = time = 0
y = 0

[State 4104, 1.2]
type = Posadd
trigger1 = animelem = 1
x = -15

[State 4104, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 11
pos = -33,-5

[State 4104, 2.2]
type = TargetBind
trigger1 = time >= 12
trigger1 = time <= 20
pos = -19,-18

[State 4104, 2.3]
type = TargetBind
trigger1 = time >= 21
trigger1 = time <= 24
pos = -16,-12

[State 4104, 2.4]
type = TargetBind
trigger1 = time >= 25
trigger1 = time <= 28
pos = -47,-1

[State 4104, 2.5]
type = TargetBind
trigger1 = time >= 29
trigger1 = time <= 33
pos = -28,-35

[State 4104, 2.6]
type = TargetBind
trigger1 = time >= 34
trigger1 = time <= 37
pos = 22,-60

[State 4104, 2.7]
type = TargetBind
trigger1 = time >= 38
trigger1 = time <= 40
pos = 7,-63

[State 4104, 2.8]
type = TargetBind
trigger1 = time >= 41
trigger1 = time <= 44
pos = 0,-75

[State 4104, 2.9]
type = TargetBind
trigger1 = time >= 45
trigger1 = time <= 48
pos = -9,-93

[State 4104, 2.10]
type = TargetBind
trigger1 = time >= 49
trigger1 = time <= 52
pos = 0,-117

[State 4104, 2.11]
type = TargetBind
trigger1 = time >= 53
trigger1 = time <= 56
pos = 4,-117

[State 4104, 2.12]
type = TargetBind
trigger1 = time >= 57
trigger1 = time <= 60
pos = 10,-118

[State 4104, 2.13]
type = TargetBind
trigger1 = time >= 61
trigger1 = time <= 64
pos = -14,-119

[State 4104, 2.14]
type = TargetBind
trigger1 = time >= 65
trigger1 = time <= 68
pos = -6,-105

[State 4104, 2.15]
type = TargetBind
trigger1 = time >= 69
trigger1 = time <= 71
pos = 0,-105

[State 4104, 2.16]
type = TargetBind
trigger1 = time >= 72
trigger1 = time <= 89
pos = -1,-105

[State 4104, 2.17]
type = TargetBind
trigger1 = time >= 90
trigger1 = time <= 94
pos = -3,-113

[State 4104, 2.18]
type = TargetBind
trigger1 = time >= 95
trigger1 = time <= 100
pos = -1,-118

[State 4104, 2.19]
type = TargetBind
trigger1 = time >= 101
trigger1 = time <= 104
pos = -21,-109

[State 4104, 2.20]
type = TargetBind
trigger1 = time >= 105
trigger1 = time <= 108
pos = -21,-108

[State 4104, 2.21]
type = TargetBind
trigger1 = time >= 109
trigger1 = time <= 112
pos = -21,-104

[State 4104, 2.22]
type = TargetBind
trigger1 = time >= 113
trigger1 = time <= 116
pos = -21,-104

[State 4104, 2.23]
type = TargetBind
trigger1 = time >= 117
trigger1 = time <= 125
pos = -19,-96

[State 4104, 2.24]
type = TargetBind
trigger1 = time >= 126
trigger1 = time <= 129
pos = -22,-111

[State 4104, 2.25]
type = TargetBind
trigger1 = time >= 130
pos = -19,-93

[State 4104, 3.1]
type = Velset
trigger1 = animelem = 17
x = -const(velocity.walk.fwd.x)

[State 4104, 3.2]
type = Velset
trigger1 = animelem = 19
x = -const(velocity.run.fwd.x)-2

[State 4104, 3.3]
type = Veladd
trigger1 = animelem = 23
x = -4

[State 4104, 3.4]
type = Velset
trigger1 = animelem = 23
y = -9

[State 4104, 3.5]
type = Gravity
trigger1 = time >= 118

[State 4104, 4.1]
type = Posadd
trigger1 = animelem = 13
x = 35

[State 4104, 4.2]
type = Posadd
trigger1 = animelem = 23
x = -39

[State 4104, 5.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 37
trigger2 = time >= 53
value = 2

[State 4104, 5.3]
type = sprpriority
trigger1 = time >= 38
trigger1 = time <= 52
value = 1

[State 4104, 6]
type = Turn
trigger1 = Time = 34
value = 1

[State 4104, 7]
type = Width
trigger1 = 1
edge = 0,30

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 812, 4];damage
type = Targetlifeadd
trigger1 = Time = 0
value = ifelse(var(12)=1,-80,-160)
;absolute = 1
kill = 0

[State 4104, 8];smash ground effect
type = Explod
trigger1 = Time = 0
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 4104, 9.1]
type = Playsnd
trigger1 = Time = 0
value = 0,40
volume = -80

[State 4104, 9.2]
type = Playsnd
trigger1 = animelem = 23
value = 0,3
volume = -80

[State 4104, 9.3]
type = PlaySnd
trigger1 = animelem = 23
value = 0,31
channel = 0
volume = 80

[State 4104, 10.1]
type = PlaySnd
trigger1 = animelem = 17
value = 0,5
channel = 20
volume = 80

[State 4104, 10.2]
type = StopSnd
trigger1 = animelem = 23
channel = 20;running snd

[State 4104, 11]
type = Changestate
trigger1 = time >= 131
trigger1 = Pos y >= 0
trigger1 = Vel y > 0
value = 4105

;----------------------------------------
; Running Three(max) - Final Reach ground
[Statedef 4105]
type    = S
physics = N
movetype= A
anim = 4104
ctrl = 0
velset = 0,0

[State 4105, 1.1]
type = Posset
trigger1 = time = 0
y = 0

[State 4105, 1.2]
type = Posadd
trigger1 = animelem = 1
x = -15

[State 4105, 2]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 19
pos = -33,-5

[State 4105, 3]
type = Turn
trigger1 = AnimTime = 0
value = 1

[State 4105, 4]
type = Width
trigger1 = 1
edge = 0,30

[State 800, hit]
type = Hitadd
trigger1 = time = 0
value = 1

[State 812, 4];damage
type = Targetlifeadd
trigger1 = Time = 0
value = ifelse(var(12)=1,-90,-180)
;absolute = 1

[State 4105, 5.1];smash ground effect
type = Explod
trigger1 = Time = 0
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 4105, 5.2];ground wave
type = Explod
trigger1 = p2stateno = 4124
anim = 8100
pos = 22,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1
persistent = 0

[State 4105, 5.3];dust
type = Explod
trigger1 = p2stateno = 4124
anim = 8150
pos = -10,-8
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 4105, 6.1]
type = Playsnd
trigger1 = Time = 0
value = 0,40
volume = -80

[State 4105, 6.2]
type = Playsnd
trigger1 = p2stateno = 4124
value = 0,37
volume = -80
persistent = 0

[State 4105, 7]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
; Throw by Running Three(max)
[Statedef 4120]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4120, 1]
type = Changeanim2
trigger1 = Time = 0
value = 4120

[State 4120, 2.1]
type = sprpriority
trigger1 = time >= 11
trigger1 = time <= 18
trigger2 = time >= 34
value = 1

[State 4120, 2.2]
type = sprpriority
trigger1 = time >= 19
trigger1 = time <= 33
value = 2

[State 4120, 3]
type = Width
trigger1 = 1
value = -30,-30

[State 4120, 4];short flash
type = Envcolor
trigger1 = time = 0
value = 248,248,248
time = 1
under = 1

[State 4120, 5]
type = Changestate
trigger1 = time >= 111
trigger1 = pos y >= -89
trigger2 = p2stateno = 4103
value = 4121

;------------------------------------------------------
; Throw by Running Three(max) - Reach ground;second run
[Statedef 4121]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4121, 1.1]
type = Changeanim2
trigger1 = Time = 0
value = 4121

[State 4121, 1.2]
type = Changeanim
trigger1 = SelfAnimExist(5111)
trigger1 = time = 25
value = 5111

[State 4121, 1.3]
type = Changeanim2
trigger1 = !SelfAnimExist(5111)
trigger1 = time = 25
value = 4122

[State 4121, 1.4]
type = Changeanim2
trigger1 = Time = 29
value = 4123

[State 4121, 2]
type = Width
trigger1 = 1
value = -30,-30

[State 4121, 3]
type = turn
trigger1 = Time = 0

[State 4121, 4];shaking effect
type = Envshake
trigger1 = time = 0
time = 20
freq = 70
ampl = -8

[State 4121, 5];short flash
type = Envcolor
trigger1 = time = 0
value = 248,248,248
time = 1
under = 1

[State 4121, 6.2]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 37
trigger2 = time >= 53
value = 1

[State 4121, 6.3]
type = sprpriority
trigger1 = time >= 38
trigger1 = time <= 52
value = 2

[State 4121, 7]
type = Nothitby
trigger1 = 1
value = SCA

[State 4121, 8]
type = Changestate
trigger1 = time >= 130
trigger1 = pos y >= -89
trigger2 = p2stateno = 4104
value = 4122

;-----------------------------------------------------
; Throw by Running Three(max) - Reach ground;third run
[Statedef 4122]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4122, 1.1]
type = Changeanim2
trigger1 = Time = 0
value = 4121

[State 4122, 1.2]
type = Changeanim
trigger1 = SelfAnimExist(5111)
trigger1 = time = 25
value = 5111

[State 4122, 1.3]
type = Changeanim2
trigger1 = !SelfAnimExist(5111)
trigger1 = time = 25
value = 4122

[State 4122, 1.4]
type = Changeanim2
trigger1 = Time = 29
value = 4123

[State 4122, 2]
type = Width
trigger1 = 1
value = -30,-30

[State 4122, 3]
type = turn
trigger1 = Time = 0

[State 4122, 4];shaking effect
type = Envshake
trigger1 = time = 0
time = 20
freq = 70
ampl = -8

[State 4122, 5];short flash
type = Envcolor
trigger1 = time = 0
value = 248,248,248
time = 1
under = 1

[State 4122, 6.1]
type = sprpriority
trigger1 = time >= 0
trigger1 = time <= 37
trigger2 = time >= 53
value = 1

[State 4122, 6.2]
type = sprpriority
trigger1 = time >= 38
trigger1 = time <= 52
value = 2

[State 4122, 7]
type = Nothitby
trigger1 = 1
value = SCA

[State 4122, 8]
type = Changestate
trigger1 = time >= 130
trigger1 = pos y >= -89
trigger2 = p2stateno = 4105
value = 4123

;-------------------------------------------------
; Throw by Running Three(max) - Final Reach ground
[Statedef 4123]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4123, 1]
type = Changeanim2
trigger1 = Time = 0
value = 4124

[State 4123, 2.1]
type = Velset
trigger1 = time = 20
x = -5
y = -7

[State 4123, 2.2];gravity
type = Veladd
trigger1 = time >= 20
y = .5

[State 4123, 3]
type = Width
trigger1 = time <= 20
value = -30,-30

[State 4123, 4]
type = Turn
trigger1 = time = 0
value = 1

[State 4123, 5];shaking effect
type = Envshake
trigger1 = time = 0
time = 20
freq = 70
ampl = -8

[State 4123, 6];short flash
type = Envcolor
trigger1 = time = 0
value = 248,248,248
time = 1
under = 1

[State 4123, 7]
type = Changestate
trigger1 = time >= 21
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 4124

;---------------------------------------
; Throw by Running Three(max) - Bouncing
[Statedef 4124]
type    = A
physics = N
movetype= H
ctrl = 0
velset = -3,-4

[State 4124, 1]
type = Changeanim2
trigger1 = Time = 0
value = 4125

[State 4124, 2.1]
type = posset
trigger1 = time = 0
y = 0

[State 4124, 2.2];gravity
type = Veladd
trigger1 = time >= 3
y = .5

[State 4124, 2.3]
type = posset
trigger1 = time = 3
y = -10

[State 4124, 3]
type = Posfreeze
trigger1 = time >= 0
trigger1 = time <= 2

[State 4124, 4]
type = Changestate
trigger1 = time >= 4
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 4125

;-----------------------------------------
; Throw by Running Three(max) - lying down
[Statedef 4125]
type    = L
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4125, 1]
type = Changeanim2
trigger1 = time = 0
value = 4126

[State 4125, 2]
type = posset
trigger1 = time = 0
y = 0

[State 4125, 3.1] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 4125, 3.2] ;If alive
type = SelfState
triggerall = alive
trigger1 = Time = 25
value = 5120

;---------------------------------------------------------------------------
; Speical Mode Program Codes
;---------------------------------------------------------------------------
; Dizzy Mode
[Statedef 5304]
type    = S
physics = S
anim = 5300
ctrl = 0

[State 5304, 1];back to normal
type = ChangeState
trigger1 = Time = 300
trigger2 = Time >= 30;must stay at lease for 50 ticks for fast recovery
trigger2 = var(1) >= 5
value = 0
ctrl = 1

[State 5304, 2]
type = Varset
trigger1 = Time = 0
var(1) = 0

[State 5304, 3];press left right quickly to recover faster
type = Varadd
trigger1 = command = "dizzyrecover"
var(1) = 1

[State 5304, 4]
type = Playsnd
trigger1 = Time = 0
value = 0,10
volume = -40

;--------------------
; Dizzy Mode(shaking)
[Statedef 5300]
type    = A
movetype= H
physics = N

[State 5300, 1]
type = Varset
trigger1 = time = 0
var(7) = 0

[State 5300, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5301

[State 5300, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

[State 5300, 4]
type = Nothitby
trigger1 = 1
value = SCA

;-----------------------------
; Dizzy Mode(fall through air)
[Statedef 5301]
type    = A
movetype= H
physics = N
anim = 5050

[State 5301, 1]
type = Veladd
trigger1 = Time = 0
y = -6

[State 5301, 1];reduce speed if vel x is too large
type = Veladd
trigger1 = vel x < -5
x = .5

[State 5301, 2]
type = Gravity
trigger1 = 1

[State 5301, 3] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
value = 5302

[State 5301, 4]
type = Nothitby
trigger1 = 1
value = SCA

;---------------------
; Dizzy Mode(lie down)
[Statedef 5302]
type    = L
movetype= H
physics = N

[State 5302, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5302, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5302, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5302, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5302, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5302, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5302, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5302, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5302, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5302, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5302, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5302, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5302, 11] ;If alive
type = ChangeState
trigger1 = alive
trigger1 = Time = 40
value = 5303

[State 5302, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5302, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5302, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5302, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State 5302, 16]
type = Nothitby
trigger1 = 1
value = SCA

;------------------
; Dizzy Mode(getup)
[Statedef 5303]
type    = L
movetype= I
physics = N

[State 5303, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5303, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5303, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5303, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5303, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5303, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = SCA, NT,ST,HT
time = 12

[State 5303, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5303, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 5304
ctrl = 0

;---------------------------------------------------------------------------
; Guard Crush Mode
[Statedef 9100]
type    = S
physics = S
anim = 9100
ctrl = 0

[State 9100, 1]
type = Pause
trigger1 = Time = 0
time = 3
movetime = 3

[State 9100, 2]
type = Envcolor
trigger1 = Time = 0
value = 248,248,248
time = 3
under = 1

[State 9100, 3]
type = Varset
trigger1 = time = 0
var(6) = 0

[State 9100, 4]
type = Envshake
trigger1 = time = 0
time = 8

[State 9100, 5]
type = Velset
trigger1 = time >= 3
trigger1 = time <= 10
x = -4

[State 9100, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "dodge";can recover near ground but not mid-air
value = 5200 ;HITFALL_RECOVER

;recover in mid-air is disable for kof99 characters
;[State 5050, 5]; Recover in mid air
;type = null;ChangeState
;triggerall = Vel Y > -1
;triggerall = alive
;triggerall = CanRecover
;trigger1 = Command = "dodge"
;value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type    = A
movetype= H
physics = N

[State 5200, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5201

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = S
movetype= H
physics = S
anim = 5200
ctrl = 0

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5201, 2.1]
type = VelSet
trigger1 = Time >= 0
trigger1 = Time <= 12
x = -4

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA, NT,ST,HT
time = 1

[State 5201, 5]
type = Playsnd
trigger1 = Time = 0
value = 0,13
volume = 90
channel = 0

[State 5201, 6]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_UP
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0

[State 40, 0.0]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 40, 0.1]
type = VarSet
trigger1 = command = "holdfwd"
trigger1 = var(8) != 2
var(8) = 1

[State 40, 0.2]
type = VarSet
trigger1 = command = "holdback"
trigger1 = var(8) != -2
var(8) = -1

[State 40, 0.1b]
type = VarSet
triggerall = Time = 0
triggerall = command = "holdfwd"
trigger1 = command = "longjump"
trigger2 = prevstateno = 100 ;RUN_FWD
var(8) = 2

[State 40, 0.2b]
type = VarSet
trigger1 = Time = 0
trigger1 = command = "holdback"
trigger1 = command = "longjump"
var(8) = -2

;make sure running snd is off
[State 40, 3]
type = StopSnd
trigger1 = time = 0
channel = 20;running snd

[State 40, 4]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = var(8) != 0
trigger1 = var(8) != 1
trigger1 = var(8) != -1
trigger1 = command = "holdup"
trigger2 = command != "holdup"
value = 9000

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(var(8)=0, const(velocity.jump.neu.x), ifelse(var(8)>0, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_UP (short)
[Statedef 9000]
type    = A
physics = A
velset = 0, -6.6
ctrl = 1

[State 9000, 1a] ; Play sound when jumping (Light)
type = PlaySnd
trigger1 = Time = 0
trigger1 = var(8) != -2
trigger1 = var(8) != 2
value = 0,1
volume = -40

[State 9000, 1b] ; Play sound when jumping (Shadow)
type = PlaySnd
triggerall = Time = 0
trigger1 = var(8) = -2
trigger2 = var(8) = 2
value = 0,3
volume = -80

[State 9000, 2] ; Shadows
type = Afterimage
triggerall = Time = 0
trigger1 = var(8) = -2
trigger2 = var(8) = 2
time = 14
length = 9
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 3

[State 9000, 2] ; Shadows off
type = Afterimage
trigger1 = Time = 14
time = 0

[State 9000, -0.1] ;Holding up?
type = VelSet
trigger1 = Time = 0
trigger1 = command = "holdup"
y = -9

[State 9000, 0.1]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = 1
x = 2.9

[State 9000, 0.1b]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = 2
x = 4

[State 9000, 0.2]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = -1
x = -2.9

[State 9000, 0.2b]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = -2
x = -4

[State 9000, 1.1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command = "holdup"
value = 41

[State 9000, 1.2] ;Short
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command != "holdup"
value = 9000

[State 9000, 2.1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command = "holdup"
value = 42

[State 9000, 2.2] ;Short
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command != "holdup"
value = 9000

[State 9000, 3.1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command = "holdup"
value = 43

[State 9000, 3.2] ;Short
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command != "holdup"
value = 9000

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
anim = 47
ctrl = 1

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------------------
; Super Cancel States
;-----------------------------------------------------------------------------------------
[Statedef 3600]
type    = S
movetype= I
physics = S
anim = 8030
velset = 0,0
poweradd = 0
ctrl = 0
sprpriority = -1

[State 3600, 1]
type = Explod
trigger1 = time = 10
anim = f8500
ID = 8500
pos = 65,66
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 2]
type = Explod
trigger1 = time = 0
anim = f8505
ID = 8505
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 3]
type = Explod
trigger1 = time = 0
anim = f8510
ID = 8510
pos = -150,60
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 4]
type = DestroySelf
trigger1 = time = 65

;-----------------------------------------------------------------------------------------
; Dream Cancel States
;-----------------------------------------------------------------------------------------
[Statedef 3700]
type    = S
movetype= I
physics = S
anim = 8030
velset = 0,0
poweradd = 0
ctrl = 0
sprpriority = -1

[State 3700, 1]
type = Explod
trigger1 = time = 10
anim = f8600
ID = 8600
pos = -3,68
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3700, 2]
type = Explod
trigger1 = time = 0
anim = f8605
ID = 8605
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3700, 3]
type = Explod
trigger1 = time = 0
anim = f8610
ID = 8610
pos = -150,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3700, 4]
type = DestroySelf
trigger1 = time = 65

;--------------------------
; Armor mode overwrite code
;--------------------------
; HITG_SHAKE
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
trigger1 = var(11) = 0
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
trigger1 = var(11) = 0
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
trigger1 = var(11) = 0
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 3] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 4] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
value = a

[State 5000, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
trigger1 = var(11) = 0
trigger2 = var(11) != 0
value = 5001 ;HITG_SLIDE

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = var(11) = 0
value = 5030

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 5001]
type    = S
movetype= H
physics = S
velset = 0,0

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = var(11) = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = 0.6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
trigger1 = var(11) = 0
value = 5020 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
trigger1 = var(11) = 0
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
trigger1 = var(11) = 0
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
trigger1 = var(11) = 0
trigger2 = var(11) != 0
value = 5011 ;HITC_SLIDE

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = var(11) = 0
value = 5030

[State 5010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITC_SLIDE
[Statedef 5011]
type    = C
movetype= H
physics = C
velset = 0,0

[State 5011, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5011, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = var(11) = 0
value = 5025 + GetHitVar(animtype)

[State 5011, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5011, 4]
type = VelSet
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
value = 1

[State 5011, 6]
type = ChangeState
trigger1 = HitOver
trigger2 = var(11) != 0
trigger2 = time = GetHitVar(slidetime)/5
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; States that are always checked when in self's rc (use -3) :
;---------------------------------------------------------------------------

[Statedef -3]

; Play sound when jumping
[State -3, 1.1]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 50
value = 0,1
persistent = 0 ;make sure it play only once each time
volume = -40

; Play sound when landing
[State -3, 1.2]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52
trigger2 = stateno = 106
value = 0,2
persistent = 0 ;make sure it play only once each time
volume = -80

; Play sound when hit by light
[State -3, 1.3]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 600;use random
trigger1 = stateno = 5001
trigger1 = anim = 5000
trigger2 = stateno = 5001
trigger2 = anim = 5010
trigger3 = stateno = 5011
trigger3 = anim = 5020 
value = 0,6
channel = 0
volume = 80

; Play sound when hit by medium
[State -3, 1.4]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 600;use random
trigger1 = stateno = 5001
trigger1 = anim = 5001
trigger2 = stateno = 5001
trigger2 = anim = 5011
trigger3 = stateno = 5011
trigger3 = anim = 5021 
value = 0,7
channel = 0
volume = 80

; Play sound when hit by hard
[State -3, 1.5]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 600;use random
trigger1 = stateno = 5001
trigger1 = anim = 5002
trigger2 = stateno = 5001
trigger2 = anim = 5012
trigger3 = stateno = 5011
trigger3 = anim = 5022 
value = 0,9
channel = 0
volume = 80

; Play sound when lying down
[State -3, 1.6]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
trigger1 = stateno = 5100
value = 0,8
channel = 0
volume = 80

; Get rid of trailing anims when hit
[State -3, 1.7]
type = AfterImageTime
triggerall = Time = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 5070
time = 0

;Stop channel 20's sound
[State -3, 1.8]
type = StopSnd
triggerall = var(9) != 1;AI cannot access
trigger1 = stateno = 100
trigger1 = AnimElem = 5, >= 0
trigger1 = command != "holdfwd"
trigger2 = stateno != 100
trigger2 = stateno != 900
trigger2 = stateno != 1300
trigger2 = stateno != 1700
trigger2 = stateno != 3100
trigger2 = stateno != 3102
trigger2 = stateno != 4100
trigger2 = stateno != 4102
trigger2 = stateno != 4103
trigger2 = stateno != 4104
channel = 20;running snd

;Stop channel 20's sound
[State -3, 1.9]
type = StopSnd
triggerall = var(9) = 1;only AI can access
trigger1 = stateno = 100
trigger1 = AnimElem = 5, >= 0
trigger1 = P2bodydist X >= 40;access only when far
trigger2 = stateno != 100
trigger2 = stateno != 900
trigger2 = stateno != 1300
trigger2 = stateno != 1700
trigger2 = stateno != 3100
trigger2 = stateno != 3102
trigger2 = stateno != 4100
trigger2 = stateno != 4102
trigger2 = stateno != 4103
trigger2 = stateno != 4104
channel = 20;running snd

;Access AI modification once any of the following AI-command is accessed
[State -3, 1.10]
type = Varset
triggerall = var(9) != 1
trigger1 = command = "AI_1"
trigger2 = command = "AI_2"
trigger3 = command = "AI_3"
trigger4 = command = "AI_4"
trigger5 = command = "AI_5"
trigger6 = command = "AI_6"
trigger7 = command = "AI_7"
trigger8 = command = "AI_8"
trigger9 = command = "AI_9"
trigger10 = command = "AI_10"
trigger11 = command = "AI_11"
trigger12 = command = "AI_12"
var(9) = 1

[State -3, 1.11];kill the corner push bug
type = Velset
trigger1 = FrontEdgeDist < 10
trigger1 = vel x > 0.1
x = 0.1

;==================
; Dizzy mode system
;==================
; Var(7) for counting dizzy mode
[State -3, 2.1]
type = Varadd
trigger1 = var(7) > 0 && movetype != H && TimeMod = 4, = 0
var(7) = -1
ignorehitpause = 1

[State -3, 2.2]
type = Varadd
triggerall = Time = 1
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 3
trigger1 = stateno = 5001
trigger1 = anim = 5000
trigger2 = stateno = 5001
trigger2 = anim = 5010
trigger3 = stateno = 5011
trigger3 = anim = 5020 
var(7) = 50
ignorehitpause = 1

[State -3, 2.3];add for medium attacks
type = Varadd
triggerall = Time = 1
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 3
trigger1 = stateno = 5001
trigger1 = anim = 5001
trigger2 = stateno = 5001
trigger2 = anim = 5011
trigger3 = stateno = 5011
trigger3 = anim = 5021 
var(7) = 100
ignorehitpause = 1

[State -3, 2.4];add for heavy attacks
type = Varadd
triggerall = Time = 1
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 3
trigger1 = stateno = 5001
trigger1 = anim = 5002
trigger2 = stateno = 5001
trigger2 = anim = 5012
trigger3 = stateno = 5011
trigger3 = anim = 5022 
var(7) = 180
ignorehitpause = 1

[State -3, 2.5]
type = ChangeState;change to dizzy when var(7) limits reached!
trigger1 = var(7) >= 1000
value = 5300
ctrl = 0
ignorehitpause = 1

;========================
; Guard Crush mode system
;========================
; Var(6) for counting Guard Crush mode
[State -3, 3.1];subtract for light attack hits
type = Varadd
triggerall = var(6) > 0
trigger1 = stateno = 5001
trigger1 = anim = 5000
trigger2 = stateno = 5001
trigger2 = anim = 5010
trigger3 = stateno = 5011
trigger3 = anim = 5020 
persistent = 0
var(6) = -1
ignorehitpause = 1

[State -3, 3.2];subtract for medium attack hits
type = Varadd
triggerall = var(6) > 0
trigger1 = stateno = 5001
trigger1 = anim = 5001
trigger2 = stateno = 5001
trigger2 = anim = 5011
trigger3 = stateno = 5011
trigger3 = anim = 5021 
persistent = 0
var(6) = -3
ignorehitpause = 1

[State -3, 3.3];subtract for heavy attack hits
type = Varadd
triggerall = var(6) > 0
trigger1 = stateno = 5001
trigger1 = anim = 5002
trigger2 = stateno = 5001
trigger2 = anim = 5012
trigger3 = stateno = 5011
trigger3 = anim = 5022 
persistent = 0
var(6) = -6
ignorehitpause = 1

[State -3, 3.4];subtract for fall
type = Varadd
trigger1 = var(6) > 0
trigger1 = PrevStateNo = 5050
persistent = 0
var(6) = -10
ignorehitpause = 1

[State -3, 3.5]
type = Varadd;add when hitshaketime had at lease 15 ticks;heavy guard
triggerall = GetHitVar(hitshaketime) = 15
trigger1 = stateno = 150
trigger2 = stateno = 152
var(6) = 3
ignorehitpause = 1

[State -3, 3.6]
type = Varadd;add when hitshaketime had at lease 12 ticks;medium guard
triggerall = GetHitVar(hitshaketime) = 12
trigger1 = stateno = 150
trigger2 = stateno = 152
var(6) = 2
ignorehitpause = 1

[State -3, 3.7]
type = Varadd;add when hitshaketime had at lease 8 ticks;light guard
triggerall = GetHitVar(hitshaketime) = 8
trigger1 = stateno = 150
trigger2 = stateno = 152
var(6) = 1
ignorehitpause = 1

[State -3, 3.8]
type = ChangeState;change to guard crush when var(6) limits reached!
trigger1 = var(6) >= 54
value = 9100
ctrl = 0
ignorehitpause = 1

[Statedef -2];must change to -2 for it to check all time

;-----------------------------
; Counter Code por Jor
;-----------------------------

[state 1]
type = varset
trigger1 = enemy,stateno = [1000,4999]
trigger1 = enemy,movetype = A
v = 55
value = 1
ignorehitpause = 1

[State 2]
type = EnvColor
trigger1 = movehit
trigger1 = var(55) = 1
persistent = 0
ignorehitpause = 1
time = 2
value = 55,255,100
under = 2

[State 2a];probar
type = Assertspecial
trigger1 = movehit
trigger1 = var(55) = 1 
flag = Nojugglecheck

[State 2a];probar
type = targetlifeadd
trigger1 = movehit
trigger1 = var(55) = 1 
value = -1
ignorehitpause = 1

[State 2a];probar
type = lifeadd
trigger1 = movehit
trigger1 = var(55) = 1 
value = 1
ignorehitpause = 1

[State -2,bonus]
type = targetpoweradd
trigger1 = var(55) = 1
trigger1 = MoveHit
value = -250
ignorehitpause = 1

[State -2,bonus]
type = poweradd
trigger1 = var(55) = 1
trigger1 = MoveHit
value = 250
ignorehitpause = 1

[state 3]
type = varset
trigger1 = enemy,movetype != A
v = 55
value = 0
ignorehitpause = 1

;============================
; Counter & Armor mode system
;============================
[State -2, 4.11]
type = Varadd
trigger1 = var(10) > 0
var(10) = -1
ignorehitpause = 1

[State -2, 4.12]
type = Varadd
trigger1 = var(11) > 0
var(11) = -1
ignorehitpause = 1

[State -2, 4.21];Damage increase
type = AttackMulSet
trigger1 = Var(10) != 0
trigger2 = Var(11) != 0
value = 1.2

[State -2, 4.22];Back to normal
type = AttackMulSet
trigger1 = Var(10) = 0
trigger1 = Var(11) = 0
value = 1

[State -2, 4.3];during armor mode,power should be zero all the time.
type = Powerset
trigger1 = Var(10) != 0
trigger2 = Var(11) != 0
value = 0

[State -2, 5.1]
type = PalFX
trigger1 = (GameTime%2)=0;for blinking
trigger1 = Var(10) != 0
time = 1
add = 220,72,40
ignorehitpause = 1

[State -2, 5.2]
type = PalFX
trigger1 = (GameTime%2)=0;for blinking
trigger1 = Var(11) != 0
time = 1
add = 200,152,32
ignorehitpause = 1

[State -2, Stp Chrge Snd]
type = StopSnd
trigger1 = MoveType = H
channel = 2