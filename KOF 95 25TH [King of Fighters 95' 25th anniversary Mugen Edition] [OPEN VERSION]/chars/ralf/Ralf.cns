;랄프잡기거리 69안됨 66됨 68로 결정
;랄프 겔럭티카 뎀지 대충했다 담에 일레븐잡지보구 수정하던가해라 현제 03기준
;랄프 달릴때 체널 3100추가 다른케릭할땐 지워라
;랄프 마리다리잡기 축이 이상해서 클락이랑같이 했다
;랄프 게틀링어택 밀려나는게 이상타...일단 1타는 약기본기만큼밀려나게했다
;fvar(0)=버튼유지 x
;fvar(1)=약공격 평지
;fvar(2)=약공격 구석
;fvar(3)=강공격 평지
;fvar(4)=강공격 구석
;fvar(5)=날리기공격 평지
;fvar(6)=날리기공격 구석
;fvar(7)=약공격 코너푸시
;fvar(8)=강공격 코너푸시
;fvar(9)=날리기공격 코너푸시
;fvar(10)=맞고 날아가는 x축
;fvar(11)=맞고 날아가는 y축
;fvar(12)=맞는 상대 중력값
;fvar(13)=높게뜨는공격 x축
;fvar(14)=높게뜨는공격 y축
;fvar(15)=;xi 시스템 막았을때 더밀리기?
;fvar(16)=가드시히트백이 0일때
;fvar(17)=야마뱀술사,야마 드릴 연타모드바,쿠라 카운터쉘바,마리 근접큰손,클락 초필 횟수셀루기
;fvar(18)=바리바리연타셀루기
;fvar(19)=파이널임팩트 헬퍼에쓰임
;fvar(20)=다리걸때 x축
;fvar(21)=착지한순간
;fvar(22)=카운터모드 추가
;fvar(23)=강약구별
;fvar(24)=미닛맞고날아가기 x축
;fvar(25)=미닛맞고날아가기 y축
;fvar(26)=맞고 (멀리,돌면서?) 날아가는 x축
;fvar(27)=맞고 (멀리,돌면서?)날아가는 y축
;fvar(28)=맞고 (멀리,돌면서?)날아가는 중력
;fvar(29)=갑환 초필처럼 진자 높게올라가는 x축
;fvar(30)=갑환 초필처럼 진자 높게올라가는 y축
;fvar(31)=갑환 초필처럼 진자 높게올라가는 중력
;fvar(32)=쿨라 프리즈익스큐전 히트수셀루기
;fvar(33)=케오당했을때 소리두번안나게하기
;fvar(34)=레드킥맞고 밑으로 떨어질때 X축
;fvar(35)=레드킥맞고 밑으로 떨어질때 y축
;fvar(36)=anim 5058 일때 발동
;fvar(37)=구르기바
;fvar(38)=스파트위치 Y축에쓰임 4
;fvar(39)=버튼유지 y키
;var(0)=버튼유지 총괄
;var(1)=시작포즈랜덤결정
;var(2)=2k2모드
;var(3)=2k2모드1이상이면 모드발동상테
;var(4)=기본잡기딜레이관리
;var(5)=바이스가썻고 잡기필살기딜레이관리
;var(6)=추가커멘드입력
;var(7)=???자글류?
;var(8)=점프의 성격나누기
;var(9)=버튼유지 a키
;var(10)=pausetime 의 나 (보통약공격)
;var(11)=pausetime 히트시 상대 (보통약공격)
;var(12)=잡기풀기
;var(13)=업그레이드된자글
;var(14)=쿄의칠십오식에쓰인 업그레이드된자글2(베니의경우환영허리케인에쓰임)야시로는 춤추는대지잡기제어바
;var(15)=pausetime 가드시 상대 (보통약공격)
;var(16)=업그레이드자금같은데 지금용도를모르겠음;신음소리에있으니쓰이고있지않음
;var(17)=팔렛구분
;var(18)=바리바리연타셀루기
;var(19)=2히트이상시 데미지감소바
;var(20)=2k2모드 기관리
;var(21)=2k2모드 캔슬관리1
;var(22)=2k2모드 캔슬시번쩍임관리
;var(23)=2k2모드 캔슬관리2
;var(24)=기본기모드 캔슬관리3
;var(25)=스파트위치 Y축에쓰임 1
;var(26)=스파트위치 Y축에쓰임 2
;var(27)=캔슬관리 히트했을때만
;var(28)=스파트위치 x축에쓰임 1(공통)
;var(29)=약공격 hittime 가드시
;var(30)=점프했을때 성격관리
;var(31)=강공격 hittime 가드시
;var(33)=슈켄에쓰이는데 2k2모드인지아닌지구분
;var(34)=약공격 hittime
;var(35)=강공격 hittime
;var(36)=카운터모드좌우구분
;var(37)=카운터시+공격결정
;var(38)=카운터모드에쓰임왠지37이랑똑같은것같은데;;
;var(39)=카운터시대미지증가
;var(40)=히트사운드결정
;var(41)=구석인지아닌지 판단
;var(44)=이젠안씀(반동삼단차기 약강구분)(쿄의경우 황물기히트수셀루기)네이팜강약구분
;var(45)=pausetime 의 나 (보통강공격)
;var(46)=pausetime 히트시 상대 (보통강공격)
;var(47)=pausetime 가드시 상대 (보통강공격)
;var(48)=승리대사결정
;var(49)=2라운드승리시일러스트결정
;var(50)=사용시 2k2모드에 번쩍임기도깍임
;var(51)=2라운드승리시대사결정
;var(52)=라운드수셀루기
;var(53)=쓰이고는있으나 적용은 안하고있음 2k2
;var(54)=(가드포즈결정바)
;var(55)=AI
;var(56)= Dizzy
;var(57)=2k2모드게이지좌우구분?
;var(58~59)=점프..

[Data]
life = 1000
;power = 5000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 30
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 16
ground.front = 15
air.back = 12
air.front = 11
height = 48
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -96
mid.pos = 16, -56
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 2.48
walk.back = -2.48
run.fwd  = 5.86, 0
run.back = 0,0
jump.neu = 0,-9.2
jump.back = -2.52
jump.fwd = 2.52
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = 2.5

[Movement]
airjump.num = 0      
airjump.height = 35
yaccel = .55
stand.friction = .842 	;.6
crouch.friction = .842	;.1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS 깒긹깑: 딈?
[Statedef 180]
type = S
velset = 0

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,100

[State 180, 2]
type = ChangeState
trigger1 = command = "hold_x"
value = 181

[State 180, 3]
type = ChangeState
trigger1 = command = "hold_a"
value = 182

[State 180, 4]
type = ChangeState
trigger1 = command = "hold_y"
value = 181

[State 180, 4]
type = ChangeState
trigger1 = command = "hold_b"
value = 182

[State 180, 5]
type = ChangeState
trigger1 = Var(1) = [0,50]
value = 181

[State 180, 6]
type = ChangeState
trigger1 = Var(1) = [51,100]
value = 182

;---------------------------------------------------------------------------
; Win pose 1 - Bow
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0
sprpriority = 3

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 11
value = 181,1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 2 - Bow
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 182,1

[State 182, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction 시작 포즈
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

;VS 이카리팀
[State 191, 1]
type = ChangeState
triggerall = Time = 0
trigger1 =  P2Name = "CLARK" || P4Name = "CLARK"
trigger2 =  P2Name = "CLARK 2K2" || P4Name = "CLARK 2K2"
trigger3 =  P2Name = "Clark Steel" || P4Name = "Clark Steel"
trigger4 =  P2Name = "Leona" || P4Name = "Leona"
trigger5 =  P2Name = "Leona Heidern" || P4Name = "Leona Heidern"
trigger6 =  P2Name = "Whip" || P4Name = "Whip"
trigger7 =  P2Name = "Orochi Heidern" || P4Name = "Orochi Heidern"
trigger8 =  P2Name = "Heidern" || P4Name = "Heidern"
value = 193

;[State 191, 2]
;type = ChangeState
;trigger1 = Time = 0
;trigger1 = random < 400
;value = 192

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 191,1

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;시작포즈2 03식
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 191,1

[State 192, 2]
type = PlaySnd
trigger1 = AnimElem = 6,=1
value = 192,2

[State 192, GrabSpark]
type = Explod
trigger1 = AnimElem = 6,=1
id = 1596
anim = 1596
pos = 44,0
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 23

[State 192, GrabSpark]
type = Explod
trigger1 = AnimElem = 6,=1
id = 1597
anim = 1597
pos = 44,0
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 23

[State 192, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Intro vs. 이카리팀
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 193, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;라운드2시작(원레는 99식 랄프이벤트)
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0
sprpriority = 2

[State 196, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,100]
flag = Intro

;[State 196, 0]
;type = PlaySnd
;trigger1 = AnimElem = 28
;value = 194,1

[State 196, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 0]
type = PlaySnd
trigger1 = time = 1
value = 195,1

[State 195, 1]
type = CtrlSet
trigger1 = Time = 33
value = 1

[State 195, 4]
type = lifeadd
trigger1 = command = "die"
value = -999
kill = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 원거리 약펀치
[Statedef 200]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
facep2 = 1

[State 200, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 205

[State 200, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 200, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
persistent = 0
attr = S, NA
damage = 40
animtype = Light
guardflag = M
getpower = 61,61
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 0,0
hitsound = 5,0
guardsound = 6,0
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> 13 && P2Dist x< 62),var(28),ifelse(P2Dist x<= 13,13,62))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-84,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -81),var(26),ifelse(var(26)<= -96,-96-(pos y),-81-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -81),var(25),ifelse(var(25)<= -96,-96,-81))
ignorehitpause = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 근접 약펀치
[Statedef 205]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 205
poweradd = 0
facep2 = 1

[State 200, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 205, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 205, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
persistent = 0
attr = S, NA
damage = 40
animtype = Light
guardflag = M
getpower = 61,61
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 0,0
hitsound = 5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = High                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 12,12,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-84,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -81),var(26),ifelse(var(26)<= -96,-96-(pos y),-81-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -81),var(25),ifelse(var(25)<= -96,-96,-81))
ignorehitpause = 1

[State 205, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 205, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 205, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 강펀치
[Statedef 210]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 210
facep2 = 1

[State 210, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 215

[State 210, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 210, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 5
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 100
guardflag = M
getpower = 106,106
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 68 && P2Dist x< 123),var(28),ifelse(P2Dist x<= 68,68,123))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-80,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -77),var(26),ifelse(var(26)<= -100,-100-(pos y),-77-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -77),var(25),ifelse(var(25)<= -100,-100,-77))
ignorehitpause = 1

[State 210, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;근접 강펀치
[Statedef 215]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 215
facep2 = 1

[State 215, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 215, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 215, 0]
type = varrandom
trigger1 = time = 0 || movehit = 1
v = 40
range = 2

[State 215, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 90
guardflag = M
getpower = 106,106
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 24 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 24,24,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -61),var(26),ifelse(var(26)<= -100,-100-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -61),var(25),ifelse(var(25)<= -100,-100,-61))
ignorehitpause = 1

[State 215, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 원거리 약킥
[Statedef 230]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 230
facep2 = 1

[State 230, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 235

[State 230, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 230, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 230, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 3, >= 0 && AnimElem = 4, <= 4
persistent = 0
attr = S, NA
animtype  = Light
damage    = 40
guardflag = M
getpower = 61,61
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 0,0
hitsound = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> -16 && P2Dist x< 63),var(28),ifelse(P2Dist x<= -16,-16,63))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -61),var(26),ifelse(var(26)<= -92,-92-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -61),var(25),ifelse(var(25)<= -92,-92,-61))
ignorehitpause = 1

[State 230, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 근접 약킥
[Statedef 235]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 235
facep2 = 1

[State 235, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 235, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 235, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 2, >= 0 && AnimElem = 3, <= 4
persistent = 0
attr = S, NA
animtype  = Light
damage    = 40
guardflag = M
getpower = 61,61
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 0,0
hitsound = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = High                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> -7 && P2Dist x< 24),var(28),ifelse(P2Dist x<= -7,-7,24))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-58,(-82-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -84 && var(26) < -45),var(26),ifelse(var(26)<= -84,-84-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -84 && var(25) < -45),var(25),ifelse(var(25)<= -84,-84,-45))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> -8 && P2Dist x< 31),var(28),ifelse(P2Dist x<= -8,-8,31))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-58,(-82-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -84 && var(26) < -37),var(26),ifelse(var(26)<= -84,-84-(pos y),-37-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -84 && var(25) < -37),var(25),ifelse(var(25)<= -84,-84,-37))
ignorehitpause = 1

[State 235, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 235, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 원거리 강킥
[Statedef 240]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 240
facep2 = 1

[State 240, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 245

[State 240, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 240, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 240, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 240, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 5, >= 0 && AnimElem = 6, <= 5
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 100
guardflag = M
getpower = 106,106
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,3
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = high
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 107),var(28),ifelse(P2Dist x<= 36,36,107))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-62,(-82-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -84 && var(26) < -53),var(26),ifelse(var(26)<= -84,-84-(pos y),-53-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -84 && var(25) < -53),var(25),ifelse(var(25)<= -84,-84,-53))
ignorehitpause = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 근접 강킥
[Statedef 245]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd= 0
ctrl = 0
anim = 245
facep2 = 1

[State 245, posadd]
type = posadd
trigger1 = AnimElem = 6 || AnimElem = 7
x = 4

[State 245, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 245, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 245, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 245, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 4
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 100
guardflag = M
getpower = 106,106
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 20 && P2Dist x< 83),var(28),ifelse(P2Dist x<= 20,20,83))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-65,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -59),var(26),ifelse(var(26)<= -100,-100-(pos y),-59-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -59),var(25),ifelse(var(25)<= -100,-100,-59))
ignorehitpause = 1

[State 245, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;CD 날리기 공격
[Statedef 250]
type=S
movetype=A
physics=S
velset = 0,0
poweradd=0
ctrl=0
anim=250
facep2 = 1
juggle = 1

[State 250, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 250, posadd]
type = posadd
trigger1 = AnimElem = 2 || AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
trigger2 = AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10 || AnimElem = 11
x = 8

[State 250, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 250, 0]
type=PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value=250,1

[State 250, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 5, >= 0 && AnimElem = 6, <= 4
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 120
guardflag = M
getpower = 137,137
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound   = 5,4
guardsound = 6,0
ground.type = High
fall = 1
ground.slidetime = 22
ground.hittime  = var(35)+4
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = (ifelse(var(41)=0,fvar(5)*fvar(15),ifelse(var(41)=1,fvar(6)*fvar(15),fvar(6)*fvar(15))))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 99),var(28),ifelse(P2Dist x<= 36,36,99))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -61),var(26),ifelse(var(26)<= -92,-92-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -61),var(25),ifelse(var(25)<= -92,-92,-61))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 87),var(28),ifelse(P2Dist x<= 40,40,87))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ];앉았을땐 예측
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-54,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -49),var(26),ifelse(var(26)<= -80,-80-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -49),var(25),ifelse(var(25)<= -80,-80,-49))
ignorehitpause = 1

[State 250, 0]
type = varset
trigger1 = movehit
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 250, 4]
type=ChangeState
trigger1=AnimTime = 0
value=0
ctrl=1

;---------------------------------------------------------------------------
;가드켄슬 CD 날리기 공격
[Statedef 260]
type=S
movetype=A
physics=S
velset = 0,0
poweradd=0
ctrl=0
anim=260
facep2 = 1
juggle = 1

[State 260, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 260, posadd]
type = posadd
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10
trigger2 = AnimElem = 11 || AnimElem = 12
x = 8

[State 260,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 12

[State 260,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 12

[State 260, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 260, 0]
type=PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value=250,1

[State 260, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 39
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound   = 5,4
guardsound = 6,0
ground.type = High
fall = 1
ground.slidetime = 22
ground.hittime  = var(35)+4
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = (ifelse(var(41)=0,fvar(5)*fvar(15),ifelse(var(41)=1,fvar(6)*fvar(15),fvar(6)*fvar(15))))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
kill = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 99),var(28),ifelse(P2Dist x<= 36,36,99))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -61),var(26),ifelse(var(26)<= -92,-92-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -61),var(25),ifelse(var(25)<= -92,-92,-61))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 87),var(28),ifelse(P2Dist x<= 40,40,87))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ];앉았을땐 예측
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-54,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -49),var(26),ifelse(var(26)<= -80,-80-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -49),var(25),ifelse(var(25)<= -80,-80,-49))
ignorehitpause = 1

;[State 260, 0]
;type = varset
;trigger1 = movehit
;var(13) = 1
;ignorehitpause = 1
;persistent = 0

[State 260, 4]
type=ChangeState
trigger1=AnimTime = 0
value=0
ctrl=1

;---------------------------------------------------------------------------
;앉아 약펀치
[Statedef 400]
type    = C
movetype= A
physics = C
velset = 0,0
poweradd= 0
ctrl = 0
anim = 400
facep2 = 1

[State 400, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 400, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 400, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 400, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
persistent = 0
attr = C, NA
damage = 59
animtype  = Light
guardflag = M
getpower = 61,61
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 0,0
hitsound = 5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 55),var(28),ifelse(P2Dist x<= 8,8,55))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-56,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -64 && var(26) < -41),var(26),ifelse(var(26)<= -64,-64-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -64 && var(25) < -41),var(25),ifelse(var(25)<= -64,-64,-41))
ignorehitpause = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;앉아 강펀치
[Statedef 410]
type    = C
movetype= A
physics = C
velset = 0,0
poweradd= 0
ctrl = 0
anim = 410
facep2 = 1

[State 410, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 410, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 410, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 410, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 5
persistent = 0
attr = C, NA
damage    = 90
animtype  = Hard
guardflag = M
getpower = 106,106
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low   
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 24 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 24,24,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -60 && var(26) < -37),var(26),ifelse(var(26)<= -60,-60-(pos y),-37-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -60 && var(25) < -37),var(25),ifelse(var(25)<= -60,-60,-37))
ignorehitpause = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;앉아 약킥
[Statedef 430]
type    = C
movetype= A
physics = C
velset = 0,0
poweradd= 0
ctrl = 0
anim = 430
facep2 = 1

[State 430, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 430, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 430, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 4
persistent = 0
attr = C, NA
damage    = 49
animtype  = Light
guardflag = L
getpower = 61,61
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 0,0
hitsound = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> 13 && P2Dist x< 58),var(28),ifelse(P2Dist x<= 13,13,58))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-12,(-12-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -24 && var(26) < -1),var(26),ifelse(var(26)<= -24,-24-(pos y),-1-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -24 && var(25) < -1),var(25),ifelse(var(25)<= -24,-24,-1))
ignorehitpause = 1

[State 430, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 430, 3]
type = ChangeState 
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;앉아 강킥
[Statedef 440]
type    = C
movetype= A
physics = C
velset = 0,0
poweradd= 0
ctrl = 0
anim = 440
facep2 = 1
juggle = 1

[State 440, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 440, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 440, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 440, 3]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
persistent = 0
attr = C, NA
damage    = 100
guardflag = L
getpower = 106,106
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,3
guardsound = 6,0
ground.type = Trip
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(20),fvar(11)
air.velocity = fvar(20),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 75),var(28),ifelse(P2Dist x<= 12,12,75))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-8,(-8-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -16 && var(26) < -1),var(26),ifelse(var(26)<= -16,-16-(pos y),-1-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -16 && var(25) < -1),var(25),ifelse(var(25)<= -16,-16,-1))
ignorehitpause = 1

[State 440, 0]
type = varset
trigger1 = movehit
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;점프 약펀치
[Statedef 600]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 600, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 605

[State 600, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 600

[State 600, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 601

[State 640, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4 && anim = 605
movetype = I

[State 640, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3 && (anim = 600 || anim = 601)
movetype = I

[State 600, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 600, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 600, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, NA
damage = ifelse(anim = 605,50,40)
animtype = Medium
guardflag = H
getpower = 61,61
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 0,0
hitsound = 5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = anim = 605
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 43),var(28),ifelse(P2Dist x<= 12,12,43))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 605
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-76,(-103-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 605
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -104 && var(26) < -73),var(26),ifelse(var(26)<= -104,-104-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 605
trigger1 = 1
fvar(38) = ifelse((var(25) > -104 && var(25) < -73),var(25),ifelse(var(25)<= -104,-104,-73))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = (anim = 600 || anim = 601)
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 52),var(28),ifelse(P2Dist x<= 8,8,52))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = (anim = 600 || anim = 601)
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-69,(-101-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = (anim = 600 || anim = 601)
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -61),var(26),ifelse(var(26)<= -92,-92-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = (anim = 600 || anim = 601)
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -61),var(25),ifelse(var(25)<= -92,-92,-61))
ignorehitpause = 1

;---------------------------------------------------------------------------
;점프 강펀치
[Statedef 610]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 610, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 615

[State 610, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 610

[State 610, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 611

[State 610, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 610, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 610, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 610, 3]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, NA
damage = ifelse(anim = 615,100,90)
guardflag = H
animtype = Medium
getpower = 106,106
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = anim = 615
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 37),var(28),ifelse(P2Dist x<= 4,4,37))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 615
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-71,(-102-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 615
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -41),var(26),ifelse(var(26)<= -80,-80-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 615
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -41),var(25),ifelse(var(25)<= -80,-80,-41))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = (anim = 610 || anim = 611)
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 51),var(28),ifelse(P2Dist x<= 12,12,51))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = (anim = 610 || anim = 611)
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-71,(-102-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = (anim = 610 || anim = 611)
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -62),var(26),ifelse(var(26)<= -96,-96-(pos y),-62-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = (anim = 610 || anim = 611)
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -62),var(25),ifelse(var(25)<= -96,-96,-62))
ignorehitpause = 1

;---------------------------------------------------------------------------
;점프 약킥
[Statedef 630]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 630, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 635

[State 630, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 630

[State 630, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 631

[State 630, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4 && anim = 630
movetype = I

[State 630, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5 && anim = 631
movetype = I

[State 630, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3 && anim = 635
movetype = I

[State 630, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 630, 0]
type = varrandom
trigger1 = time = 0
trigger2 = AnimElem = 3
v = 40
range = 2

[State 630, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, NA
damage = ifelse(anim = 635,50,40)
guardflag = H
animtype = Medium
getpower = 61,61
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 0,0
hitsound = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = (anim = 630 || anim = 631)
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 8,8,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = (anim = 630 || anim = 631)
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-71,(-102-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = (anim = 630 || anim = 631)
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -88 && var(26) < -57),var(26),ifelse(var(26)<= -88,-88-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = (anim = 630 || anim = 631)
trigger1 = 1
fvar(38) = ifelse((var(25) > -88 && var(25) < -57),var(25),ifelse(var(25)<= -88,-88,-57))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = anim = 635
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,0,40))
pos = Ceil(ifelse((P2Dist x> -4 && P2Dist x< 59),var(28),ifelse(P2Dist x<= -4,-4,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 635
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-101-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 635
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -69),var(26),ifelse(var(26)<= -92,-92-(pos y),-69-(pos y))) + var(32))
ignorehitpause = 1
g
[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 635
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -69),var(25),ifelse(var(25)<= -92,-92,-69))
ignorehitpause = 1

;---------------------------------------------------------------------------
;점프 강킥
[Statedef 640]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 640, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 645

[State 640, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 640

[State 640, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 641

[State 640, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7 && anim = 645
movetype = I

[State 640, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5 && (anim = 640 || anim = 641)
movetype = I

[State 640, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 640, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 640, 3]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, NA
damage = ifelse(anim = 645,100,90)
guardflag = H
animtype = Medium
getpower = 106,106
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = (anim = 640 || anim = 641)
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 18 && P2Dist x< 65),var(28),ifelse(P2Dist x<= 18,18,65))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = (anim = 640 || anim = 641)
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-71,(-102-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = (anim = 640 || anim = 641)
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -74 && var(26) < -43),var(26),ifelse(var(26)<= -74,-74-(pos y),-43-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = (anim = 640 || anim = 641)
trigger1 = 1
fvar(38) = ifelse((var(25) > -74 && var(25) < -43),var(25),ifelse(var(25)<= -74,-74,-43))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = anim = 645
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 12,12,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 645
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-101-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 645
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -69),var(26),ifelse(var(26)<= -92,-92-(pos y),-69-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 645
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -69),var(25),ifelse(var(25)<= -92,-92,-69))
ignorehitpause = 1

;---------------------------------------------------------------------------
;점프 CD 날리기공격
[Statedef 650]
type=A
movetype=A
physics=A
poweradd= 0
ctrl=0
juggle = 1

[State 650, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 650

[State 650, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 650

[State 650, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 651

[State 650, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 250, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 210,4

[State 650, 1]
type=PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value=250,1

[State 650, 3]
type=HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr=A, NA
damage = 120
animtype=Hard
guardflag=M
getpower = 137,137
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound= 5,4
guardsound= 6,0
ground.type=High
ground.slidetime = 22
ground.hittime  = var(35)+4
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = (ifelse(var(41)=0,fvar(5)*fvar(15),ifelse(var(41)=1,fvar(6)*fvar(15),fvar(6)*fvar(15))))
fall=1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 22 && P2Dist x< 70),var(28),ifelse(P2Dist x<= 22,22,70))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-72,(-104-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -72 && var(26) < -49),var(26),ifelse(var(26)<= -72,-72-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -72 && var(25) < -49),var(25),ifelse(var(25)<= -72,-72,-49))
ignorehitpause = 1

[State 650, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
;스텀핑(Stomping)
[Statedef 750]
type=S
movetype=A
physics=S
poweradd = 0
ctrl=0
velset = 0,0
anim=750
facep2 = 1

[State 750, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 210,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 750, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 750, 2]
type = HitDef
trigger1 = !Time && (var(13) = 0 || var(37) = 1)
attr = S, NA
animtype  = Hard
damage = 123
guardflag = M
getpower = 91,91
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = s5,424
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,1,41))
pos = Ceil(ifelse((P2Dist x> 24 && P2Dist x< 87),var(28),ifelse(P2Dist x<= 24,24,87))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -60 && var(26) < -29),var(26),ifelse(var(26)<= -60,-60-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -60 && var(25) < -29),var(25),ifelse(var(25)<= -60,-60,-29))
ignorehitpause = 1

[State 750, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;C잡기
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
poweradd= 0
anim = 800
ctrl = 0
facep2 = 1

[State 800, 1]
type = HitDef
trigger1 = var(4)<=0
trigger1 = time = 0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 37,0,0,1
p2stateno = 820

[State 800, 2]
type = ChangeState
trigger1 = movehit = 1
trigger1 = AnimTime = 0
value = 810

[State 800, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 215
ctrl = 1

;-------------------------------------------------------------------------------
; C잡기 성공
[Statedef 810]
type = S
movetype = A
physics = S
anim = 810
velset = 0,0
poweradd = 0
sprpriority = 3

[State 810,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 7, <= 26
edge = 57,0

[State 810, 2]
type = PlaySnd
trigger1 = time = 1
value = 810,2

[State 810, 2]
type = PlaySnd
trigger1 = animelem = 7
value = 810,1

[State 810, 2]
type = PlaySnd
trigger1 = animelem = 7,=1
value = f5,4

[State 810, 4]
type = EnvShake
trigger1 = animelem = 7
persistent = 0
time = 14
ampl = -6
freq = 255
phase = 10
ignorehitpause = 1

[State 810, GrabSpark]
type = Explod
trigger1 = AnimElem = 7
id = 6002
anim = f1
pos = 36,-90
sprpriority = 7
ownpal = 1
facing = 1

[State 810, 4]
type = targetlifeadd
trigger1 = animelem = 7
value = -120
kill = 1

[State 810, GrabSpark]
type = Explod
trigger1 = AnimElem = 1
id = 890
anim = f20
pos = 30,-96
sprpriority = 2
ownpal = 1
removeongethit = 1

[State 810, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 24+target,Const(size.head.pos.x),0+ifelse(target,Const(size.head.pos.y) >= -80,-94,0)

[State 810, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 22+target,Const(size.head.pos.x),0+ifelse(target,Const(size.head.pos.y) >= -80,-94,0)

[State 810, 4]
type = TargetBind
trigger1 = animelem = 7
pos = 24+target,Const(size.head.pos.x),0

[State 810, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 810, Cancel Var]
type = varset
Triggerall = Time = [0,12]
trigger1 = target, command = "x"
trigger2 = target, command = "y"
trigger3 = target, command = "z"
var(12) = 1

[State 810, Cancel]
type = changestate
Trigger1 = Time = [7,18]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 811

[State 810, Cancel]
type = targetstate
Trigger1 = Time = [7,18]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 812

[State 810, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; C잡기 맞는
[Statedef 820]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1
facep2 = 1

[State 820,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 820+ifelse(Const(size.head.pos.y) >= -80,1,0)

[State 810, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 825

;---------------------------------------------------------------------------
; C잡기 맞는2
[Statedef 825]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 1

[State 825, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 825, Vel]
type = Velset
trigger1 = Time = 0
x = -4.94
y = -7.76

[State 825, Vel]
type = Veladd
trigger1 = Time >= 0
y = 0.54

[State 825, 0]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 825, 0]
type = SelfState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 5100

;--------------------------------------------------------------
;C잡기 실패
[Statedef 811]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 811
ctrl = 0

[State 811,2]
type = PlayerPush
trigger1 = 1
value = 0

[State 811, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = 250,2

[State 811, 0]
type = Envcolor
trigger1 = Time = 9
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 1
under = 1
supermove = 1

;[State 811, 0]
;type = NotHitBy
;trigger1 = 1
;value = SCA

;[State 811]
;type = VelSet
;trigger1 = AnimElem = 2
;x = -8.6

;[State 811]
;type = VelSet
;trigger1 = AnimElem = 2,=17
;x = 0

[State 811]
type = posadd
trigger1 = time = 9
x = -12

[State 811]
type = posadd
trigger1 = time = 10
x = -9

[State 811]
type = posadd
trigger1 = time = 11
x = -7

[State 811]
type = posadd
trigger1 = time = 12
x = -5

[State 811]
type = posadd
trigger1 = time = 13
x = -4

[State 811]
type = posadd
trigger1 = time = 14
x = -3

[State 811]
type = posadd
trigger1 = time = [15,16]
x = -2

[State 811]
type = posadd
trigger1 = time = [17,18]
trigger2 = time = 20
trigger3 = time = 22
x = -1

[State 811, Cancel]
type = targetstate
Trigger1 = time = 0
value = 812

[State 811, MD]
type = makedust
Trigger1 = 1
pos = 0,0
spacing = 3

[State 811, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(12) = 0

[State 811, END]
type = changestate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
;P2 잡기풀기
[Statedef 812]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0

[State 812, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 812, 0]
type = NotHitBy
trigger1 = 1
value = SCA

;[State 812]
;type = VelSet
;trigger1 = time = 0
;x = -8.6

;[State 812]
;type = VelSet
;trigger1 = time = 10
;x = 0

[State 812]
type = VelSet
trigger1 = time = 0
x = -12

[State 812]
type = VelSet
trigger1 = time = 1
x = -9

[State 812]
type = VelSet
trigger1 = time = 2
x = -7

[State 812]
type = VelSet
trigger1 = time = 3
x = -5

[State 812]
type = VelSet
trigger1 = time = 4
x = -4

[State 812]
type = VelSet
trigger1 = time = 5
x = -3

[State 812]
type = VelSet
trigger1 = time = [6,7]
x = -2

[State 812]
type = VelSet
trigger1 = time = [8,9]
trigger2 = time = 11
trigger3 = time = 13
x = -1

[State 812, ANIM1]
type = changeanim
trigger1 = selfanimexist(812)
Trigger1 = time = 0
value = 812

[State 812, ANIM2]
type = changeanim
trigger1 = !selfanimexist(812)
trigger1 = selfanimexist(200)
Trigger1 = Time = 0
value = 200

[State 812, ANIM3]
type = changeanim
trigger1 = !selfanimexist(812)
trigger1 = !selfanimexist(200)
Trigger1 = Time = 0
value = 5000

[State 812, END]
type = selfstate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;D잡기
[Statedef 850]
type = S
movetype = A
physics = S
poweradd= 0
velset = 0,0
anim = 800
ctrl = 0
facep2 = 1

[State 850, 1]
type = HitDef
trigger1 = var(4)<=0
trigger1 = time = 0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 37,0,0,1
p2stateno = 870

[State 850, 2]
type = ChangeState
trigger1 = movehit = 1
trigger1 = AnimTime = 0
value = 860

[State 850, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 245
ctrl = 1

;-------------------------------------------------------------------------------
; D잡기 성공
[Statedef 860]
type = S
movetype = A
physics = S
velset = 0,0
anim = 860
poweradd = 0
sprpriority = 5

[State 860,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 860, Width]
type = width
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 6
edge = 0,41

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 2
id = 890
anim = f20
pos = 32,-56
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 860, GrabSpark]
type = Explod
trigger1 = AnimElem = 19
id = 1595
anim = f62
pos = -20,0
sprpriority = 0
ownpal = 1

[State 1612, Shake]
type = EnvShake
trigger1 = AnimElem = 19
time = 10
ampl = -6

[State 860, 4]
type = targetlifeadd
trigger1 = animelem = 19
value = -120
kill = 1

[State 860, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 810,2

[State 860, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 860,1

[State 810, 2]
type = PlaySnd
trigger1 = AnimElem = 16
value = 1010,4

[State 810, 2]
type = PlaySnd
trigger1 = AnimElem = 19
value = 1020,5

[State 860, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 20,0

[State 860, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 18,0

[State 860, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 12,-80

[State 860, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 2,-78

[State 860, 4]
type = TargetBind
trigger1 = animelem = 6
pos = -2,-88

[State 860, 4]
type = TargetBind
trigger1 = animelem = 7
pos = 0,-110

[State 860, 4]
type = TargetBind
trigger1 = animelem = 8
pos = -4,-118

[State 860, 4]
type = TargetBind
trigger1 = animelem = 10
pos = -4,-122

[State 860, 4]
type = TargetBind
trigger1 = animelem = 11
pos = -4,-118

[State 860, 4]
type = TargetBind
trigger1 = animelem = 12
pos = -4,-114

[State 860, 4]
type = TargetBind
trigger1 = animelem = 13
pos = -4,-110

[State 860, 4]
type = TargetBind
trigger1 = animelem = 14
pos = -4,-106

[State 860, 4]
type = TargetBind
trigger1 = animelem = 15
pos = -4,-102

[State 860, 4]
type = TargetBind
trigger1 = animelem = 16
pos = -4,-86

[State 860, 4]
type = TargetBind
trigger1 = animelem = 17
pos = -4,-34

[State 860, 4]
type = TargetBind
trigger1 = animelem = 18
pos = -32,0

[State 860, 2]
type = turn
trigger1 = AnimElem = 23

[State 860, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 860, Cancel Var]
type = varset
Triggerall = Time = [0,13]
trigger1 = target, command = "a"
trigger2 = target, command = "b"
trigger3 = target, command = "c"
var(12) = 1

[State 860, Cancel]
type = changestate
Trigger1 = Time = [7,19]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 811

[State 860, Cancel]
type = targetstate
Trigger1 = Time = [7,19]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 812

[State 860, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(12) = 0

[State 1860, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; D잡기 맞는1
[Statedef 870]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 3
facep2 = 1

[State 870,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

;[State 870, 4]
;type = turn
;trigger1 = animelem = 2

[State 870, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 870

[State 1545, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 871

;--------------------------------------------------------------
; D잡기 맞는2
[Statedef 871]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0

[State 871, 1]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimexist(5104)
value = 5965

[State 871, 1]
type = ChangeAnim
trigger1 = time = 3 && anim = 5965
value = 5966

[State 871, 1]
type = ChangeAnim2
trigger1 = time = 0 && !SelfAnimexist(5104)
value = 871

[State 871, 1]
type = ChangeState
trigger1 = time = 9
value = 875

;---------------------------------------------------------------------------
; D잡기 맞는3
[Statedef 875]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 3

[State 875,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 875]
type = VelSet
trigger1 = time = 0
x = 4.2
y = -6.6

[State 875, 1]
type = ChangeAnim2
trigger1 = !selfanimexist(5164)
trigger1 = time = 0
value = 875

[State 875, 1]
type = ChangeAnim
trigger1 = selfanimexist(5164)
trigger1 = time = 0
value = 5164

[State 875,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 875, 1]
type = VelAdd
trigger1 = 1
y = .523

[State 875, ANIM2]
type = SelfState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------
; 앞구르기
[Statedef 900]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 900
facep2 = 1

[State 900, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 900,0]
type = NotHitBy
trigger1 = Time = 0
time = 24
value = SCA

[State 900,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 24

[State 900, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 900,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 900,3]
type = posadd
trigger1 = time = [8,25]
x = 5

;[State 900,9]
;type = AfterImage
;trigger1 = Time = 0
;time = 12
;length = 15
;palbright = 40,40,40
;palcontrast = 250,250,250
;palpostbright = -80,-80,-80
;timegap = 1
;flamegap = 1
;trans = add1

[State 900, 3]
type = Afterimage
trigger1 = Time = 0
time = 13
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 900, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=12
time = 2

[State 900,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 달리면서 구르기
[Statedef 910]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 900
facep2 = 1

[State 910, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 910,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 24

[State 910,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 24

[State 910, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 910,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 910,3]
type = posadd
trigger1 = time = [8,25]
x = 7

;[State 910,9]
;type = AfterImage
;trigger1 = Time = 0
;time = 12
;length = 15
;palbright = 40,40,40
;palcontrast = 250,250,250
;palpostbright = -80,-80,-80
;timegap = 1
;flamegap = 1
;trans = add1

[State 910, 3]
type = Afterimage
trigger1 = Time = 0
time = 13
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 910, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=12
time = 2

[State 910,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 가드캔슬 구르기
[Statedef 920]
type = S
movetype = I
physics = S
ctrl = 0
anim = 920
velset = 0,0
;poweradd=-1000
facep2 = 1

[State 920, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 920,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA

;[State 920,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT

[State 920, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 920,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 920,3]
type = posadd
trigger1 = time = [12,29]
x = 5

[State 92AfterImage]
type = AfterImage
trigger1 = time = 0
time = 32
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 920, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=31
time = 2

[State 920,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 캔슬 구르기
[Statedef 930]
type = S
movetype = I
physics = S
ctrl = 0
anim = 930
velset = 0,0
;poweradd=-1000
facep2 = 1

[State 930, 0]
type = varadd
trigger1 = time = 0 && var(3) > 0
trigger1 = time = 0
var(2) = -1000

[State 930, 5]
type = Projectile
trigger1 = time = 0
projanim = 940
offset = 0, -83
velocity = 0,0
projremovetime = 11
supermovetime = 9999

[State 930, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 930,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 28

[State 930,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 28

[State 930,PosFreeze]
type = PosFreeze
trigger1 = Time >= 1 && Time <= 11

[State 930, 0]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3001, 1]
type = SuperPause
trigger1 = Time = 0
time = 10
movetime = 10
darken = 0
anim = -1

[State 930, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 930,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

;[State 930,3]
;type = VelSet
;trigger1 = time = 12
;x = 5.2

;[State 930,4]
;type = VelSet
;trigger1 = time = 29
;x = 0

[State 930,3]
type = posadd
trigger1 = time = 12 || time = 17 || time = 22 || time = 27
x = 6

[State 930,3]
type = posadd
trigger1 = time = 13 || time = 14 || time = 15 || time = 16 || time = 18 || time = 19 || time = 20 || time = 21
trigger2 = time = 23 || time = 24 || time = 25 || time = 26 || time = 28
x = 5

[State 930,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 뒤구르기
[Statedef 950]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 950
facep2 = 1

[State 950, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 950,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 24

[State 950,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 24

[State 950, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 950,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 950,3]
type = posadd
trigger1 = time = [8,25]
x = -5

;[State 950,9]
;type = AfterImage
;trigger1 = Time = 0
;time = 12
;length = 15
;palbright = 40,40,40
;palcontrast = 250,250,250
;palpostbright = -80,-80,-80
;timegap = 1
;flamegap = 1
;trans = add1

[State 950, 3]
type = Afterimage
trigger1 = Time = 0
time = 13
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 950, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=12
time = 2

[State 950,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 가드캔슬 뒤구르기
[Statedef 960]
type = S
movetype = I
physics = S
ctrl = 0
anim = 960
velset = 0,0
;poweradd=-1000
facep2 = 1

[State 960, 0]
type = varadd
trigger1 = time = 0 && var(3) > 0
var(2) = -1000

[State 960, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 960,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA

;[State 960,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT

[State 960, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 960,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 960,3]
type = posadd
trigger1 = time = [12,29]
x = -5

[State 960,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 32
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 920, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=31
time = 2

[State 960,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 약
[Statedef 1000]
type    = S
movetype= I
physics = S
poweradd = 76
ctrl = 0
anim = 1000
velset = 0,0
facep2 = 1

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(20) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(20) = 1

[State 1000, 2]
type = PlaySnd
trigger1 = time = 1
value = 1000,1

[State 1000, movetype]
type = StateTypeSet
trigger1 = AnimElem = 1,=0
movetype = A

[State 1000, movetype]
type = StateTypeSet
trigger1 = AnimElem = 1,=1
movetype = I

[State 1000 , 1]
type = HitDef
triggerall = var(5)<=0
trigger1= P2Dist x <= 68 && AnimElem = 1	;68에 안잡혔다
trigger1= AnimElem = 1,<=0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
trigger1 = P2StateNo != 50 && 52
trigger1 = p2statetype != A
numhits = 0
attr = S, ST
getpower = 16,16
;hitflag = M
guard.dist = 0
priority = 4, Miss
hitsound   = s1000,2222
sparkno = -1
p2facing = 1
p1stateno = 1010
p2stateno = 1015
p2getp1state = 1
Palfx.time = 1

[State 1000, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 성공1
[Statedef 1010]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1010
facep2 = 0
SprPriority = 1

[State 1010, Width]
type = width
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 5
edge = 49,0

[State 1010, Width]
type = width
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 17
edge = 0,16

[State 1010, 2]
type = PlaySnd
trigger1 = time = 1
value = 1010,1

[State 1010, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1010,2

[State 1010, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1010,4

[State 1010,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1010, GrabSpark]
type = Explod
trigger1 = AnimElem = 2
id = 1580
anim = f21
pos = 62,-86
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 32,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 40,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 20,0;20,0

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 32,-92;32,-100

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 16,-112

[State 1010, 4]
type = TargetBind
trigger1 = animelem = 6
pos = -8,-165

[State 1010, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1020

;--------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 잡힌 상테1
[Statedef 1015]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0

[State 1015, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1015

[State 1015, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1050

;--------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 잡힌 상테2
[Statedef 1050]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1050]
type = turn
trigger1 = time = 0

[State 1050,ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0 && !SelfAnimexist(5979)
value = 1050

[State 1050,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimexist(5979)
value = 5979

[State 1050,VelSet]
type = VelSet
trigger1 = Time = 1
x = 0
y = -16.1		;-13.8

[State 1050,VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .6		;.523

[State 1050, 4]
type = null ;lifeadd
trigger1 = Pos Y >= -14 && Vel Y > 0	;Pos Y >= -16 && Vel Y > 0
value = -80
kill = 1

[State 1050,SelfState]
type = ChangeState
trigger1 = Pos Y >= -14 && Vel Y > 0	;Pos Y >= -16 && Vel Y > 0
value = 1060

;--------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 잡힌 상테3
[Statedef 1060]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1060, 10]
type = PlaySnd
trigger1 = Time = 0
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1060, 13]
type = PlaySnd
triggerall = alive
trigger1 = Time = 0
value = 11,2
channel = 3

[State 1060, Shake]
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = -6

[State 1060,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1060, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1060,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100+ifelse(SelfAnimexist(5104),4,0)

[State 1040,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1065

;--------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 잡힌 상테4
[Statedef 1065]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1065,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1060,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5160+ifelse(SelfAnimexist(5164),4,0)

[State 1060,VelSet]
type = VelSet
trigger1 = Time = 0 && P2stateno != 3492
x = 1
y = -7.4

[State 1060,VelSet]
type = VelSet
trigger1 = Time = 0 && P2stateno = 3492
x = 1
y = -4.8

[State 1050,VelAdd]
type = VelAdd
trigger1 = 1
y = .6

[State 1050,SelfState]
type = SelfState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 성공2
[Statedef 1020]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1020
facep2 = 0
SprPriority = 1

[State 1020, Width]
type = width
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 5
edge = 73,0

[State 1020, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1020,2

[State 1020, 2]
type = PlaySnd
trigger1 = AnimElem = 1,=1
trigger2 = AnimElem = 5,=1
value = 1020,5

[State 1020, 2]
type = PlaySnd
trigger1 = AnimElem = 4;3
value = 1020,1

[State 1020, GrabSpark]
type = Explod
trigger1 = AnimElem = 1
id = 6002
anim = f2
pos = 4,-88
sprpriority = 7
ownpal = 1
facing = 1

[State 1020, GrabSpark]
type = Explod
trigger1 = AnimElem = 1
id = 1595
anim = f60
pos = 4,0
sprpriority = 2
ownpal = 1

[State 1020, GrabSpark]
type = Explod
trigger1 = AnimElem = 5,=1
id = 1596
anim = f61
pos = 92,4
sprpriority = 3
ownpal = 1
removeongethit = 1


[State 1020, GrabSpark]
type = Explod
trigger1 = AnimElem = 5,=1
id = 1597
anim = f62
pos = 92,4
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 23

[State 1020, 4]
type = targetlifeadd
trigger1 = AnimElem = 1
value = ifelse(var(20)=1,-35,-70)
kill = 0

[State 1020, 4]
type = targetlifeadd
trigger1 = AnimElem = 5,=1
value = ifelse(var(20)=1,-35,-70)
kill = 1

[State 1020,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1020,0]
type = turn
trigger1 = time = 0

[State 1020, 4]
type = targetstate
trigger1 = TIME = 0
value = 1025

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 1
pos = -7+ifelse(target,Name = "CHRIS",-24,0),-68

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 2
pos = -7+ifelse(target,Name = "CHRIS",-24,0),-88;-7,-96	원레 기본 쿄수치

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 8,-64

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 24,-80

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 5
pos = 78,-8

[State 1020, 4]
type = TargetBind
trigger1 = animelem = 5,=1
pos = 92,0

[State 1020, 4]
type = targetstate
trigger1 = animelem = 5,=1
value = 1030

[State 1020, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 잡힌 상테22
[Statedef 1025]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 3

[State 1025, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1025

[State 1025, 1]
type = ChangeAnim
trigger1 = AnimTime = 0 && anim = 1025
value = 5100+ifelse(SelfAnimexist(5966),866,0)

;--------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 잡힌 상테22-1
[Statedef 1030]
type = S
movetype = H
physics = N
velset = 0, 0

[State 1030, 10]
type = PlaySnd
trigger1 = Time = 0
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1030, 13]
type = PlaySnd
triggerall = alive
trigger1 = Time = 0
value = 11,2
channel = 3

[State 1030, Shake]
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = -6

[State 1030,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1030, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1030,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100+ifelse(SelfAnimexist(5104),4,0)

[State 1030,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1035

;--------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 잡힌 상테22-2
[Statedef 1035]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1035,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1035,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5160+ifelse(SelfAnimexist(5164),4,0)

[State 1035,VelSet]
type = VelSet
trigger1 = Time = 0
x = -2.2
y = -4.38

[State 1035,VelAdd]
type = VelAdd
trigger1 = 1
y = .6

[State 1035,SelfState]
type = SelfState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
;슈퍼 아르젠틴 백 브레이커(Super Argentine Back breaker) 강
[Statedef 1080]
type    = S
movetype= I
physics = S
poweradd = 76
ctrl = 0
anim = 1080
velset = 0,0
facep2 = 1

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(20) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(20) = 1

[State 1080, 2]
type = PlaySnd
trigger1 = time = 1
value = 1000,1

[State 1080,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 11

[State 1080, 2]
type = ReversalDef
trigger1 = p2Movetype != H
trigger1 = AnimElem = 1, <= 11
reversal.attr = SCA, NAP, SAP, HAP
numhits = 0
pausetime = 7,10
sparkno = s6005+ifelse(var(54) = 2,1,0)+ifelse(var(54) = 3,2,0)
;sparkxy = 20,-70
hitsound = 6,0

[State 1080, movetype]
type = StateTypeSet
trigger1 = AnimElem = 2,=0
movetype = A

[State 1080, movetype]
type = StateTypeSet
trigger1 = AnimElem = 2,=2
movetype = I

[State 1080 , 1]
type = HitDef
triggerall = var(5)<=0
trigger1= P2Dist x <= 68 && AnimElem = 2	;68에 안잡혔다
trigger1= AnimElem = 2,>=0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
trigger1 = P2StateNo != 50 && 52
trigger1 = p2statetype != A
numhits = 0
attr = S, ST
getpower = 16,16
;hitflag = M
guard.dist = 0
priority = 4, Miss
hitsound   = s1000,2222
sparkno = -1
p2facing = 1
p1stateno = 1010
p2stateno = 1015
p2getp1state = 1
Palfx.time = 1

[State 1080, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;개틀링 어택 약
[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd = 91
ctrl = 0
anim = 1100
velset = 0,0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1100, 1]
type = posadd
trigger1 = time = [0,1]
trigger2 = time = 16
x = 6

[State 1100, 1]
type = posadd
trigger1 = time = [2,3]
trigger2 = time = 17
trigger3 = time = 29
x = 4

[State 1100, 1]
type = posadd
trigger1 = time = [4,5]
trigger2 = time = [18,19]
trigger3 = time = 30
x = 3

[State 1100, 1]
type = posadd
trigger1 = time = [6,7]
trigger2 = time = 9
trigger3 = time = [20,22]
trigger4 = time = [31,33]
x = 2

[State 1100, 1]
type = posadd
trigger1 = time = 8
trigger2 = time = 10
trigger3 = time = [12,13]
trigger4 = time = [23,27]
trigger5 = time = [34,37]
trigger6 = time = 39
trigger7 = time = 41
x = 1

[State 1100, 1]
type = posadd
trigger1 = AnimElem = 16 || AnimElem = 17 || AnimElem = 18
x = 8

[State 1100, movetype]
type = StateTypeSet
trigger1 = AnimElem = 14
movetype = I

[State 1100, 1]
type = PlaySnd
trigger1 = AnimElem = 2 || AnimElem = 6 || AnimElem = 11
value = 1100,4

[State 1100, 1]
type = PlaySnd
trigger1 = time = 1
value = 1100,1

[State 1100, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = 80,10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 46,46
pausetime = var(45)-3,var(46)
guard.pausetime = var(45)-3,var(47)
hitsound = 5,2
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
yaccel = fvar(12)
fall = 0
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> -4 && P2Dist x< 43),var(28),ifelse(P2Dist x<= -4,-4,43))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -69),var(26),ifelse(var(26)<= -100,-100-(pos y),-69-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -69),var(25),ifelse(var(25)<= -100,-100,-69))
ignorehitpause = 1

[State 1100, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 5
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = ifelse(hitcount>=1,20,80),10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 46,46
pausetime = var(45)-3,var(46)
guard.pausetime = var(45)-3,var(47)
hitsound = 5,2
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
yaccel = fvar(12)
fall = 0
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 5
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 63),var(28),ifelse(P2Dist x<= 8,8,63))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 5
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-68,(-76-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 5
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -65),var(26),ifelse(var(26)<= -96,-96-(pos y),-65-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 5
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -65),var(25),ifelse(var(25)<= -96,-96,-65))
ignorehitpause = 1

[State 1100, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = ifelse(hitcount>=1,20,80),10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 46,46
pausetime = var(45)-3,var(46)
guard.pausetime = var(45)-3,var(47)
hitsound = 5,4
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
yaccel = fvar(12)
fall = 1
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 36,36,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-48,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -41),var(26),ifelse(var(26)<= -96,-96-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -41),var(25),ifelse(var(25)<= -96,-96,-41))
ignorehitpause = 1

[State 1100, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;개틀링 어택 강
[Statedef 1150]
type    = S
movetype= A
physics = S
poweradd = 91
ctrl = 0
anim = 1150
velset = 0,0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1150, 1]
type = posadd
trigger1 = time = 0
x = 13

[State 1150, 1]
type = posadd
trigger1 = time = 1
x = 10

[State 1150, 1]
type = posadd
trigger1 = time = 18
x = 9

[State 1150, 1]
type = posadd
trigger1 = time = 2
trigger2 = time = 19
x = 8

[State 1150, 1]
type = posadd
trigger1 = time = 3
trigger2 = time = 20
x = 6

[State 1150, 1]
type = posadd
trigger1 = time = [4,5]
trigger2 = time = 21
x = 5

[State 1150, 1]
type = posadd
trigger1 = time = 22
trigger2 = time = 31
x = 4

[State 1150, 1]
type = posadd
trigger1 = time = 6
trigger2 = time = 23
trigger3 = time = 32
x = 3

[State 1150, 1]
type = posadd
trigger1 = time = [7,9]
trigger2 = time = [24,26]
trigger3 = time = 33
trigger4 = time = 35
x = 2

[State 1150, 1]
type = posadd
trigger1 = time = [10,13]
trigger2 = time = 15
trigger3 = time = 17
trigger4 = time = [27,29]
trigger5 = time = 34
trigger6 = time = [36,38]
trigger7 = time = 41
x = 1

[State 1150, 1]
type = posadd
trigger1 = AnimElem = 16 || AnimElem = 17 || AnimElem = 18
x = 8

[State 1150, movetype]
type = StateTypeSet
trigger1 = AnimElem = 15
movetype = I

[State 1150, 1]
type = PlaySnd
trigger1 = AnimElem = 2 || AnimElem = 6 || AnimElem = 11
value = 1100,4

[State 1150, 1]
type = PlaySnd
trigger1 = time = 1
value = 1100,1

[State 1150, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = 80,10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 46,46
pausetime = var(45)-3,var(46)
guard.pausetime = var(45)-3,var(47)
hitsound = 5,2
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
yaccel = fvar(12)
fall = 0
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> -4 && P2Dist x< 43),var(28),ifelse(P2Dist x<= -4,-4,43))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -69),var(26),ifelse(var(26)<= -100,-100-(pos y),-69-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -69),var(25),ifelse(var(25)<= -100,-100,-69))
ignorehitpause = 1

[State 1150, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = ifelse(hitcount>=1,20,80),10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 46,46
pausetime = var(45)-3,var(46)
guard.pausetime = var(45)-3,var(47)
hitsound = 5,2
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0;ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
yaccel = fvar(12)
fall = 0
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 63),var(28),ifelse(P2Dist x<= 8,8,63))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-68,(-76-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -65),var(26),ifelse(var(26)<= -96,-96-(pos y),-65-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -65),var(25),ifelse(var(25)<= -96,-96,-65))
ignorehitpause = 1

[State 1150, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = ifelse(hitcount>=1,20,80),10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 46,46
pausetime = var(45)-3,var(46)
guard.pausetime = var(45)-3,var(47)
hitsound = 5,4
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
yaccel = fvar(12)
fall = 0
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 36,36,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-44,(-40-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -41),var(26),ifelse(var(26)<= -96,-96-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -41),var(25),ifelse(var(25)<= -96,-96,-41))
ignorehitpause = 1

[State 1150, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 10
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = ifelse(hitcount>=1,10,90),10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound = 5,4
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
yaccel = fvar(12)
fall = 1
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 10
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 44 && P2Dist x< 75),var(28),ifelse(P2Dist x<= 44,44,75))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 10
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-44,(-62-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 10
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -148 && var(26) < -45),var(26),ifelse(var(26)<= -148,-148-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 10
trigger1 = 1
fvar(38) = ifelse((var(25) > -148 && var(25) < -45),var(25),ifelse(var(25)<= -148,-148,-45))
ignorehitpause = 1

[State 1150, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;암블록 약
[Statedef 1200]
type    = C
movetype= A
physics = C
poweradd = 121
ctrl = 0
anim = 1200
velset = 0,0
facep2 = 1

[State 1200, 4]
type = ChangeState
trigger1 = (prevstateno = [200,1950]) && time = 0
value = 1230

[State 1200, 1]
type = posadd
trigger1 = AnimElem = 1
x = 2

[State 1200, 1]
type = posadd
trigger1 = AnimElem = 2 || AnimElem = 3
x = 16

[State 1200, 1]
type = posadd
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10 || AnimElem = 11 || AnimElem = 12
x = 8

[State 1200, 1]
type = posadd
trigger1 = AnimElem = 6 || AnimElem = 6,=1
x = 4

[State 1200, 1]
type = posadd
trigger1 = AnimElem = 4,=2 || AnimElem = 4,=6 || AnimElem = 4,=10 || AnimElem = 4,=14 || AnimElem = 4,=18 || AnimElem = 4,=22
trigger2 = AnimElem = 4,=26 || AnimElem = 4,=30 || AnimElem = 4,=34 || AnimElem = 4,=38 || AnimElem = 4,=42
x = 1

[State 1200, 1]
type = posadd
trigger1 = AnimElem = 4,=4 || AnimElem = 4,=8 || AnimElem = 4,=12 || AnimElem = 4,=16 || AnimElem = 4,=20 || AnimElem = 4,=24
trigger2 = AnimElem = 4,=28 || AnimElem = 4,=32 || AnimElem = 4,=36 || AnimElem = 4,=40 || AnimElem = 4,=44
x = -1

[State 1200, movetype]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 1200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1200,1
channel = 4

[State 1200, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 1200,4

[State 1200, 4]
type = PlaySnd
trigger1 = movehit = 1
value = 1200,5
ignorehitpause = 1
persistent = 0

[State 1100, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1200, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 4
persistent = 0
attr = C, SA
animtype = Hard
;guardflag = M
damage = 160,10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 121,121
pausetime = var(45)+4,var(46)+2
guard.pausetime = var(45)+4,var(47)+4
hitsound = s1200,2
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
yaccel = fvar(12)
fall = 1
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 62
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0 

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 11 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 11,11,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-52,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -128 && var(26) < -32),var(26),ifelse(var(26)<= -128,-128-(pos y),-32-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -128 && var(25) < -32),var(25),ifelse(var(25)<= -128,-128,-32))
ignorehitpause = 1

[State 1200, 4]
type = targetstate
;triggerall = var(13) = 0 || var(37) = 1
trigger1 = movehit = 1 && target,stateno != 5950
value = 1210
ignorehitpause = 0
persistent = 0

[State 1200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
;암흑지옥떨구기 MAX 마지막 잡힌 상테2;히트드라이브를 기준으로 한다
[Statedef 1210]
type = A
movetype = H
physics = N
velset = 0, 0
facep2 = 1

[State 1210,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1210,ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0 && !SelfAnimexist(5978)
value = 1210

[State 1210,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimexist(5978)
value = 5978

[State 1210 1] 
type = ChangeAnim
trigger1 = Anim = 5978
trigger1 = AnimTime = 0
value = 5979

[State 1210,VelSet]
type = VelSet
trigger1 = Time = 0 && P2stateno != 3455
x = -2.1
y = -16.56

[State 1210,VelSet]
type = VelSet
trigger1 = Time = 0 && P2stateno = 3455
x = 2.1
y = -16.56

[State 1210,VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .706

[State 1210,SelfState]
type = ChangeState
trigger1 = Pos Y >= -16 && Vel Y > 0	;Pos Y >= -16 && Vel Y > 0
value = 1211

;--------------------------------------------------------------
;암흑지옥떨구기 MAX 마지막 잡힌 상테3
[Statedef 1211]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1211, 10]
type = PlaySnd
trigger1 = Time = 0
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1211, 13]
type = PlaySnd
triggerall = alive
trigger1 = Time = 0
value = 11,2
channel = 3

[State 1211, Shake]
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = -8

[State 1211,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1211, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1211,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100+ifelse(SelfAnimexist(5104),4,0)

[State 1211,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1212

;--------------------------------------------------------------
;암흑지옥떨구기 MAX 마지막 잡힌 상테4
[Statedef 1212]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1212,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1212,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5160+ifelse(SelfAnimexist(5164),4,0)

[State 1212,VelSet]
type = VelSet
trigger1 = Time = 0
x = -1.6
y = -3

[State 1212,VelAdd]
type = VelAdd
trigger1 = 1
y = .523

[State 1212,SelfState]
type = SelfState
trigger1 = Pos Y >= -2 && Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
;암블록 캔슬
[Statedef 1230]
type    = S
movetype= A
physics = S
poweradd = 121
ctrl = 0
anim = 1230
velset = 0,0
facep2 = 0

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1230, 1]
type = posadd
trigger1 = AnimElem = 1
x = 2

[State 1230, 1]
type = posadd
trigger1 = AnimElem = 2 || AnimElem = 3
x = 16

[State 1230, 1]
type = posadd
trigger1 = AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10 || AnimElem = 11 || AnimElem = 12
x = 8

[State 1230, movetype]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 1230, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 1200,4

[State 1230, 4]
type = PlaySnd
trigger1 = movehit = 1
value = 1200,5
ignorehitpause = 1
persistent = 0

[State 1230, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 4
persistent = 0
attr = C, SA
animtype = Hard
guardflag = M
damage = 105,10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 121,121
pausetime = var(45)+4,var(46)+2
guard.pausetime = var(45)+4,var(47)+4
hitsound = s1200,2
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
yaccel = fvar(12)
fall = 1
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 11 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 11,11,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-52,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -128 && var(26) < -32),var(26),ifelse(var(26)<= -128,-128-(pos y),-32-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -128 && var(25) < -32),var(25),ifelse(var(25)<= -128,-128,-32))
ignorehitpause = 1

[State 1230, 4]
type = targetstate
;triggerall = var(13) = 0 || var(37) = 1
trigger1 = movehit = 1 && target,stateno != 5950
value = 1210
ignorehitpause = 0
persistent = 0

[State 1230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;랄프 킥(Ralf Kick) 약
[Statedef 1300]
type    = C
movetype= A
physics = C
poweradd = 121
ctrl = 0
anim = 1300
velset = 0,0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1300,0]
type = NotHitBy
trigger1 = AnimElem = 3
value = SCA
time = 17

[State 1300,1]
type = HitBy
trigger1 = AnimElem = 3
value = SCA, NT, ST, HT
time = 17

;[State 1300, GrabSpark]
;type = Explod
;trigger1 = AnimElem = 4
;id = 1595
;anim = 1595
;pos = -9,0
;sprpriority = 0
;ownpal = 1

;[State 1300, movetype]
;type = StateTypeSet
;trigger1 = AnimElem = 6
;movetype = I

[State 1300, 1]
type = PlaySnd
trigger1 = time = 1
value = 1300,1

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1350,4

[State 1300, posadd]
type = posadd
trigger1 = AnimElem = 6
x = 16

[State 1300, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype = Hard
guardflag = L
damage = 120,10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 121,121
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound = 5,4
guardsound = 6,1
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
yaccel = fvar(12)
fall = 1
air.fall = 1
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> -1 && P2Dist x< 79),var(28),ifelse(P2Dist x<= -1,-1,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-27,(-27-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -36),var(26),ifelse(var(26)<= -68,-68-(pos y),-36-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -36),var(25),ifelse(var(25)<= -68,-68,-36))
ignorehitpause = 1

[State 1300,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = N

[State 1300,VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 2.54
y = -3

[State 1300,VelAdd]
type = VelAdd
trigger1 = AnimElem = 7, >= 0
y = .34

[State 1300 , 3]
type = ChangeState
trigger1 = Pos Y >= -3 && Vel Y > 0
value = 1310
ctrl = 0

;---------------------------------------------------------------------------
;랄프 킥(Ralf Kick) 약
[Statedef 1320]
type    = C
movetype= A
physics = C
poweradd = 121
ctrl = 0
anim = 1300
velset = 0,0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1300,0]
type = NotHitBy
trigger1 = AnimElem = 3
value = SCA
time = 17

[State 1300,1]
type = HitBy
trigger1 = AnimElem = 3
value = SCA, NT, ST, HT
time = 17

;[State 1300, GrabSpark]
;type = Explod
;trigger1 = AnimElem = 4
;id = 1595
;anim = 1595
;pos = -9,0
;sprpriority = 0
;ownpal = 1

;[State 1300, movetype]
;type = StateTypeSet
;trigger1 = AnimElem = 6
;movetype = I

[State 1300, 1]
type = PlaySnd
trigger1 = time = 1
value = 1300,1

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1350,4

[State 1300, posadd]
type = posadd
trigger1 = AnimElem = 6
x = 16

[State 1300, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype = Hard
guardflag = L
damage = 120,10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 121,121
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound = 5,4
guardsound = 6,1
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
yaccel = fvar(12)
fall = 1
air.fall = 1
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> -1 && P2Dist x< 79),var(28),ifelse(P2Dist x<= -1,-1,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-27,(-27-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -36),var(26),ifelse(var(26)<= -68,-68-(pos y),-36-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -36),var(25),ifelse(var(25)<= -68,-68,-36))
ignorehitpause = 1

[State 1300,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = N

[State 1300,VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 3.24
y = -5

[State 1300,VelAdd]
type = VelAdd
trigger1 = AnimElem = 7, >= 0
y = .34

[State 1300 , 3]
type = ChangeState
trigger1 = Pos Y >= -3 && Vel Y > 0
value = 1310
ctrl = 0

;---------------------------------------------------------------------------
;랄프 킥(Ralf Kick) 약 착지
[Statedef 1310]
type = C
movetype = I
physics = C
poweradd = 0
anim = 1310	
velset = 0,0
facep2 = 0

[State 1310, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1310, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1310, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1310, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;랄프 킥(Ralf Kick) 강
[Statedef 1350]
type    = S
movetype= A
physics = S
poweradd = 121
ctrl = 0
anim = 1350
velset = 0,0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1350,0]
type = NotHitBy
trigger1 = AnimElem = 4
value = SCA
time = 12

[State 1350,1]
type = HitBy
trigger1 = AnimElem = 4
value = SCA, NT, ST, HT
time = 12

[State 1350, GrabSpark]
type = Explod
trigger1 = AnimElem = 4
id = 1595
anim = 1595
pos = 12,0
sprpriority = 0
ownpal = 1

;[State 1350, movetype]
;type = StateTypeSet
;trigger1 = AnimElem = 6
;movetype = I

[State 1350, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1350,1

[State 1350, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1350,4

[State 1350, posadd]
type = posadd
trigger1 = AnimElem = 6
x = 16

[State 1350, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype = Diagup
guardflag = M
damage = 130,10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 121,121
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound = 5,4
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
yaccel = fvar(12)
fall = 1
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 0 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 0,0,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-72,(-86-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -76 && var(26) < -45),var(26),ifelse(var(26)<= -76,-76-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -76 && var(25) < -45),var(25),ifelse(var(25)<= -76,-76,-45))
ignorehitpause = 1

[State 1350,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = N

[State 1350,VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 3.6
y = -5.76

[State 1350,VelAdd]
type = VelAdd
trigger1 = AnimElem = 7, >= 0
y = .34

[State 1350 , 3]
type = ChangeState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 1360
ctrl = 0

;---------------------------------------------------------------------------
;랄프 킥(Ralf Kick) 강
[Statedef 1370]
type    = S
movetype= A
physics = S
poweradd = 121
ctrl = 0
anim = 1350
velset = 0,0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1350,0]
type = NotHitBy
trigger1 = AnimElem = 4
value = SCA
time = 12

[State 1350,1]
type = HitBy
trigger1 = AnimElem = 4
value = SCA, NT, ST, HT
time = 12

[State 1350, GrabSpark]
type = Explod
trigger1 = AnimElem = 4
id = 1595
anim = 1595
pos = 12,0
sprpriority = 0
ownpal = 1

;[State 1350, movetype]
;type = StateTypeSet
;trigger1 = AnimElem = 6
;movetype = I

[State 1350, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1350,1

[State 1350, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1350,4

[State 1350, posadd]
type = posadd
trigger1 = AnimElem = 6
x = 12

[State 1350, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype = Hard
guardflag = M
damage = 140,10
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
getpower = 121,121
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound = 5,4
guardsound = 6,1
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
yaccel = fvar(12)
fall = 1
air.fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 0 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 0,0,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-72,(-86-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -76 && var(26) < -45),var(26),ifelse(var(26)<= -76,-76-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -76 && var(25) < -45),var(25),ifelse(var(25)<= -76,-76,-45))
ignorehitpause = 1

[State 1350,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = N

[State 1350,VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 3.6
y = -4.76

[State 1350,VelAdd]
type = VelAdd
trigger1 = AnimElem = 7, >= 0
y = .34

[State 1350 , 3]
type = ChangeState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 1360
ctrl = 0

;---------------------------------------------------------------------------
;랄프 킥(Ralf Kick) 강 착지
[Statedef 1360]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1360	
velset = 0,0
facep2 = 0

[State 1350, posadd]
type = posadd
trigger1 = AnimElem = 2
x = 8

[State 1360, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1360, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1360, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1360, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;급강하 폭탄 펀치-공중 약
[Statedef 1400]
type    = A
movetype= A
physics = N
poweradd = ifelse((prevstateno = [1430,1435]),0,76)
ctrl = 0
anim = 1400
velset = 9,0
facep2 = 0

[State 1100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno = [200,1000]
value = .5

[State 1400, varset]
type = varset
triggerall = prevstateno != 1435
triggerall = prevstateno != 1430
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1400, 1]
type = null ;poweradd
triggerall = prevstateno != 1435
triggerall = prevstateno != 1430
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1400, 1]
type = PlaySnd
trigger1 = time = 1
value = 1400,1

[State 1400, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1400,4

[State 1400, 4]
type = PlaySnd
trigger1 = movehit = 1
value = 1400,2
ignorehitpause = 1
persistent = 0

[State 1400,PosFreeze]
type = PosFreeze
trigger1 = Time <= 13

[state 1400, 0]
trigger1 = 1
type = Gravity

[State 1100, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1140, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 6
persistent = 0
attr = A, SA
animtype  = UP
damage    = 100,10
guardflag = H
hitflag = MAF
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -12
hitsound = 5,2
guardsound = 6,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(34),fvar(35)
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
down.hittime = var(35)
down.velocity = 0,0
palfx.time = 33
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall.envshake.time = 14
fall.xvelocity = 0
fall.yvelocity = -8
fall = 1
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = A,4020,(ifelse(p2statetype = C,5972,5971)))

[State 1400, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 32,32,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -36 && var(26) < 11),var(26),ifelse(var(26)<= -36,-36-(pos y),11-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -36 && var(25) < 11),var(25),ifelse(var(25)<= -36,-36,11))
ignorehitpause = 1

[State 1400,ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10 && AnimElem = 5, > 1
value = 1410

;---------------------------------------------------------------------------
;급강하 폭탄 펀치-공중 약 땅폭
[Statedef 1410]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1410
hitcountpersist = 1
velset = 0,0

[State 1410, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 2206
ID = 2200
sprpriority = 4
postype = p1
pos = 70,-27
removetime = -2
ownpal = 1

[State 1410, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 2207
ID = 2200
sprpriority = 4
postype = p1
pos = 38,-17
removetime = -2
ownpal = 1

[State 1410, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 2201
ID = 2200
sprpriority = 4
postype = p1
pos = 44,7
removetime = -2
ownpal = 1

[State 1410, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 2202
ID = 2200
sprpriority = 4
postype = p1
pos = 6,-19
removetime = -2
ownpal = 1

[State 1410, movetype]
type = StateTypeSet
trigger1 = AnimElem = 2
movetype = I

[State 1100, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1140, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype  = UP
damage    = 20,10
guardflag = M
hitflag = MAFD
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -12
hitsound = 5,2
guardsound = 6,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(34),fvar(35)
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
down.hittime = var(35)
down.velocity = 0,0
palfx.time = 33
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall.envshake.time = 14
fall.xvelocity = 0
fall.yvelocity = -8
fall = 1
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = A,4020,(ifelse(p2statetype = L,5973,(ifelse(p2statetype = C,5972,5971)))))

[State 1400, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 32,32,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-24-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -36 && var(26) < 11),var(26),ifelse(var(26)<= -36,-36-(pos y),11-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -36 && var(25) < 11),var(25),ifelse(var(25)<= -36,-36,11))
ignorehitpause = 1

[State 1410, Shake]
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = -4

[State 1410, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1410, 1]
type = Posadd
trigger1 = Time = 0
x = 9

[State 1410, 1]
type = PosAdd
trigger1 = AnimElem = 2
x = 16

[State 1410,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A
physics = N

[State 1410,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = -2.06
y = -7.5

[State 1410,VelAdd]
type = VelAdd
trigger1 = AnimElem = 5, >= 0
y = .56

[State 1410,ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -8 && AnimElem = 5, > 0
value = 1415

;---------------------------------------------------------------------------
;급강하 폭탄 펀치-공중 약 착지
[Statedef 1415]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
anim = 1415
velset = 0,0

[State 1415, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1415, 3]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1415 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;급강하 폭탄 펀치-지상 약
[Statedef 1430]
type    = S
movetype= A
physics = S
poweradd = 76
ctrl = 0
anim = 1430
velset = 0,0

[State 1430,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 3

[State 1430,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 3

[State 1430, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 2040,1

[State 1430 , 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype  = Hard
damage    = 100,10
guardflag = M
getpower  = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy = 0,-84
sparkno = s6002999
guard.sparkno = s6007999
hitsound = 5,2
guardsound = 6,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 31),var(28),ifelse(P2Dist x<= 8,8,31))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-84,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -116 && var(26) < -77),var(26),ifelse(var(26)<= -116,-116-(pos y),-77-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -116 && var(25) < -77),var(25),ifelse(var(25)<= -116,-116,-77))
ignorehitpause = 1

[State 1430,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 1430,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 2.2
y = -8.5

[State 1430,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4, >= 0
y = .56

[State 1430,ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -8 && AnimElem = 5, > 0
value = 1415

[State 1430,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1400

;---------------------------------------------------------------------------
;급강하 폭탄 펀치-지상 강
[Statedef 1435]
type    = S
movetype= A
physics = S
poweradd = 76
ctrl = 0
anim = 1435
velset = 0,0

[State 1435, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 2040,1

[State 1435 , 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype  = Hard
damage    = 100,10
guardflag = M
getpower  = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy = 0,-84
sparkno = s6002999
guard.sparkno = s6007999
hitsound = 5,2
guardsound = 6,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 31),var(28),ifelse(P2Dist x<= 8,8,31))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-84,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -116 && var(26) < -77),var(26),ifelse(var(26)<= -116,-116-(pos y),-77-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -116 && var(25) < -77),var(25),ifelse(var(25)<= -116,-116,-77))
ignorehitpause = 1

[State 1435,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A
physics = N

[State 1435,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 3.7
y = -10

[State 1435,VelAdd]
type = VelAdd
trigger1 = AnimElem = 4, >= 0
y = .45

[State 1435,ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -8 && AnimElem = 5, > 0
value = 1415

[State 1435,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1400

;---------------------------------------------------------------------------
;발칸 펀치(Vulcan Punch) 약
[Statedef 1500]
type    = S
movetype= A
physics = S
poweradd = 46
ctrl = 0
anim = 1500
velset = 0,0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 4
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 56,-104
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 7
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 72,-80
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 10
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 64,-48
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 13
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 72,-56
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 16
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 46,-88
removetime = -2
ownpal = 1

[State 1500, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1500,1
channel = 6

[State 1500, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1500,4
channel = 4

[State 1500, ChangeState]
type = posadd
trigger1 = Command = "holdfwd"
trigger1 = AnimElem = 3, >= 0
x = 1

[State 1100, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1500, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 4 || AnimElem = 7 || AnimElem = 10 || AnimElem = 13 || AnimElem = 16
persistent = 1
attr = S, SA
animtype  = Hard
damage    = ifelse(hitcount>=1,10,100),10
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,1
ground.type = High
fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0

[State 1500, 4]
type = PlaySnd
trigger1 = movehit = 1
value = 1400,2
ignorehitpause = 1
persistent = 0

[State 1500, 0]
type = varset
trigger1 = movehit
var(13) = 1
ignorehitpause = 1
persistent = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-86-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -124 && var(26) < -85),var(26),ifelse(var(26)<= -124,-124-(pos y),-85-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -124 && var(25) < -85),var(25),ifelse(var(25)<= -124,-124,-85))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -73),var(26),ifelse(var(26)<= -112,-112-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -73),var(25),ifelse(var(25)<= -112,-112,-73))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -53),var(26),ifelse(var(26)<= -92,-92-(pos y),-53-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -53),var(25),ifelse(var(25)<= -92,-92,-53))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -29),var(26),ifelse(var(26)<= -68,-68-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -29),var(25),ifelse(var(25)<= -68,-68,-29))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -73),var(26),ifelse(var(26)<= -112,-112-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -73),var(25),ifelse(var(25)<= -112,-112,-73))
ignorehitpause = 1

[State 1500, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1500, VarSet]
type = VarSet
triggerall = var(6) = 0
trigger1 = command = "1500" && AnimElem = 3, >= 0
trigger2 = command = "1550" && AnimElem = 3, >= 0
trigger3 = command = "hold_x" && AnimTime = 0
trigger4 = command = "hold_y" && AnimTime = 0
var(6) = 1

[State 1500, ChangeState]
type = ChangeState
trigger1 = Var(6) = 1
trigger1 = AnimTime = 0
value = 1510
ctrl = 0

[State 1500 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1505
ctrl = 0

;---------------------------------------------------------------------------
;발칸 펀치(Vulcan Punch) 약 끝
[Statedef 1505]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
anim = 1505
velset = 0,0
facep2 = 0

[State 1505 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;발칸 펀치(Vulcan Punch) 약 연결
[Statedef 1510]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1510
velset = 0,0
facep2 = 0

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 2
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 56,-104
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 5
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 72,-80
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 8
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 64,-48
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 11
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 72,-56
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 14
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 46,-88
removetime = -2
ownpal = 1

[State 1510, ChangeState]
type = posadd
trigger1 = Command = "holdfwd"
trigger1 = 1
x = 1

[State 1100, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1510, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8 || AnimElem = 11 || AnimElem = 14
persistent = 1
attr = S, SA
animtype  = Hard
damage    = ifelse(hitcount>=1,10,100),10
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,1
ground.type = High
fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0

[State 1500, 4]
type = PlaySnd
trigger1 = movehit = 1
value = 1400,2
ignorehitpause = 1
persistent = 0

[State 1500, 0]
type = varset
trigger1 = movehit
var(13) = 1
ignorehitpause = 1
persistent = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-86-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -124 && var(26) < -85),var(26),ifelse(var(26)<= -124,-124-(pos y),-85-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -124 && var(25) < -85),var(25),ifelse(var(25)<= -124,-124,-85))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -73),var(26),ifelse(var(26)<= -112,-112-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -73),var(25),ifelse(var(25)<= -112,-112,-73))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -53),var(26),ifelse(var(26)<= -92,-92-(pos y),-53-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -53),var(25),ifelse(var(25)<= -92,-92,-53))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -29),var(26),ifelse(var(26)<= -68,-68-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -29),var(25),ifelse(var(25)<= -68,-68,-29))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -73),var(26),ifelse(var(26)<= -112,-112-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -73),var(25),ifelse(var(25)<= -112,-112,-73))
ignorehitpause = 1

[State 1510 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1505
ctrl = 0

;---------------------------------------------------------------------------
;발칸 펀치(Vulcan Punch) 강
[Statedef 1550]
type    = S
movetype= A
physics = S
poweradd = 46
ctrl = 0
anim = 1550
velset = 0,0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 4
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 56,-104
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 7
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 72,-80
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 10
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 64,-48
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 13
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 72,-56
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 16
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 46,-88
removetime = -2
ownpal = 1

[State 1550, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1500,1
channel = 6

[State 1550, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1500,4
channel = 4

[State 1550, ChangeState]
type = posadd
trigger1 = Command = "holdfwd"
trigger1 = AnimElem = 3, >= 0
x = 1

[State 1100, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1550, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 4 || AnimElem = 7 || AnimElem = 10 || AnimElem = 13 || AnimElem = 16
persistent = 1
attr = S, SA
animtype  = Hard
damage    = ifelse(hitcount>=1,10,100),10
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,1
ground.type = High
fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0

[State 1550, 4]
type = PlaySnd
trigger1 = movehit = 1
value = 1400,2
ignorehitpause = 1
persistent = 0

[State 1550, 0]
type = varset
trigger1 = movehit
var(13) = 1
ignorehitpause = 1
persistent = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-86-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -124 && var(26) < -85),var(26),ifelse(var(26)<= -124,-124-(pos y),-85-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -124 && var(25) < -85),var(25),ifelse(var(25)<= -124,-124,-85))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -73),var(26),ifelse(var(26)<= -112,-112-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -73),var(25),ifelse(var(25)<= -112,-112,-73))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -53),var(26),ifelse(var(26)<= -92,-92-(pos y),-53-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -53),var(25),ifelse(var(25)<= -92,-92,-53))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -29),var(26),ifelse(var(26)<= -68,-68-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 13, >= 0 && AnimElem = 13, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -29),var(25),ifelse(var(25)<= -68,-68,-29))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -73),var(26),ifelse(var(26)<= -112,-112-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -73),var(25),ifelse(var(25)<= -112,-112,-73))
ignorehitpause = 1

[State 1550, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1550, VarSet]
type = VarSet
triggerall = var(6) = 0
trigger1 = command = "1500" && AnimElem = 3, >= 0
trigger2 = command = "1550" && AnimElem = 3, >= 0
trigger3 = command = "hold_x" && AnimTime = 0
trigger4 = command = "hold_y" && AnimTime = 0
var(6) = 1

[State 1550, ChangeState]
type = ChangeState
trigger1 = Var(6) = 1
trigger1 = AnimTime = 0
value = 1560
ctrl = 0

[State 1550 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1555
ctrl = 0

;---------------------------------------------------------------------------
;발칸 펀치(Vulcan Punch) 강 끝
[Statedef 1555]
type    = S
movetype= I
physics = S
poweradd = 0
ctrl = 0
anim = 1555
velset = 0,0
facep2 = 0

[State 1555 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;발칸 펀치(Vulcan Punch) 강 연결
[Statedef 1560]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1560
velset = 0,0
facep2 = 0

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 2
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 56,-104
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 5
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 72,-80
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 8
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 64,-48
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 11
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 72,-56
removetime = -2
ownpal = 1

[State 1500, 1]
type = Explod
trigger1 = AnimElem = 14
anim = 1570
ID = 1570
sprpriority = 4
postype = p1
pos = 46,-88
removetime = -2
ownpal = 1

[State 1560, ChangeState]
type = posadd
trigger1 = Command = "holdfwd"
trigger1 = 1
x = 1

[State 1100, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1560, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8 || AnimElem = 11 || AnimElem = 14
persistent = 1
attr = S, SA
animtype  = Hard
damage    = ifelse(hitcount>=1,10,100),10
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,1
ground.type = High
fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0

[State 1560, 4]
type = PlaySnd
trigger1 = movehit = 1
value = 1400,2
ignorehitpause = 1
persistent = 0

[State 1560, 0]
type = varset
trigger1 = movehit
var(13) = 1
ignorehitpause = 1
persistent = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-86-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -124 && var(26) < -85),var(26),ifelse(var(26)<= -124,-124-(pos y),-85-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -124 && var(25) < -85),var(25),ifelse(var(25)<= -124,-124,-85))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -73),var(26),ifelse(var(26)<= -112,-112-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -73),var(25),ifelse(var(25)<= -112,-112,-73))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -53),var(26),ifelse(var(26)<= -92,-92-(pos y),-53-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -53),var(25),ifelse(var(25)<= -92,-92,-53))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -29),var(26),ifelse(var(26)<= -68,-68-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -29),var(25),ifelse(var(25)<= -68,-68,-29))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 40,40,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -73),var(26),ifelse(var(26)<= -112,-112-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -73),var(25),ifelse(var(25)<= -112,-112,-73))
ignorehitpause = 1

[State 1560 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1555
ctrl = 0

;---------------------------------------------------------------------------
;랄프 태클(Ralf Tackle)
[Statedef 1600]
type    = S
movetype= A
physics = S
poweradd = 91
ctrl = 0
anim = 1600
velset = 0,0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 1600, varset]
type = posadd
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6
x = 8

[State 1600, varset]
type = posadd
trigger1 = AnimElem = 8,>=0 && AnimElem = 24,<=3
x = 6	;5.9

[State 1600, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1600,1

[State 1600, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1600,4

[State 1600,AfterImage]
type = AfterImage
trigger1 = AnimElem = 8
time = 30
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 1600, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && AnimElem = 24,<=3
time = 2

[State 1600, 2]
type = ReversalDef
trigger1 = p2Movetype != H
trigger1 = AnimElem = 3, >= 0 && AnimElem = 24, <= 3
reversal.attr = SCA, NAP, SAP, HAP
numhits = 0
pausetime = 7,10
sparkno = s6005+ifelse(var(54) = 2,1,0)+ifelse(var(54) = 3,2,0)
;sparkxy = 20,-70
hitsound = 6,1

[State 1600, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7 || AnimElem = 9 || AnimElem = 12 || AnimElem = 16 || AnimElem = 20
movetype = A

[State 1600, movetype]
type = StateTypeSet
trigger1 = AnimElem = 25 || AnimElem = 3 || AnimElem = 8 || AnimElem = 10 || AnimElem = 13 || AnimElem = 17 || AnimElem = 21
movetype = I

[State 1600, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
persistent = 0
attr = S, SA
animtype  = Hard
damage    = ifelse(hitcount>=1,10,90),10
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound   = 5,4
guardsound = 6,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 7, >= 1 && AnimElem = 7, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 39),var(28),ifelse(P2Dist x<= 8,8,39))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -60 && var(26) < -21),var(26),ifelse(var(26)<= -60,-60-(pos y),-21-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -60 && var(25) < -21),var(25),ifelse(var(25)<= -60,-60,-21))
ignorehitpause = 1

[State 1600, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 9, >= 0 && AnimElem = 9, <= 3
persistent = 0
attr = S, SA
animtype  = Hard
damage    = ifelse(hitcount>=1,10,90),10
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound   = 5,4
guardsound = 6,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 9, >= 1 && AnimElem = 9, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 39),var(28),ifelse(P2Dist x<= 8,8,39))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 9, >= 0 && AnimElem = 9, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-44,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 9, >= 0 && AnimElem = 9, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -64 && var(26) < -33),var(26),ifelse(var(26)<= -64,-64-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 9, >= 0 && AnimElem = 9, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -64 && var(25) < -33),var(25),ifelse(var(25)<= -64,-64,-33))
ignorehitpause = 1

[State 1600, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 12, >= 0 && AnimElem = 12, <= 3
persistent = 0
attr = S, SA
animtype  = Hard
damage    = ifelse(hitcount>=1,10,90),10
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound   = 5,4
guardsound = 6,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 12, >= 1 && AnimElem = 12, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 39),var(28),ifelse(P2Dist x<= 8,8,39))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 12, >= 0 && AnimElem = 12, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-48,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 12, >= 0 && AnimElem = 12, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -64 && var(26) < -33),var(26),ifelse(var(26)<= -64,-64-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 12, >= 0 && AnimElem = 12, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -64 && var(25) < -33),var(25),ifelse(var(25)<= -64,-64,-33))
ignorehitpause = 1

[State 1600, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 3
persistent = 0
attr = S, SA
animtype  = Hard
damage    = ifelse(hitcount>=1,10,100),10
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound   = 5,4
guardsound = 6,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 16, >= 1 && AnimElem = 16, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 39),var(28),ifelse(P2Dist x<= 8,8,39))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-48,(-36-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -64 && var(26) < -33),var(26),ifelse(var(26)<= -64,-64-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 16, >= 0 && AnimElem = 16, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -64 && var(25) < -33),var(25),ifelse(var(25)<= -64,-64,-33))
ignorehitpause = 1

[State 1200, 2]
type = HitDef
trigger1 = AnimElem = 20, >= 0 && AnimElem = 20, <= 2
trigger1 = var(13) = 0 || var(37) = 1
persistent = 0
attr = S, SA
animtype  = diagup
damage    = ifelse(hitcount>=1,10,100),10
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
hitsound   = 5,4
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(24),fvar(25)
air.velocity = fvar(24),fvar(25)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
yaccel = fvar(28)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.envshake.time = 10

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 20, >= 1 && AnimElem = 20, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 39),var(28),ifelse(P2Dist x<= 8,8,39))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 20, >= 0 && AnimElem = 20, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-48,(-36-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 20, >= 0 && AnimElem = 20, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -64 && var(26) < -33),var(26),ifelse(var(26)<= -64,-64-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 20, >= 0 && AnimElem = 20, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -64 && var(25) < -33),var(25),ifelse(var(25)<= -64,-64,-33))
ignorehitpause = 1

[State 1600 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;레드킥 지상히트
[Statedef 5971]
type    = U
movetype= H
physics = U
;velset = 0,0

[State 5971, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5976, 6]
type = SelfState
trigger1 = Time = 0 && !selfanimexist(5971)
value = 5000

[State 5971, 2]
type = ChangeAnim
trigger1 = Time = 0 && selfanimexist(5971)
value = 5971

[State 5971,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5971,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5971, EnvShake]
type = FallEnvShake
trigger1 = AnimElem = 2

[State 5971, 5]
type = ChangeState
trigger1 = StateType = L
value = 5973

[State 5971, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5976

;---------------------------------------------------------------------------
;레드킥 지상앉았을때히트
[Statedef 5972]
type    = U
movetype= H
physics = U
;velset = 0,0

[State 5971, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5972, 6]
type = SelfState
trigger1 = Time = 0 && !selfanimexist(5972)
value = 5000

[State 5972, 2]
type = ChangeAnim
trigger1 = Time = 0 && selfanimexist(5972)
value = 5972

[State 5971,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5971,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5972]
type = FallEnvShake
trigger1 = AnimElem = 2

[State 5971, 5]
type = ChangeState
trigger1 = StateType = L
value = 5973

[State 5972, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5976

;---------------------------------------------------------------------------
;레드킥 지상히트2
[Statedef 5976]
type    = L
movetype= H
physics = N
velset = 0,-2.4

[State 5971, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5976, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
trigger1= time = 0
value = 5976

;[State 5976, 3]
;type = HitFallVel
;trigger1 = Time = 0

[State 5976, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .46

[State 5971,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5971,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5976, 6]
type = SelfState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
;외식섬돌뚫기 다운히트
[Statedef 5973]
type    = S
movetype= H
physics = S
velset = 0,0

[State 5973, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5973, 6]
type = ChangeAnim
trigger1 = Time = 0 && !selfanimexist(5973)
value = 5080

[State 5973, 2]
type = ChangeAnim
trigger1 = Time = 0 && selfanimexist(5973)
value = ifelse(anim = 5111,5973,ifelse(anim = 5971,5973,ifelse(anim = 5972,5973,ifelse(anim = 5171,5973,5080))))

[State 5973,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5973,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5973, 1]
type = Pause
trigger1 = time = 12 || time = 13 || time = 14 || time = 15 || time = 16
time = 1

[State 5973, EnvShake]
type = FallEnvShake
trigger1 = time = 12

[State 5973, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time = 16
value = 5974

;--------------------------------------------------------------
;외식섬돌뚫기 다운히트2
[Statedef 5974]
type = A
movetype = H
physics = N
velset = 0, 0

[State 5974,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5973, 6]
type = ChangeAnim
trigger1 = Time = 0 && anim = 5080
value = 5160

[State 5973, 2]
type = ChangeAnim
trigger1 = Time = 0 && anim = 5973 && !selfanimexist(5974)
value = 5976

[State 5973, 2]
type = ChangeAnim
trigger1 = Time = 0 && anim = 5973 && selfanimexist(5974)
value = 5974

[State 5974,VelSet]
type = VelSet
trigger1 = Time = 0
x = -3.34
y = -7.6

[State 5974,VelAdd]
type = VelAdd
trigger1 = 1
y = .8

[State 5974,SelfState]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 5969

;--------------------------------------------------------------
;외식섬돌뚫기 다운히트3
[Statedef 5969]
type = S
movetype = H
physics = N
velset = 0, 0

;[State 5969, 10]
;type = PlaySnd
;trigger1 = Time = 0
;value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

;[State 5969, 13]
;type = PlaySnd
;triggerall = alive
;trigger1 = Time = 0
;value = 11,2
;channel = 3

;[State 5969, Shake]
;type = EnvShake
;trigger1 = Time = 0
;time = 20
;ampl = -6

[State 5969,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5969, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5969,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(anim = 5976,5103,ifelse(anim = 5974,5103,5100))

[State 5969,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 5968

;---------------------------------------------------------------------------
;외식섬돌뚫기 다운히트4
[Statedef 5968]
type    = L
movetype= H
physics = N
velset = -3.4,-2.4

[State 5968, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5968, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
trigger1= time = 0
value = ifelse(anim = 5103,5976,5160)

;[State 5976, 3]
;type = HitFallVel
;trigger1 = Time = 0

[State 5968, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .46

[State 5968,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5968,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5968, 6]
type = SelfState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
;바리바리 발칸 펀치(バリバリ Vulcan Punch) 약
[Statedef 3000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3000
ctrl = 0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 3000, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3000, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

[State 3000, 2]
type = PlaySnd
trigger1 = animelem = 9
value = 3010,1

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 4 || AnimElem = 7
value = 1100,4

[State 3000,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 40

[State 3000,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 40

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3000, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
poweradd = -1000
anim = -1

[State 3000, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3000, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3000, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = f101
sprpriority = -1
pos = 35,-80
supermove = 1
bindtime = -1
ownpal = 1

[State 3000, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = f100
sprpriority = 7
pos = 35,-80
supermove = 1
bindtime = -1
ownpal = 1

[State 3600, 1]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 10
anim = f8500
ID = 8500
pos = 65,66
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 2]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8505
ID = 8505
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 3]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8510
ID = 8510
pos = -150,60 ;65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3000,1]
type = Posadd
trigger1 = animelem = 3,>=0
x = 5

[State 3000,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 30
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3000, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && AnimElem = 8,<=4
time = 2

[State 3000, 0]
type = varrandom
trigger1 = time = 0 || movehit = 1
v = 40
range = 2

[State 3000, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 10,5
guardflag = M
getpower = 0,0
pausetime = var(10),var(46)
guard.pausetime = var(10),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 0 && P2Dist x< 47),var(28),ifelse(P2Dist x<= 0,0,47))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-68,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -104 && var(26) < -65),var(26),ifelse(var(26)<= -104,-104-(pos y),-65-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -104 && var(25) < -65),var(25),ifelse(var(25)<= -104,-104,-65))
ignorehitpause = 1

[State 3000, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 10,5
guardflag = M
getpower = 0,0
pausetime = var(10),var(46)
guard.pausetime = var(10),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 4,4,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -61),var(26),ifelse(var(26)<= -100,-100-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -61),var(25),ifelse(var(25)<= -100,-100,-61))
ignorehitpause = 1

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 3010
ctrl = 0

;---------------------------------------------------------------------------
;바리바리 발칸 펀치(バリバリ Vulcan Punch) 약 연타부분
[Statedef 3010]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3010
ctrl = 0
facep2 = 0

[State 3010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1500,4
channel = 4

[State 3000, 0]
type = varrandom
trigger1 = time = 0 || movehit = 1 || movehit = 1 || movehit = 1 || movehit = 1
v = 40
range = 1

[State 3000, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 2
trigger2 = AnimElem = 8
trigger3 = AnimElem = 14
trigger4 = AnimElem = 20
trigger5 = AnimElem = 26
trigger6 = AnimElem = 32
attr = S, HA
animtype  = Hard
damage    = 20,5
guardflag = M
getpower = 0,0
pausetime = var(45)-12,var(46)-12
guard.pausetime = var(45)-12,var(47)-11
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0,0
hitsound = 5,(ifelse(var(40)=0,0,2))
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = 0,-2 ;-3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 20, >= 0 && AnimElem = 20, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 20, >= 0 && AnimElem = 20, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 20, >= 0 && AnimElem = 20, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 20, >= 0 && AnimElem = 20, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 26, >= 0 && AnimElem = 26, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 26, >= 0 && AnimElem = 26, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 26, >= 0 && AnimElem = 26, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 26, >= 0 && AnimElem = 26, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 32, >= 0 && AnimElem = 32, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 32, >= 0 && AnimElem = 32, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 32, >= 0 && AnimElem = 32, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 32, >= 0 && AnimElem = 32, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State 3000, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 17
trigger4 = AnimElem = 23
trigger5 = AnimElem = 29
trigger6 = AnimElem = 35
attr = S, HA
animtype  = Hard
damage    = 20,5
guardflag = M
getpower = 0,0
pausetime = var(45)-12,var(46)-12
guard.pausetime = var(45)-12,var(47)-11
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0,0
hitsound = 5,(ifelse(var(40)=0,0,2))
guardsound = 6,1
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = 0,-2 ;-3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = 0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-64-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -116 && var(26) < -77),var(26),ifelse(var(26)<= -116,-116-(pos y),-77-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -116 && var(25) < -77),var(25),ifelse(var(25)<= -116,-116,-77))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-44,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -29),var(26),ifelse(var(26)<= -68,-68-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -29),var(25),ifelse(var(25)<= -68,-68,-29))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 17, >= 0 && AnimElem = 17, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 17, >= 0 && AnimElem = 17, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 17, >= 0 && AnimElem = 17, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 17, >= 0 && AnimElem = 17, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 23, >= 0 && AnimElem = 23, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 23, >= 0 && AnimElem = 23, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 23, >= 0 && AnimElem = 23, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 23, >= 0 && AnimElem = 23, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 29, >= 0 && AnimElem = 29, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 29, >= 0 && AnimElem = 29, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 29, >= 0 && AnimElem = 29, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 29, >= 0 && AnimElem = 29, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 35, >= 0 && AnimElem = 35, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 28,28,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 35, >= 0 && AnimElem = 35, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 35, >= 0 && AnimElem = 35, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 35, >= 0 && AnimElem = 35, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 17, >= 0 && AnimElem = 17, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 20, >= 0 && AnimElem = 20, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 23, >= 0 && AnimElem = 23, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 26, >= 0 && AnimElem = 26, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 29, >= 0 && AnimElem = 29, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 32, >= 0 && AnimElem = 32, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 35, >= 0 && AnimElem = 35, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3010, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 3020
ctrl = 0

;---------------------------------------------------------------------------
;바리바리 발칸 펀치(バリバリ Vulcan Punch) 약 막타부분
[Statedef 3020]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3020
ctrl = 0
hitcountpersist = 1

[State 3020, 2]
type = PlaySnd
trigger1 = animelem = 7
value = 3020,1

[State 3020, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1200,4

[State 3020, movetype]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 3020,1]
type = Posadd
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9
trigger2 = AnimElem = 10
x = 8

[State 3010, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3020, 1]
type = HitDef
trigger1 = Time = 0
trigger1 = (var(13) = 0 || var(37) = 1)
attr = S, HA
animtype  = Up
air.animtype  = Up
damage    = ifelse(hitcount<=10,100,20),5
guardflag = M
getpower = 0,0
pausetime = var(45)+4,var(46)+4
guard.pausetime = var(45)+4,var(47)+4
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0,-50
hitsound   = s3020,2
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -4.4,-9
air.velocity = -4.4,-9
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 62
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = -8

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 12,12,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-88-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -128 && var(26) < -33),var(26),ifelse(var(26)<= -128,-128-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -128 && var(25) < -33),var(25),ifelse(var(25)<= -128,-128,-33))
ignorehitpause = 1

[State 3000, 4]
type = targetstate
;triggerall = var(13) = 0 || var(37) = 1
trigger1 = movehit = 1 && target,stateno != 5950
value = 3030
ignorehitpause = 0
persistent = 0

[State 3020]
type = EnvColor
trigger1 = MoveHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 30
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3020, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && AnimElem = 10,<=28
time = 2

[State 3020, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
;암흑지옥떨구기 MAX 마지막 잡힌 상테2;히트드라이브를 기준으로 한다
[Statedef 3030]
type = A
movetype = H
physics = N
velset = 0, 0
facep2 = 1

[State 3030,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3030,ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0 && !SelfAnimexist(5978)
value = 3030

[State 3030,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimexist(5978)
value = 5978

[State 3030 1] 
type = ChangeAnim
trigger1 = Anim = 5978
trigger1 = AnimTime = 0
value = 5979

[State 3030,VelSet]
type = VelSet
trigger1 = Time = 0 && P2stateno != 3455
x = -2.1
y = -16.56

[State 3030,VelSet]
type = VelSet
trigger1 = Time = 0 && P2stateno = 3455
x = 2.1
y = -16.56

[State 3030,VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .706

[State 3030,SelfState]
type = ChangeState
trigger1 = Pos Y >= -16 && Vel Y > 0	;Pos Y >= -16 && Vel Y > 0
value = 3031

;--------------------------------------------------------------
;암흑지옥떨구기 MAX 마지막 잡힌 상테3
[Statedef 3031]
type = A
movetype = H
physics = N
velset = 0, 0

[State 3031, 10]
type = PlaySnd
trigger1 = Time = 0
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 3031, 13]
type = PlaySnd
triggerall = alive
trigger1 = Time = 0
value = 11,2
channel = 3

[State 3031, Shake]
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = -8

[State 3031,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3031, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3031,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100+ifelse(SelfAnimexist(5101),1,0)+ifelse(P2stateno = 3455,-1,0)

[State 3031,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3032

;--------------------------------------------------------------
;암흑지옥떨구기 MAX 마지막 잡힌 상테4
[Statedef 3032]
type = A
movetype = H
physics = N
velset = 0, 0

[State 3032,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3032,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5160+ifelse(SelfAnimexist(5161),1,0)+ifelse(P2stateno = 3455,-1,0)

[State 3032,VelSet]
type = VelSet
trigger1 = Time = 0
x = -1.6
y = -3

[State 3032,VelAdd]
type = VelAdd
trigger1 = 1
y = .523

[State 3032,SelfState]
type = SelfState
trigger1 = Pos Y >= -2 && Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
;바리바리 발칸 펀치(バリバリ Vulcan Punch) 강
[Statedef 3050]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3050
ctrl = 0
facep2 = 1

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 3050, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3050, 2]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

[State 3050, 2]
type = PlaySnd
trigger1 = animelem = 9
value = 3010,1

[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 4 || AnimElem = 7
value = 1100,4

[State 3050,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 40

[State 3050,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 40

[State 3350,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3050, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
poweradd = -1000
anim = -1

[State 3050, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3050, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3050, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = f101
sprpriority = -1
pos = 35,-80
supermove = 1
bindtime = -1
ownpal = 1

[State 3050, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = f100
sprpriority = 7
pos = 35,-80
supermove = 1
bindtime = -1
ownpal = 1

[State 3600, 1]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 10
anim = f8500
ID = 8500
pos = 65,66
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 2]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8505
ID = 8505
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 3]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8510
ID = 8510
pos = -150,60 ;65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3050,1]
type = Posadd
trigger1 = animelem = 3,>=0
x = 5

[State 3050,AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 30
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3050, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && AnimElem = 8,<=4
time = 2

[State 3050, 0]
type = varrandom
trigger1 = time = 0 || movehit = 1
v = 40
range = 2

[State 3050, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 10,5
guardflag = M
getpower = 0,0
pausetime = var(10),var(46)
guard.pausetime = var(10),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 0 && P2Dist x< 47),var(28),ifelse(P2Dist x<= 0,0,47))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-68,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -104 && var(26) < -65),var(26),ifelse(var(26)<= -104,-104-(pos y),-65-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -104 && var(25) < -65),var(25),ifelse(var(25)<= -104,-104,-65))
ignorehitpause = 1

[State 3050, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 10,5
guardflag = M
getpower = 0,0
pausetime = var(10),var(46)
guard.pausetime = var(10),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 4,4,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -61),var(26),ifelse(var(26)<= -100,-100-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -61),var(25),ifelse(var(25)<= -100,-100,-61))
ignorehitpause = 1

[State 3050]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 4
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3050]
type = EnvColor
trigger1 = MoveHit = 1
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 4
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3050, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 3010
ctrl = 0

;-----------------------------------------------------
;------------------------------
[Statedef 3060]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 3060
juggle = 8

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = time >= 4
;trigger1 = time <= 31
value = SCA

[State 3100, JorDamage4]
type = AttackMulSet
trigger1 = prevstateno >=200
value = .5

[State 3000,EnvColor]
type = EnvColor
trigger1 = Time = 4
value = 248,248,248
time = 2
under = 1

[State 3000,EnvColor]
type = EnvColor
trigger1 = Time = 4
value = 0, 0, 0
time = 27
under = 1

[State 3000,AssertSpecial]
type = AssertSpecial
trigger1 = Time = [4,31]
flag = NoFG

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = 1

[State 3200,Explod]
type = Explod
trigger1 = Time = 4
anim = f102
ID = 2200
pos = 32,-77
postype = P1
sprpriority = 4
supermove = 1
ownpal = 1
bindtime = -1

[State 3000,Explod]
type = Explod
trigger1 = Time = 4
anim = f103
ID = 2250
pos = 32,-77
postype = P1
sprpriority = -2
supermove = 1
ownpal = 1
bindtime = -1

[State 3700, 1]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 6
anim = f8600
ID = 8600
pos = -3,68
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3700, 2]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8605
ID = 8605
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3700, 3]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8610
ID = 8610
pos = -150,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3000,SuperPause]
type = SuperPause
trigger1 = Time = 4
time = 27
movetime = 27
anim = -1
sound = f20,1
darken = 0
poweradd = -2000
unhittable = 1

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = Time = 4
value = 2000, 1

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3000,1

[State 3000, Afterimage]
type = AfterImage
trigger1 = Time = 31
length = 5
timegap = 2
framegap = 4
palbright = 80,80,80
palcontrast = 80,30,80
paladd = 20,20,20
palmul = .25,.25,.25
trans = add1
time = 60

[State 3000,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3061
ctrl = 0

;------------------------ 멟릋
[Statedef 3061]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3061

[State 3140,00]
type = BGPalfx
trigger1 = HitPauseTime = 1 && MoveHit
add = 250,250,250
time = 1
ignorehitpause = 1

[State 3010,AfterImageTime]
type = AfterImageTime
trigger1 = Time = 0
time = 60

[State 3000,NotHitBy]
type = NotHitBy
trigger1 = time <= 6
value = SCA

[State 1000,2]
type = PlaySnd
trigger1 = time = 2
value = 3000,2

[State 1000,2]
type = PlaySnd
trigger1 = AnimElem = 2
trigger1 = AnimElem = 5
value = 200, 0

[State 1000,4]
type = VelSet
trigger1 = AnimElem = 1
trigger2 = AnimElem = 7
x = 6.2

[State 1000,4]
type = VelSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
x = 2.8

[State 1000,4]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 10
x = 3.8

[State 1110,3]
type = Hitdef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
attr = S, HA
animtype = Hard
damage    = 20,5
getpower = 0
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 9,10
sparkno = 3
guard.sparkno = 42
sparkxy = -39,-89
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 14
ground.cornerpush.veloff = 1.5
guard.cornerpush.veloff = 1.5
air.cornerpush.veloff = 1.5
guard.pausetime = 8,9
guard.slidetime = 18
guard.hittime  = 10
ground.velocity = -5.5
air.velocity = -2.2,-3.5
airguard.velocity = -2.7,-3.5
guard.velocity = -6.5
fall = 0
air.fall = 1
fall.recover = 0

[State 1110,3]
type = Hitdef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 12
attr = S, HA
animtype = Hard
damage    = 20,5
getpower = 0
givepower = 15
guardflag = MA
hitflag = MAF
pausetime = 9,10
sparkno = 3
guard.sparkno = 42
sparkxy = -46,-84
hitsound = 5,2
guardsound = 6,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 14
ground.cornerpush.veloff = 1.5
guard.cornerpush.veloff = 1.5
air.cornerpush.veloff = 1.5
guard.pausetime = 8,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = -5.5
air.velocity = -2.2,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -6.5
fall = 0
air.fall = 1
fall.recover = 0

[State 1000,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3062
ctrl = 0

;------------------------ 긫깑긇깛긬깛`1
[Statedef 3062]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3062

[State 1315,PosSet]
type = PosAdd
trigger1 = time = 0
x = 15

[State 1000,2]
type = PlaySnd
trigger1 = time = 3
value = 3010,2

[State 3010, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1500,4
channel = 4

[State 3010,AfterImageTime]
type = AfterImageTime
trigger1 = Time = 0
time = 60

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
;trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 8
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -30,-82
hitsound = 5, IfElse(Random%2,2,0)
guardsound = 6,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 5
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -40,-92
hitsound = 5, IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 11
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -42,-47
hitsound = 5, IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = Low
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3063
ctrl = 0

;------------------------ 긫깑긇깛긬깛`2
[Statedef 3063]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3063

[state 3, freeze]
type = PosFreeze
trigger1 = 1

[State 3010,AfterImageTime]
type = AfterImageTime
trigger1 = Time = 0
time = 60

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
;trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 7
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -30,-82
hitsound = 5, IfElse(Random%2,2,0)
guardsound = 6,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 4
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -40,-92
hitsound = 5, IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = -0.5
air.velocity = -2.2,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 10
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -42,-47
hitsound = 5, IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = Low
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3064
ctrl = 0

;------------------------ 긫깑긇깛긬깛`2
[Statedef 3064]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3063

[state -3, freeze]
type = PosFreeze
trigger1 = 1

[State 3010,AfterImageTime]
type = AfterImageTime
trigger1 = Time = 0
time = 60

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
;trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 7
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -30,-82
hitsound = 5, IfElse(Random%2,2,0)
guardsound = 6,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 4
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -40,-92
hitsound = 5, IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 10
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -42,-47
hitsound = 5, IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = Low
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3065
ctrl = 0

;------------------------ 긫깑긇깛긬깛`4
[Statedef 3065]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3063

[State 3010,AfterImageTime]
type = AfterImageTime
trigger1 = Time = 0
time = 60

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
;trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 7
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -30,-82
hitsound = S300, IfElse(Random%2,2,12)
guardsound = 6,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 4
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -40,-92
hitsound = 5, IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 10
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -42,-47
hitsound = 5, IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = Low
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3066
ctrl = 0

;------------------------ 긫깑긇깛긬깛`5
[Statedef 3066]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3063

[State 3010,AfterImageTime]
type = AfterImageTime
trigger1 = Time = 0
time = 60

[State 3000]
type = EnvColor
trigger1 = MoveHit = 1
;trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 7
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -30,-82
hitsound = 5,IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 4
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -40,-92
hitsound = 5, IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,3]
type = Hitdef
trigger1 = AnimElem = 10
attr = S, HA
animtype = Hard
damage    = 15,5
getpower = 0
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 1,10
sparkno = 3
guard.sparkno = 42
sparkxy = -42,-47
hitsound = 5, IfElse(Random%2,0,2)
guardsound = 6,1
ground.type = Low
ground.slidetime = 14
ground.hittime  = 20
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 1,9
guard.slidetime = 18
guard.hittime  = 12
ground.velocity = 0
air.velocity = -0.5,-3.2
airguard.velocity = -2.7,-3.5
guard.velocity = -1.5
fall = 0
air.fall = 1
fall.recover = 0

[State 3020,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3067
ctrl = 0

;------------------------ Fin
[Statedef 3067]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3064

[State 3140,00]
type = BGPalfx
trigger1 = HitPauseTime = 1 && MoveHit
add = 250,250,250
time = 1
ignorehitpause = 1

[State 3010,AfterImageTime]
type = AfterImageTime
trigger1 = Time = 0
time = 100

[State 1315,PosSet]
type = PosAdd
trigger1 = time = 0
trigger2 = AnimElem = 8
x = 20

[State 1315,PosSet]
type = PosAdd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
x = 8

[State 1315,PosSet]
type = PosAdd
trigger1 = AnimElem = 12
x = 5

[State 1315,PosSet]
type = PosAdd
trigger1 = AnimElem = 13
x = 10

[State 1315,PosSet]
type = PosAdd
trigger1 = AnimElem = 15
x = 10

[State 1080, movetype]
type = StateTypeSet
trigger1 = AnimElem = 15
movetype = A

;---------------------------velocidades

[State 1430,VelSet]
type = VelSet
trigger1 = AnimElem = 15
x = 3.2
y = -11.5

[State 1430,VelAdd]
type = VelAdd
trigger1 = AnimElem = 15, >= 0
y = .56

[State 1430,VelSet]
type = VelSet
trigger1 = AnimElem = 16
x = 0
;---------------------------fin

[State 1315,PosSet]
type = null ;velAdd
trigger1 = AnimElem = 16
y = 6;4.75

[State 1000,2]
type = PlaySnd
trigger1 = AnimElem = 15
value = 3030,1

[State 1110,3]
type = Hitdef
trigger1 = AnimElem = 2
attr = S, HA
animtype = Hard
damage    = 20,5
getpower = 0
givepower = 50
guardflag = MA
hitflag = MAF
pausetime = 27,34
sparkno = 3
guard.sparkno = 42
sparkxy = -24,-60
hitsound = 5, 4
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 20,26
guard.slidetime = 17
guard.hittime  = 15
ground.velocity = -3.0
air.velocity = -3.0,-3.2
airguard.velocity = -2.7,-3.2
guard.velocity = -4.5
fall = 0
air.fall = 1
fall.recover = 0
envshake.ampl=8
envshake.time=25

[State 1110,3]
type = Hitdef
trigger1 = AnimElem = 10
attr = S, HA
animtype = Hard
damage    = 20,5
getpower = 0
givepower = 50
guardflag = MA
hitflag = MAF
pausetime = 25,30
sparkno = 3
guard.sparkno = 42
sparkxy = -34,-70
hitsound = 5, 4
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 20,28
guard.slidetime = 17
guard.hittime  = 15
ground.velocity = -3.0
air.velocity = -3.0,-3.2
airguard.velocity = -2.7,-3.2
guard.velocity = -4.5
fall = 0
air.fall = 1
fall.recover = 0
envshake.ampl=8
envshake.time=20

[State 1110,3]
type = Hitdef
trigger1 = AnimElem = 14
attr = S, HA
animtype = Hard
damage    = 20,5
getpower = 0
givepower = 50
guardflag = MA
hitflag = MAF
pausetime = 27,34
sparkno = 3
guard.sparkno = 42
sparkxy = -24,-60
hitsound = 5, 4
guardsound = 6,1
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.pausetime = 20,26
guard.slidetime = 17
guard.hittime  = 15
ground.velocity = -3.0
air.velocity = -3.0,-3.2
airguard.velocity = -2.7,-3.2
guard.velocity = -4.5
fall = 0
air.fall = 1
fall.recover = 0
envshake.ampl=8
envshake.time=25

[State 3068,3]
type = Hitdef
trigger1 = AnimElem = 15
attr = A, HA
animtype = Up
damage    = 20,5
getpower = 0
givepower = 50
guardflag = MA
hitflag = MAF
pausetime = 1,1 ;var(45)+4,var(46)+4
sparkno = 3
guard.sparkno = 42
sparkxy = -34,-80
hitsound = s3020,2
guardsound = 6,1
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -4.4,-9
air.velocity = -4.4,-9
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
p2stateno = 3030
fall = 1
air.fall = 1
air.type = Low  
yaccel = fvar(12)
envshake.ampl= -8
envshake.time= 10
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 62
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0

[State 1350 , 3]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1360
ctrl = 0

;---------------------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약
[Statedef 3100]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3100
ctrl = 0
poweradd = -1000
facep2 = 1

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(20) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(20) = 1

[State 3100, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3100, 2]
type = PlaySnd
trigger1 = animelem = 2
value = 3100,1

[State 3100, Playsnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 100,1
channel = 5

[State 3100,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 35

[State 3100,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 35

[State 3100,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3100, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
poweradd = -1000
anim = -1

[State 3100, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3100, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3100, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = f101
sprpriority = -1
pos = 24,-132
supermove = 1
bindtime = -1
ownpal = 1

[State 3100, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = f100
sprpriority = 7
pos = 24,-132
supermove = 1
bindtime = -1
ownpal = 1

[State 3600, 1]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 10
anim = f8500
ID = 8500
pos = 65,66
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 2]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8505
ID = 8505
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 3]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8510
ID = 8510
pos = -150,60 ;65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3100,1]
type = Posadd
trigger1 = animelem = 7,>=0
x = 8.5

[State 3100,AfterImage]
type = AfterImage
trigger1 = AnimElem = 5
time = 30
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3100, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0; && AnimElem = 8,<=4
time = 2

[State 3100, 4]
type = ChangeState
trigger1 = animelem = 7,>=1
trigger1 = P2Dist X < 42
value = 3110

[State 3100, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 3105
ctrl = 0

;---------------------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 멈춤
[Statedef 3105]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 3105
ctrl = 0
facep2 = 0

[State 3105,1]
type = Posadd
trigger1 = time = 0
x = 15

[State 3105,1]
type = Posadd
trigger1 = time = [1,2]
x = 5

[State 3105,1]
type = Posadd
trigger1 = time = 3
x = 4

[State 3105,1]
type = Posadd
trigger1 = time = 4
trigger2 = time = 6
trigger3 = time = 8
x = 2

[State 3105,1]
type = Posadd
trigger1 = time = 5
x = 3

[State 3105,1]
type = Posadd
trigger1 = time = 7
trigger2 = time = 9
trigger3 = time = [11,12]
x = 1

[State 3105, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 강
[Statedef 3150]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3150
ctrl = 0
poweradd = -1000
facep2 = 1

[state JorDamage3, var1]
type = Varset
trigger1 = time = 0
var(20) = 0

[state JorDamage3, var2]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno >= 200 
var(20) = 1

[State 3150, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3150, 2]
type = PlaySnd
trigger1 = animelem = 2
value = 3100,1

[State 3150, Playsnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 100,1
channel = 5

[State 3150,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 35

[State 3150,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 35

[State 3150,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3150, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3150, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3150, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3150, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = f101
sprpriority = -1
pos = 24,-132
supermove = 1
bindtime = -1
ownpal = 1

[State 3150, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = f100
sprpriority = 7
pos = 24,-132
supermove = 1
bindtime = -1
ownpal = 1

[State 3600, 1]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 10
anim = f8500
ID = 8500
pos = 65,66
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 2]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8505
ID = 8505
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3600, 3]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8510
ID = 8510
pos = -150,60 ;65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3150,1]
type = Posadd
trigger1 = animelem = 7,>=0
x = 8.5

[State 3150,AfterImage]
type = AfterImage
trigger1 = AnimElem = 5
time = 30
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3150, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0; && AnimElem = 8,<=4
time = 2

[State 3150, 4]
type = ChangeState
trigger1 = animelem = 7,>=1
trigger1 = P2Dist X < 42
value = 3110

[State 3150, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 3155
ctrl = 0

;---------------------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 강 멈춤
[Statedef 3155]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 3155
ctrl = 0
facep2 = 0

[State 3155,1]
type = Posadd
trigger1 = time = 0
x = 15

[State 3155,1]
type = Posadd
trigger1 = time = [1,2]
x = 5

[State 3155,1]
type = Posadd
trigger1 = time = 3
x = 4

[State 3155,1]
type = Posadd
trigger1 = time = 4
trigger2 = time = 6
trigger3 = time = 8
x = 2

[State 3155,1]
type = Posadd
trigger1 = time = 5
x = 3

[State 3155,1]
type = Posadd
trigger1 = time = 7
trigger2 = time = 9
trigger3 = time = [11,12]
x = 1

[State 3155, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 근접
[Statedef 3110]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3110
ctrl = 0
facep2 = 0

[State 3110, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 3110,4

[State 3110,1]
type = Posadd
trigger1 = time = 0
trigger2 = time = 2
trigger3 = time = 4
trigger4 = time = 6
x = 9

[State 3110,1]
type = Posadd
trigger1 = time = 1
trigger2 = time = 3
trigger3 = time = 5
x = 8

[State 3110,1]
type = Posadd
trigger1 = time = 7
x = 16

[State 3110,1]
type = Posadd
trigger1 = time = [8,10]
x = 7

[State 3110,1]
type = Posadd
trigger1 = time = [11,12]
x = 6

[State 3110,1]
type = Posadd
trigger1 = time = [13,16]
x = 5

[State 3110,1]
type = Posadd
trigger1 = time = [17,18]
trigger2 = time = 20
x = 4

[State 3110,1]
type = Posadd
trigger1 = time = 19
x = 19

[State 3110,1]
type = Posadd
trigger1 = time = [21,24]
trigger2 = time = 27
x = 3

[State 3110,1]
type = Posadd
trigger1 = time = [25,26]
trigger2 = time = [28,29]
trigger3 = time = [31,32]
trigger4 = time = 34
x = 2

[State 3110,1]
type = Posadd
trigger1 = time = 30
trigger2 = time = 33
trigger3 = time = [35,44]
trigger4 = time = 46
trigger5 = time = [48,49]
trigger6 = time = 51
trigger7 = time = 54
trigger8 = time = 57
trigger9 = time = 60
x = 1

[State 3110, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 3110, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HT
animtype  = Hard
damage    = 0,20
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 0 && P2Dist x< 39),var(28),ifelse(P2Dist x<= 0,0,39))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -88 && var(26) < -33),var(26),ifelse(var(26)<= -88,-88-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -88 && var(25) < -33),var(25),ifelse(var(25)<= -88,-88,-33))
ignorehitpause = 1

[State 3110]
type = EnvColor
trigger1 = MoveHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3110, 4]
type = changestate
trigger1 = movehit = 1
value = 3120
ignorehitpause = 1
persistent = 0

[State 3110,ChangeState]
type = changestate 
trigger1 = moveguarded = 1
value = 3115
ignorehitpause = 1
persistent = 0

[State 3110, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 가드시
[Statedef 3115]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 3115
ctrl = 0
facep2 = 0

[State 3115, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 3110,4

[State 3115,1]
type = Posadd
trigger1 = time = 0
x = 16

[State 3115,1]
type = Posadd
trigger1 = time = [1,3]
x = 7

[State 3115,1]
type = Posadd
trigger1 = time = [4,5]
x = 6

[State 3115,1]
type = Posadd
trigger1 = time = [6,9]
x = 5

[State 3115,1]
type = Posadd
trigger1 = time = [10,11]
trigger2 = time = 13
x = 4

[State 3115,1]
type = Posadd
trigger1 = time = 12
x = 19

[State 3115,1]
type = Posadd
trigger1 = time = [14,17]
trigger2 = time = 20
x = 3

[State 3115,1]
type = Posadd
trigger1 = time = [18,19]
trigger2 = time = [21,22]
trigger3 = time = [24,25]
trigger4 = time = 27
x = 2

[State 3115,1]
type = Posadd
trigger1 = time = 23
trigger2 = time = 26
trigger3 = time = [28,37]
trigger4 = time = 39
trigger5 = time = [41,42]
trigger6 = time = 44
trigger7 = time = 47
trigger8 = time = 50
trigger9 = time = 53
x = 1

[State 3115, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 명중
[Statedef 3120]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 3120
velset = 0,0
facep2 = 0
sprpriority = 3

[State 3120, Width]
type = width
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 7
edge = 17,0

[State 3120, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 3110,4

[State 3120,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3120, 4]
type = targetstate
trigger1 = TIME = 0
value = 3125

[State 3120, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 30,-44
time = 2

[State 3120, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 28,-38
time = 5

[State 3120, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 16,0
time = 5

[State 3120, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 4+ifelse(target,Name = "CHRIS",-24,0),0
time = 9

[State 3120 1]
type = BindToTarget
trigger1 = AnimElem = 5
pos = ((target,Const(size.head.pos.y)+40)/3.2)+ifelse(target,Name = "CHRIS",-24,0),0

[State 3120,1]
type = Posadd
trigger1 = time = 0
x = 8

[State 3120,1]
type = Posadd
trigger1 = time = [1,3]
x = 7

[State 3120,1]
type = Posadd
trigger1 = time = [4,5]
x = 6

[State 3120,1]
type = Posadd
trigger1 = time = [6,9]
x = 5

[State 3120,1]
type = Posadd
trigger1 = time = [10,11]
trigger2 = time = 13
x = 4

[State 3120,1]
type = Posadd
trigger1 = time = 12
trigger2 = time = [14,17]
trigger3 = time = 20
x = 3

[State 3120,1]
type = Posadd
trigger1 = time = [18,19]
trigger2 = time = 21
x = 2

[State 3120 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3130
ctrl = 0

;--------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 명중 잡힌 상테1
[Statedef 3125]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0
facep2 = 1

[State 3125, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3125

[State 3125, 4]
type = SelfState
trigger1 = AnimTime = 0
value = 5110

;---------------------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 명중 연타 1타
[Statedef 3130]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 3130
velset = 0,0
facep2 = 0
sprpriority = 3

[State 3130,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3130,0]
type = varset
trigger1 = time = 0
fvar(18) = 0

[State 3130, 2]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
value = f5,2

[State 3130, 4]
type = targetstate
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
value = 3131

[State 3130, 4]
type = targetstate
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
value = 3133

[State 3130, 4]
type = targetstate
trigger1 = AnimElem = 6
value = 3132

[State 3130, 4]
type = targetlifeadd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
value = ifelse(var(20)=1,-10,-20)
kill = 0

[state 3130, 1]
type = HitAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
value = 1

[State 3130]
type = EnvColor
trigger1 = AnimElem = 5,=1
trigger2 = AnimElem = 10,=1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
;persistent = 0

[State 3130, 4]
type = EnvShake
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
persistent = 0
time = 14
ampl = -6
freq = 255
phase = 10
ignorehitpause = 1

[State 3130, GrabSpark]
type = Explod
trigger1 = AnimElem = 5
id = 6003
anim = f3
pos = 20,-16
sprpriority = 7
ownpal = 1
facing = 1

[State 3130, GrabSpark]
type = Explod
trigger1 = AnimElem = 10
id = 6003
anim = f3
pos = 26,-16
sprpriority = 7
ownpal = 1
facing = 1

[State 3130 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3140
ctrl = 0

;--------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 명중 연타 잡힌 상테1
[Statedef 3131]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0
facep2 = 0

[State 3131, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3131

[State 3131, 4]
type = SelfState
trigger1 = AnimTime = 0
value = 5110

;--------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 명중 연타 잡힌 상테2
[Statedef 3132]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0
facep2 = 0

[State 3132, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3132

[State 3132, 4]
type = SelfState
trigger1 = AnimTime = 0
value = 5110

;--------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 명중 연타 잡힌 상테3
[Statedef 3133]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0
facep2 = 0

[State 3133, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3133

[State 3133, 4]
type = SelfState
trigger1 = AnimTime = 0
value = 5110

;---------------------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 명중 연타 연타
[Statedef 3140]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 3140
velset = 0,0
facep2 = 0
sprpriority = 3

[State 3130, 2]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
value = f5,2

[State 3130, 4]
type = targetstate
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
value = 3131

[State 3130, 4]
type = targetstate
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
value = 3133

[State 3130, 4]
type = targetstate
trigger1 = AnimElem = 1
trigger2 = AnimElem = 6
value = 3132

[State 3130, 4]
type = targetlifeadd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
value = ifelse(var(20)=1,-10,-20)
kill = 0

[state 3130, 1]
type = HitAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
value = 1

[State 3130]
type = EnvColor
trigger1 = AnimElem = 5,=1
trigger2 = AnimElem = 10,=1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
;persistent = 0

[State 3130, 4]
type = EnvShake
trigger1 = AnimElem = 5
trigger2 = AnimElem = 10
persistent = 0
time = 14
ampl = -6
freq = 255
phase = 10
ignorehitpause = 1

[State 3130, GrabSpark]
type = Explod
trigger1 = AnimElem = 5
id = 6003
anim = f3
pos = 20,-16
sprpriority = 7
ownpal = 1
facing = 1

[State 3130, GrabSpark]
type = Explod
trigger1 = AnimElem = 10
id = 6003
anim = f3
pos = 26,-16
sprpriority = 7
ownpal = 1
facing = 1

[State 3140,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3140,0]
type = varadd
trigger1 = time = 0
fvar(18) = 1

[State 3140,End]
type = ChangeState
trigger1 = AnimTime = 0 && fvar(18) > 4
value = 3160
ctrl = 0

[State 3140,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 3140

;---------------------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 명중 막타
[Statedef 3160]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 3160
velset = 0,0
facep2 = 0
sprpriority = 3

[State 3010, 7]
type = Explod
trigger1 = AnimElem = 8,>=0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 8]
type = Explod
trigger1 = AnimElem = 8,>=0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 9]
type = Explod
trigger1 = AnimElem = 8,>=0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 10]
type = Explod
trigger1 = AnimElem = 8,>=0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 11]
type = Explod
trigger1 = AnimElem = 8,>=0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 12]
type = Explod
trigger1 = AnimElem = 8,>=0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3160, EnvShake]
type = screenbound
trigger1 = time >= 0
value = 1
movecamera = 0,0

[State 3120, Width]
type = width
trigger1 = AnimElem = 9, >= 0 && AnimElem = 9, <= 17
edge = 57,0

[State 3160, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 250,2

[State 3160, 2]
type = PlaySnd
trigger1 = animelem = 9
value = 3020,2

[State 3160, 2]
type = PlaySnd
trigger1 = animelem = 4	;time = 5
value = 3160,1

[State 3160, 4]
type = targetstate
trigger1 = AnimElem = 2
value = 3131

[State 3160, 4]
type = targetstate
trigger1 = AnimElem = 1
value = 3132

[State 3160, 4]
type = targetstate
trigger1 = AnimElem = 8
value = 3161

[State 3160, 4]
type = targetstate
trigger1 = AnimElem = 9
value = 3162

[State 3160, 4]
type = TargetBind
trigger1 = animelem = 9
pos = 60,0

[State 3160,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3160, 4]
type = targetlifeadd
trigger1 = AnimElem = 8
value = ifelse(var(20)=1,-30,-60)
kill = 1

[state 3160, 1]
type = HitAdd
trigger1 = AnimElem = 8
value = 1

[State 3160]
type = EnvColor
trigger1 = AnimElem = 8,=1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3160, 4]
type = EnvShake
trigger1 = AnimElem = 8
persistent = 0
time = 20
ampl = -8
freq = 255
phase = 10
ignorehitpause = 1

[State 3160, GrabSpark]
type = Explod
trigger1 = AnimElem = 8
id = 6003
anim = f3
pos = 36,-8
sprpriority = 7
ownpal = 1
facing = 1

[State 3160,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 명중 막타맞는 1
[Statedef 3161]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0
facep2 = 0

[State 3161, 1]
type = posadd
trigger1 = time = 0
x = -16	;-12

[State 3161, 1]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimexist(11252)
value = 11252

[State 3161, 1]
type = ChangeAnim2
trigger1 = time = 0 && !SelfAnimexist(11252)
value = 3161

[State 3161, 4]
type = SelfState
trigger1 = AnimTime = 0
value = 5110

;--------------------------------------------------------------
;말타기 발칸 펀치(馬?り Vulcan Punch) 약 명중 막타맞는 2
[Statedef 3162]
type = A
movetype = H
physics = N
velset = 0
sprpriority = 0
facep2 = 0

[State 3162, 1]
type = ChangeAnim
trigger1 = (time = [0,40]) && SelfAnimexist(11262)
value = 11262

[State 3162, 1]
type = ChangeAnim2
trigger1 = (time = [0,40]) && !SelfAnimexist(11262)
value = 3162

[State 3162, 1]
type = posadd
trigger1 = time = 1
x = -11

[State 3162, 1]
type = posadd
trigger1 = time = [2,3]
x = -8

[State 3162, 1]
type = posadd
trigger1 = time = 4
x = -6

[State 3162, 1]
type = posadd
trigger1 = time = [5,6]
x = -5

[State 3162, 1]
type = posadd
trigger1 = time = 7
x = -4

[State 3162, 1]
type = posadd
trigger1 = time = [8,9]
x = -3

[State 3162, 1]
type = posadd
trigger1 = time = [10,12]
trigger2 = time = 14
x = -2

[State 3162, 1]
type = posadd
trigger1 = time = 13
trigger2 = time = [15,16]
trigger3 = time = [18,19]
trigger4 = time = 21
trigger5 = time = 25
x = -1

[State 3275, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 3163

;---------------------------------------------------------------------------
[Statedef 3163]
type    = L
movetype= H
physics = N
ctrl = 0

[State 3163,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3163, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 3163, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 3163, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3163, 2]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimexist(5111)
value = 5111

[State 3163, 2]
type = ChangeAnim
trigger1 = time = 0 && !SelfAnimexist(5111)
value = 5112;5110

[State 3163, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 3163, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 3163, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 3163, 11] ;If just died
type = selfState
triggerall = alive
trigger1 = time = 50
value = 5120

[State 3163, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 3163, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 3163, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 3163, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
;갤럭티카 팬텀(Galactica Phantom) MAX
[Statedef 3200]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3200
ctrl = 0
facep2 = 1

[State 3200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1200,1
channel = 4

[State 3200, 1]
type = Explod
trigger1 = AnimElem = 12
trigger2 = AnimElem = 12,=1
trigger3 = AnimElem = 12,=3
trigger4 = AnimElem = 12,=5
anim = 3290
ID = 3290
sprpriority = 4
postype = p1
pos = -56,-68
removetime = -2
ownpal = 1

[State 3200, 1]
type = Explod
trigger1 = AnimElem = 13
anim = 3290
ID = 3290
sprpriority = 4
postype = p1
pos = 8,-88
removetime = -2
ownpal = 1

[State 3200, 2]
type = PlaySnd
trigger1 = AnimElem = 11,=1
value = 3200,1

[State 3200, 2]
type = PlaySnd
trigger1 = AnimElem = 12,=2
value = 3200,4

[State 3200, 2]
type = PlaySnd
trigger1 = MoveHit = 1
value = 3200,5
ignorehitpause = 1
persistent = 0

[State 3200,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 29

[State 3200,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 29

[State 3100,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3100, 1]
type = null ;SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
;poweradd = -2000
anim = -1

[State 3100, 0]
type = null ;Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3100, 6]
type = null ;Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3100, SuperSpark1]
type = null ;Explod
trigger1 = Time = 1
anim = f103
sprpriority = -1
pos = -55,-80
supermove = 1
bindtime = -1
ownpal = 1

[State 3100, SuperSpark2]
type = null ;Explod
trigger1 = Time = 1
anim = f102
sprpriority = 7
pos = -55,-80
supermove = 1
bindtime = -1
ownpal = 1

[State 3700, 1]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 6
anim = f8600
ID = 8600
pos = -3,68
postype = Left
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
supermovetime = 50
pausemovetime = 50
scale = .5,.5
sprpriority = 9998
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3700, 2]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8605
ID = 8605
pos = -5,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9999
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3700, 3]
type = Explod
triggerall= prevstateno >= 1000
trigger1 = time = 0
anim = f8610
ID = 8610
pos = -150,65
postype = Left
facing = 1
vfacing = 1
bindtime = 65
vel = 0,0
accel = 0,0
random = 0,0
removetime = 58
supermovetime = 65
pausemovetime = 65
scale = 1.5,1
sprpriority = 9997
ownpal = 1
trans = addalpha
alpha = 256, 135
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 3000, 13]
type = PalFX
triggerall= prevstateno >= 1000
triggerall = time <= 10
trigger1 = Time%2
time = 1
add = 256,0,0
mul = 256,0,0
sinadd = 256,0,0,1
invertall = 0
color = 256

[State 3200, 4]
type = posadd
trigger1 = AnimElem = 7 || AnimElem = 8 || AnimElem = 17 || AnimElem = 18 || AnimElem = 19 || AnimElem = 20 || AnimElem = 21
trigger2 = Time = 95
x = 8

[State 3200, 4]
type = posadd
trigger1 = Time = 77
x = 20

[State 3200, 4]
type = posadd
trigger1 = Time = 78
x = 16

[State 3200, 4]
type = posadd
trigger1 = Time = 79
x = 14

[State 3200, 4]
type = posadd
trigger1 = Time = 80
x = 11

[State 3200, 4]
type = posadd
trigger1 = Time = 81
x = 9

[State 3200, 4]
type = posadd
trigger1 = Time = 82
x = 8

[State 3200, 4]
type = posadd
trigger1 = Time = 83
x = 7

[State 3200, 4]
type = posadd
trigger1 = Time = 84
x = 13

[State 3200, 4]
type = posadd
trigger1 = Time = 85
x = 4

[State 3200, 4]
type = posadd
trigger1 = Time = 86
x = 12

[State 3200, 4]
type = posadd
trigger1 = Time = 87
x = 3

[State 3200, 4]
type = posadd
trigger1 = Time = [88,89]
trigger2 = Time = 91
x = 2

[State 3200, 4]
type = posadd
trigger1 = Time = 90
x = 10

[State 3200, 4]
type = posadd
trigger1 = Time = [92,94]
trigger2 = Time = 96
trigger3 = Time = 98
x = 1

[State 3200, 2]
type = ReversalDef
trigger1 = p2Movetype != H
trigger1 = AnimElem = 8, >= 0 && AnimElem = 14, <= 4
reversal.attr = SCA, NAP, SAP, HAP
numhits = 0
pausetime = 7,10
sparkno = s6005+ifelse(var(54) = 2,1,0)+ifelse(var(54) = 3,2,0)
;sparkxy = 20,-70
hitsound = 6,0

[State 3200, movetype]
type = StateTypeSet
trigger1 = AnimElem = 15
movetype = I

[State 3200,0]
type = NotHitBy
trigger1 = AnimElem = 12
value = SCA
time = 13

[State 3200,1]
type = HitBy
trigger1 = AnimElem = 12
value = SCA, NT, ST, HT
time = 13

[State 3010, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3230 , 1]
type=HitDef
trigger1 = AnimElem = 14
trigger1 = var(13) = 0 || var(37) = 1
attr=S, HA
animtype=Hard
damage= 220,20
;guardflag=H
getpower = 0,0
pausetime = var(45)+4,var(46)+4
guard.pausetime = var(45)+4,var(47)+4
sparkxy= 0,0
sparkno = s60039999
guard.sparkno = s60079999
hitsound   = 5,4
guardsound = 6,0
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
yaccel = fvar(12)
p2stateno = 3271
envshake.time = 10
envshake.ampl = -8
palfx.time = 35
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0 

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 0 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 0,0,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -57),var(26),ifelse(var(26)<= -96,-96-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -57),var(25),ifelse(var(25)<= -96,-96,-57))
ignorehitpause = 1

[State 3200]
type = EnvColor
trigger1 = MoveHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 체인드라이브 피니쉬맞는모습
; HITA_SHAKE
[Statedef 3271]
type    = A
movetype= H
physics = N
velset = 0,0

[State 3271, 0]
type = turn
triggerall = time = 0
trigger1 = P2dist X < 0

;; fix run sound bug
;[State 3271, stop run sound]
;type = StopSnd
;trigger1 = 1
;;trigger1 = PrevStateNo = 100 || PrevStateNo = 10044
;channel = 4

[State 3271, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 3271, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 3271, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 3271, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 3271, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 3272

[State 3271, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 3271, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 3271, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 3272]
type    = A
movetype= H
physics = N
ctrl = 0

;[State 3272, 1]
;type = VelAdd;Gravity
;trigger1 = 1
;y = GetHitVar(yaccel)

[State 1122, 1]
type = VelAdd
trigger1 = 1
y = 0.523

[State 3272, 2]
type = VelSet
trigger1 = Time = 0
x = -7.1
y = -5.46

[State 3272, 4]
type = ChangeState
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 0  ;.
value = 3274 ;HITA_FALL

[State 3272, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3273 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 3273]
type    = A
movetype= H
physics = N

[State 3273, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 3273, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 3273, 4]
type = ChangeState
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 0  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 3274 ;HITA_FALL
;------------------------------------------------------------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 3274]
type    = A
movetype= H
physics = N

[State 812, ANIM1]
type = changeanim
triggerall = selfanimexist(1126222)
Triggerall = time = 0
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5061

[State 812, ANIM2]
type = changeanim
triggerall = !selfanimexist(1126222)
Triggerall = Time = 0
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 3274, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 3274, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 3274, 6]
type = ChangeState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 3275 ;HIT_BOUNCE

;---------------------------------------------------------------------------
[Statedef 3275]
type    = S
movetype= H
physics = N

[State 3275, EnvShake]
type = velset
trigger1 = time = 0
;trigger1 =  vel x > 0
x = -2.4
y = 0

[State 3275, EnvShake]
type = velset
trigger1 = time = 0
trigger1 =  vel x < 0
x = -2.4
y = 0

[State 3275, EnvShake]
type = nothitby
trigger1 = Time >= 0
value = SCA
time = 1

[State 3275, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 3275, Var]
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 1125, 2]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimexist(11262)
value = 11262

[State 1125, 2]
type = ChangeAnim2
trigger1 = time = 0 && !SelfAnimexist(11262)
value = 11252+ifelse(!SelfAnimexist(11262),1,0)

;[State 812, ANIM1]
;type = changeanim
;Trigger1 = time = 0 && SelfAnimexist(5061)
;value = 5161

;[State 812, ANIM1]
;type = changeanim
;Trigger1 = time = 0 && authorname = "zzzasd"
;value = 11262

[State 3275, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3275, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 3275, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = sysvar(1) <= 10

[State 3275, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 3275, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, 0 ;Hit ground
;value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)
;channel = 3

[State 3275, 12]
type = ChangeState
trigger1 = Time = 20
value = 3276

[State 3275, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
[Statedef 3276]
type    = L
movetype= H
physics = N
ctrl = 0

[State 3276, EnvShake]
type = screenbound
trigger1 = Time >= 0
value = 1
movecamera = 1,0

[State 3276, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 3276, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 3276, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1125, 2]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimexist(11262)
value = 5111

[State 1125, 2]
type = ChangeAnim
trigger1 = time = 0 && !SelfAnimexist(11262)
value = 5110

[State 3276, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 3276, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 3276, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 3276, 11] ;If just died
type = selfState
triggerall = alive
trigger1 = time = 50
value = 5120

[State 3276, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 3276, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 3276, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 3276, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
;말타기 갤럭티카 팬텀(馬?り MAX2
[Statedef 3300]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3300
ctrl = 0
facep2 = 1

[State 3300, 2]
type = PlaySnd
trigger1 = time = 1
value = 3500,4

[State 3330, 2]
type = PlaySnd
trigger1 = animelem = 2
value = 3100,1

[State 3330, Playsnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 100,1
channel = 5

[State 3300, Playsnd]
type = PlaySnd
trigger1 = AnimElem = 20
value = 1500,4

[State 3300, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
poweradd = -2000
anim = -1

[State 3300, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3300, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3300, SuperSpark1]
type = Explod
trigger1 = Time = 3
anim = f105
sprpriority = -1
pos = 24,-132
supermove = 1
bindtime = -1
ownpal = 1

[State 3300, SuperSpark2]
type = Explod
trigger1 = Time = 3
anim = f104
sprpriority = 7
pos = 24,-132
supermove = 1
bindtime = -1
ownpal = 1

[State 3300,1]
type = Posadd
trigger1 = animelem = 7,>=0
x = 8.5

[State 3300,AfterImage]
type = AfterImage
trigger1 = AnimElem = 5
time = 30
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3300, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0; && AnimElem = 8,<=4
time = 2

[State 3300, 4]
type = ChangeState
trigger1 = animelem = 7,>=1
trigger1 = P2Dist X < 42
value = 3310

[State 3300, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 3305
ctrl = 0

;---------------------------------------------------------------------------
;말타기 갤럭티카 팬텀(馬?り MAX2 멈춤
[Statedef 3305]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 3305
ctrl = 0
facep2 = 0

[State 3305,1]
type = Posadd
trigger1 = time = 0
x = 15

[State 3305,1]
type = Posadd
trigger1 = time = 1
x = 6

[State 3305,1]
type = Posadd
trigger1 = time = [2,3]
x = 4

[State 3305,1]
type = Posadd
trigger1 = time = 4
x = 3

[State 3305,1]
type = Posadd
trigger1 = time = [5,7]
x = 2

[State 3305,1]
type = Posadd
trigger1 = time = [8,10]
trigger2 = time = 12
x = 1

[State 3305, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;말타기 갤럭티카 팬텀(馬?り MAX2 근접
[Statedef 3310]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3310
ctrl = 0
facep2 = 0

[State 3310, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 3110,4

[State 3310,1]
type = Posadd
trigger1 = time = 0
trigger2 = time = 2
trigger3 = time = 4
trigger4 = time = 6
x = 9

[State 3310,1]
type = Posadd
trigger1 = time = 1
trigger2 = time = 3
trigger3 = time = 5
trigger4 = time = 8
x = 8

[State 3310,1]
type = Posadd
trigger1 = time = 7
x = 16

[State 3310,1]
type = Posadd
trigger1 = time = 9
trigger2 = time = 11
x = 7

[State 3310,1]
type = Posadd
trigger1 = time = 10
trigger2 = time = 13
x = 6

[State 3310,1]
type = Posadd
trigger1 = time = 12
trigger2 = time = [14,15]
x = 5

[State 3310,1]
type = Posadd
trigger1 = time = [16,18]
trigger2 = time = 21
x = 4

[State 3310,1]
type = Posadd
trigger1 = time = 19
x = 20

[State 3310,1]
type = Posadd
trigger1 = time = 20
trigger2 = time = 22
trigger3 = time = [24,25]
x = 3

[State 3310,1]
type = Posadd
trigger1 = time = 23
trigger2 = time = [26,31]
trigger3 = time = 33
trigger4 = time = 36
x = 2

[State 3310,1]
type = Posadd
trigger1 = time = 32
trigger2 = time = [34,35]
trigger3 = time = [37,41]
trigger4 = time = [43,45]
trigger5 = time = 47
trigger6 = time = 49
trigger7 = time = 51
trigger8 = time = 53
trigger9 = time = 55
trigger10 = time = 59
trigger11 = time = 62
x = 1

[State 3310, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 3310, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HT
animtype  = Hard
damage    = 0
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,0
hitsound = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = f(ifelse(MoveHit = 1,2,42))
pos = Ceil(ifelse((P2Dist x> 0 && P2Dist x< 39),var(28),ifelse(P2Dist x<= 0,0,39))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-84-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -88 && var(26) < -33),var(26),ifelse(var(26)<= -88,-88-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -88 && var(25) < -33),var(25),ifelse(var(25)<= -88,-88,-33))
ignorehitpause = 1

[State 3310]
type = EnvColor
trigger1 = MoveHit = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3310, 4]
type = changestate
trigger1 = movehit = 1
value = 3320
ignorehitpause = 1
persistent = 0

[State 3310,ChangeState]
type = changestate 
trigger1 = moveguarded = 1
value = 3315
ignorehitpause = 1
persistent = 0

[State 3310, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Power Charge (start)
[Statedef 310]
type = S
movetype = I
physics = S
anim = 310
velset = 0
ctrl = 0

[State 301, snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200,1
channel = 0

[State 301, snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = f21,0
channel = 2

[State 730, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 311

; Power up
[Statedef 311]
type = S
movetype = I
physics = S
anim = 311

[State 705, 2]
type = Explod
trigger1 = time = 0
;trigger1 = ((Time + 12) % 12) = 0
anim = f130
ID = 130
sprpriority = 3
postype = p1
pos = -15,0
bindtime = -1
removeongethit = 1

[State 735, 1]
type = ChangeState
trigger1 = command != "hold_a"
trigger3 = command != "hold_y"
value = 312

[State 186, 1]
type = PowerAdd
trigger1 = Time = [0,12]
value = 8

[State 186, 2]
type = ChangeState
trigger1 = Power >= 3000
value = 313

[State 735, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 311

; Power up (end)
[Statedef 312]
type = S
movetype = I
physics = S
anim = 312

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 130

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 2

[State 186, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Power up (maxed out)
[Statedef 313]
type = S
movetype = I
physics = S
anim = 312

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 1
ID = 130

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 301, snd]
type = StopSnd
trigger1 = Time = 0
channel = 2

[State 741, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;말타기 갤럭티카 팬텀(馬?り MAX2 가드시
[Statedef 3315]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 3315
ctrl = 0
facep2 = 0

[State 3315, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 3110,4

[State 3315,1]
type = Posadd
trigger1 = time = 0
x = 16

[State 3315,1]
type = Posadd
trigger1 = time = [1,3]
x = 7

[State 3315,1]
type = Posadd
trigger1 = time = [4,5]
x = 6

[State 3315,1]
type = Posadd
trigger1 = time = [6,9]
x = 5

[State 3315,1]
type = Posadd
trigger1 = time = [10,11]
trigger2 = time = 13
x = 4

[State 3315,1]
type = Posadd
trigger1 = time = 12
x = 19

[State 3315,1]
type = Posadd
trigger1 = time = [14,17]
trigger2 = time = 20
x = 3

[State 3315,1]
type = Posadd
trigger1 = time = [18,19]
trigger2 = time = [21,22]
trigger3 = time = [24,25]
trigger4 = time = 27
x = 2

[State 3315,1]
type = Posadd
trigger1 = time = 23
trigger2 = time = 26
trigger3 = time = [28,37]
trigger4 = time = 39
trigger5 = time = [41,42]
trigger6 = time = 44
trigger7 = time = 47
trigger8 = time = 50
trigger9 = time = 53
x = 1

[State 3315, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;말타기 갤럭티카 팬텀(馬?り MAX2 명중
[Statedef 3320]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 3320
velset = 0,0
facep2 = 0
sprpriority = 3

[State 3320, 긽긤깒?봶똧뚼됈]
type = Explod
trigger1 = AnimElem = 1,=1
anim = 3560
ID = 3560
sprpriority = -12
postype = back
pos = 0,0;-5,-3
vel = 0, 0
removetime = -1
ownpal = 1
bindtime = -1

[State 3320, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 3110,4

[State 3320,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3320, 4]
type = targetstate
trigger1 = TIME = 0
value = 3125

[State 3320, 4]
type = TargetBind
trigger1 = animelem = 1
pos = 30,-44
time = 2

[State 3320, 4]
type = TargetBind
trigger1 = animelem = 2
pos = 28,-38
time = 5

[State 3320, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 16,0
time = 5

[State 3320, 4]
type = TargetBind
trigger1 = animelem = 4
pos = 4+ifelse(target,Name = "CHRIS",-24,0),0
time = 19

;[State 3320 1]
;type = BindToTarget
;trigger1 = AnimElem = 5
;pos = ((target,Const(size.head.pos.y)+40)/3.2)+ifelse(target,Name = "CHRIS",-24,0),0

[State 3320,1]
type = Posadd
trigger1 = time = [0,1]
x = 8

[State 3320,1]
type = Posadd
trigger1 = time = 2
trigger2 = time = 4
x = 7

[State 3320,1]
type = Posadd
trigger1 = time = 3
trigger2 = time = 6
x = 6

[State 3320,1]
type = Posadd
trigger1 = time = 5
trigger2 = time = [7,8]
x = 5

[State 3320,1]
type = Posadd
trigger1 = time = [9,12]
x = 4

[State 3320,1]
type = Posadd
trigger1 = time = [13,17]
trigger2 = time = 19
x = 3

[State 3320,1]
type = Posadd
trigger1 = time = 18
trigger2 = time = [20,23]
trigger3 = time = [25,26]
trigger4 = time = 30
x = 2

[State 3320,1]
type = Posadd
trigger1 = time = 24
trigger2 = time = [27,29]
x = 1

[State 3320 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3330
ctrl = 0

;---------------------------------------------------------------------------
;말타기 갤럭티카 팬텀(馬?り MAX2 명중 막타
[Statedef 3330]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 3330
velset = 0,0
facep2 = 0
sprpriority = 3

[State 3360, 2]
type = RemoveExplod
trigger1 = AnimElem = 21,=3
ID = 3560
ignorehitpause = 1

[State 3010, 7]
type = Explod
trigger1 = AnimElem = 12,>=0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 8]
type = Explod
trigger1 = AnimElem = 12,>=0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 9]
type = Explod
trigger1 = AnimElem = 12,>=0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 10]
type = Explod
trigger1 = AnimElem = 12,>=0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 11]
type = Explod
trigger1 = AnimElem = 12,>=0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 12]
type = Explod
trigger1 = AnimElem = 12,>=0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3330, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 10, <= 4
edge = 17,0

[State 3330, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 3330,1

[State 3330, 2]
type = PlaySnd
trigger1 = animelem = 10
value = 3330,5

[State 3330, 2]
type = PlaySnd
trigger1 = animelem = 12;원렌 이건데 왠지 느낌이 느려서;13
value = 3020,2

[State 3330, 1]
type = Explod
trigger1 = AnimElem = 12,=1
anim = 3390
ID = 3390
sprpriority = 4
postype = p1
pos = 32,0
removetime = -2
ownpal = 1

[State 3330,2]
type = PlayerPush
trigger1 = AnimElem = 15,<0
value = 0

[State 3330, Shake]
type = EnvShake
trigger1 = AnimElem = 12
time = 20
ampl = -8

[State 3330, 4]
type = targetlifeadd
trigger1 = AnimElem = 13
value = -588

[State 3330 1]
type = BindToTarget
trigger1 = AnimElem = 1
pos = ((target,Const(size.head.pos.y)+40)/3.2)+ifelse(target,Name = "CHRIS",-24,0),0

[State 3330 1]
type = TargetBind
trigger1 = AnimElem = 13
pos = -4,-20

[State 1200, 4]
type = targetstate
trigger1 = AnimElem = 13
value = 3340
ignorehitpause = 0
persistent = 0

[State 3330 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
;랄프 02 MAX2 막타 맞는건데 대충했다 구할길이 없다;
[Statedef 3340]
type = A
movetype = H
physics = N
velset = 0, 0
facep2 = 1

[State 3340,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3340 1] 
type = ChangeAnim
trigger1 = Time = 0
value = 5979

[State 3340,VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = -19.8;-20.8

[State 3340,VelAdd]
type = VelAdd
trigger1 = Time > 0
y = .2;.21	;0.523

[State 3340,SelfState]
type = ChangeState
trigger1 = Pos Y >= -16 && Vel Y > 0	;Pos Y >= -16 && Vel Y > 0
value = 3341

;--------------------------------------------------------------
;암흑지옥떨구기 MAX 마지막 잡힌 상테3
[Statedef 3341]
type = A
movetype = H
physics = N
velset = 0, 0

[State 3341, 10]
type = Turn
trigger1 = Time = 0

[State 3341, 10]
type = PlaySnd
trigger1 = Time = 0
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 3341, 13]
type = PlaySnd
triggerall = alive
trigger1 = Time = 0
value = 11,2
channel = 3

[State 3341, Shake]
type = EnvShake
trigger1 = Time = 0
time = 20
ampl = -8

[State 3341,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3341, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3341,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100+ifelse(SelfAnimexist(5104),4,0)

[State 3341,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 3342

;--------------------------------------------------------------
;암흑지옥떨구기 MAX 마지막 잡힌 상테4
[Statedef 3342]
type = A
movetype = H
physics = N
velset = 0, 0

[State 3342,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3342,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5160+ifelse(SelfAnimexist(5164),4,0)

[State 3342,VelSet]
type = VelSet
trigger1 = Time = 0
x = -1.6
y = -7.4

[State 3342,VelAdd]
type = VelAdd
trigger1 = 1
y = .6

[State 3342,SelfState]
type = SelfState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
;화면멈춤소스 바리바리막타
[Statedef 3600]
ctrl = 0
anim = 3600

[State 3600, 1]
type = Pause
trigger1 = time = [1,12]
time = 1

[State 3600, 2]
type = DestroySelf
trigger1 = time = 12|roundstate != 2

;---------------------------------------------------------------------------
;던지기후 충격파 언블록
[Statedef 3605]
ctrl = 0
anim = 3600

[State 810, GrabSpark]
type = Explod
trigger1 = time = 0
id = 1595
anim = f62
pos = 0,0
sprpriority = 2
ownpal = 1
postype = P2

[State 3605, 2]
type = DestroySelf
trigger1 = AnimTime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;던지기후 충격파 바리바리막타
[Statedef 3610]
ctrl = 0
anim = 3600

[State 1020, GrabSpark]
type = Explod
trigger1 = time = 0
id = 1596
anim = f62
pos = 0,0
sprpriority = 3
ownpal = 1
removeongethit = 1
removetime = 23
postype = P2

[State 1020, GrabSpark]
type = Explod
trigger1 = time = 0
id = 1597
anim = f62
pos = 0,0
sprpriority = -2
ownpal = 1
removeongethit = 1
removetime = 23
postype = P2

[State 3610, 2]
type = DestroySelf
trigger1 = AnimTime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Initialize (at the start of the round)라운드포즈결정
[Statedef 5900]
type = S

[State 5900, 1]
type = VarRangeSet
trigger1 = roundno = 1
first = 0
last = 16
value = 0

[State 5900, 1]
type = VarRangeSet
trigger1 = roundno = 1
first = 18
last = 59
value = 0

;[State 5900, 1] ;Clear all int variables 크리스변신모드다음라운드까지유지
;type = VarRangeSet
;trigger1 = roundno = 1
;value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundno = 1
fvalue = 0

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, 3]
type = ChangeState
trigger1 = roundno >= 2
value = 192

;---------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
; KOF safe landing
; 낙법
[Statedef 5200]
type = S
movetype = I
physics = S
anim = 5200
poweradd=0
facep2 = 1

[State 5200, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 5200,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5200,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 5200,1

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5201, 3]
type = PosSet
trigger1 = Time >= 0
y = 0

[State 5200,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 5200,2]
type = Posadd
trigger1 = Time = 0
x = -10;예측수치

[State 5200,2]
type = Posadd
trigger1 = Time = 1
x = -8

[State 5200,2]
type = Posadd
trigger1 = Time = [2,3]
x = -6

[State 5200,2]
type = Posadd
trigger1 = Time = 4
x = -4

[State 5200,2]
type = Posadd
trigger1 = Time = [5,6]
x = -3

[State 5200,2]
type = Posadd
trigger1 = Time = [7,9]
x = -2

[State 5200,2]
type = Posadd
trigger1 = Time = [10,12]
trigger2 = Time = 14
trigger3 = Time = 16
trigger4 = Time = 20
x = -1

[State 5200,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 가드KO 막았을때
;------------------------ 
[Statedef 5950]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0, 0

[State 5950,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5950, 1]
type = ChangeAnim
trigger1 = HitOver!
value = ifelse(PrevStateNo = 152,151,150)

[State 5950, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5950, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0
y = 0

[State 5950, 1]
type = ChangeAnim
trigger1 = HitOver && anim != 5950
value = 5950

;[State -3,PlaySnd]
;type = PlaySnd
;trigger1 = anim = 5950
;trigger1 = AnimElem = 1,=0
;value = 5950+Var(39)*10000, 0

[State 5950,End]
type = ChangeState
trigger1 = anim = 5950 && AnimElem = 4
value = 5150
ctrl = 0

;---------------------------------------------------------------------
; 가드KO 기본기때
;------------------------ 
[Statedef 5951]
type = S
movetype = H
physics = S
ctrl = 0
;anim = 5950
velset = 0, 0

[State 5951,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5951, 1]
type = HitVelSet
trigger1 = Time = 0
x = 0

[State 5951, 2]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 5950, 1]
type = ChangeAnim
trigger1 = anim != 5950
value = 5950

;[State -3,PlaySnd]
;type = PlaySnd
;trigger1 = anim = 5950
;trigger1 = AnimElem = 1,=0
;value = 5950+Var(39)*10000, 0

[State 5951,End]
type = ChangeState
trigger1 = AnimElem = 10
value = 5150
ctrl = 0

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 5]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = PrevStateNo = 5950
value = 5950
elem = 4

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;--------------------------------------------------
;Dizzy Animation
;--------------------------------------------------

; Dizzy Mode(shaking)
[Statedef 5300]
type    = A
movetype= H
physics = N

[State 5300, 1]
type = Varset
trigger1 = time = 0
var(57) = 0

[State 5300, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5301

[State 5300, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

[State 5300, 4]
type = Nothitby
trigger1 = 1
value = SCA

;-----------------------------
; Dizzy Mode(fall through air)
[Statedef 5301]
type    = A
movetype= H
physics = N
anim = 5050

[State 5301, 1]
type = Veladd
trigger1 = Time = 0
trigger1 = vel y = 0
y = -6

[State 5301, 1];reduce speed if vel x is too large
type = Velmul
trigger1 = vel x < -5
x = .95

[State 5301, 2]
type = Gravity
trigger1 = 1

[State 5301, 3] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5302

[State 5301, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 5301, 5]
type = pause
trigger1 = timemod = 2,0
trigger1 = time <= 10
time = 1

;-------------------
; Dizzy Mode(Bounce)
[Statedef 5302]
type    = L
movetype= H
physics = N

[State 5302, 1.1]
type = Velset
trigger1 = time = 0
y = -5.5

[State 5302, 1.2]
type = Velmul
trigger1 = timemod = 2,3
trigger1 = time > 3
x = .98

[State 5302, 2.1]
type = Changeanim
trigger1 = time < 3
value = 5160

[State 5302, 3.1]
type = posset
trigger1 = time = 0
y = 20

[State 5302, 4]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 5302, 5]
type = GameMakeAnim
trigger1 = Time = 0
value = 60
pos = 0, -20
under = 1

[State 5302, 6]
type = posfreeze
trigger1 = time < 3

[State 5302, 7]
type = Gravity
trigger1 = time > 3

[State 5302, 8]
type = ChangeState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5303

;---------------------
; Dizzy Mode(lie down)
[Statedef 5303]
type    = L
movetype= H
physics = N
velset = 0,0
anim = 5110

[State 5303, 2]
type = posset
trigger1 = time = 0
y = 0

[State 5303, 6]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 5303, 7]
type = GameMakeAnim
trigger1 = Time = 0
value = 60
pos = 0, 0
under = 1

[State 5303, 3.1] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = Time = 0
value = 5150

[State 5303, 3.2] ;If alive
type = ChangeState
triggerall = alive
trigger1 = Time = 25
value = 5304

[State 5303, 16]
type = Nothitby
trigger1 = 1
value = SCA

;------------------
; Dizzy Mode(getup)
[Statedef 5304]
type    = L
movetype= I
physics = N
anim = 5120
velset = 0,0

[State 5304, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5304, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 5305
ctrl = 0

; Dizzy Mode
[Statedef 5305]
type    = S
movetype= H
physics = S
anim = 5300
ctrl = 0

[State 5305, 1];back to normal
type = ChangeState
trigger1 = Time = 240
value = 0
ctrl = 1

[State 5305, 4]
type = Playsnd
trigger1 = Time = 0
value = f5300,0

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[Statedef -2]
;---------------------------------------------------------------------------

;피니쉬효과
[State -2, 1]
type = helper
trigger1 = winko && Numhelper(5600) = 0 && Stateno = [900,4999]
helpertype = normal
id = 5600
pos = 1000,1000
name = "KO"
stateno = 5600
keyctrl = 0
ignorehitpause = 1
persistent = 0

[State -2, 2]
type = helper
trigger1 = winko && Numhelper(5600) = 0 && Stateno = [0,899]
helpertype = normal
id = 5600
pos = 1000,1000
name = "KO"
stateno = 5650
keyctrl = 0
persistent = 0

[State -2, 2]
type = helper
trigger1 = winko && Numhelper(5610) = 0 && matchover
helpertype = normal
id = 5610
pos = 1000,1000
name = "KO"
stateno = 5610
keyctrl = 0
persistent = 0

[State -2, 2]
type = varset
trigger1 = roundstate = 0 
var(52) = 1

[State -1, 2]
type = null ;ChangeState
triggerall = loseko && PrevStateNo = 150 || PrevStateNo = 151
trigger1 = PrevStateNo = 150 || PrevStateNo = 151
value = 5950

[State -2, 2]
type = null ;ChangeState
triggerall = loseko && (P2StateNo != [800,999]) && (P2StateNo != [0,199]) && Pos Y >= 0 && SelfAnimexist(5950)
trigger1 = var(54) = 1 || var(54) = 2
value = 5951

;--------------------------------------------------------------------------------------------------------------------
[State -2, var(13)]
type = varset
trigger1 = ((StateNo = [200,249]) || (StateNo = [400,439]) || (StateNo = [600,649])) && movehit = 1 && P2statetype = A
var(13) = 1
ignorehitpause = 1

[State -2, var(13)]
type = VarSet
trigger1 = p2stateno = 5110 || p2stateno = 5045
trigger2 = p2stateno = [0,199]
var(13) = 0
ignorehitpause = 1

[State -2, var(16)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
var(16) = 0
ignorehitpause = 1

[State -3, 0]
type = VarSet
trigger1 = p2stateno = 5000
trigger2 = p2stateno = 5010
v = 7
value = 0

;----------------------------------------------------------------------------------------------

;Sorrow edge' Throw limitter-------------------------------
[State -2, throwa]
type = VarSet
trigger1 = HitDefAttr = SCA, NA, AP && MoveContact
trigger2 = StateNo = [1000,1090]
trigger3 = P2StateNo = [120,190]
var(4) = 15
ignorehitpause = 1 

[State -2, throwb]
type = VarAdd
trigger1 = var(4) >= 1
var(4) = -1
ignorehitpause = 1 

;Modified it a bit for special throws
[State -2, throwa]
type = VarSet
trigger1 = MoveGuarded
trigger2 = (StateNo = [600,699]) && MoveContact
trigger3 = (StateNo = [600,699]) && MoveGuarded
;trigger4 = P2StateNo = 5120
var(5) = 21	;15
ignorehitpause = 1 

[State -2, throwb]
type = VarAdd
trigger1 = var(5) >= 1
var(5) = -1
ignorehitpause = 1

[State -2, throwa]
type = VarSet
trigger1 = (StateNo != [600,699]) && MoveHit
var(5) = 0
ignorehitpause = 1 

;Modified it a bit for special throws 야시로 춤추는대지전용
[State -2, throwa]
type = VarSet
triggerall = fvar(23) >= 2 && statetype != A
trigger1 = MoveGuarded
trigger2 = MoveContact
trigger3 = MoveGuarded
;trigger4 = P2StateNo = 5120
var(14) = 23
ignorehitpause = 1

[State -2, throwb]
type = VarAdd
trigger1 = var(14) >= 1
var(14) = -1
ignorehitpause = 1

;--------------------------------------------------------------------------------------------------------------------
;yiori 2k2 모드..
;1p2p위치조절..
[State -2, 2]
type = null ;varset
trigger1 = roundstate = 0 
trigger1 = facing = 1
var(57) = 1

[State -2, 2] 
type = null ;varset
trigger1 = roundstate = 0
trigger1 = facing = -1
var(57) = 2

[State -2]
type = varadd
trigger1 = var(3) > 0 && var(50) = 15
var(3) = -128
ignorehitpause = 1
persistent = 0

[State -2, 15]
type = Varset
trigger1 = var(3) != -128 && var(3) <= 0 && var(50) = 0
var(3) = -128
ignorehitpause = 1
[State -2, 15]
type = Varadd
trigger1 = var(3) > 0
var(3) = -1
ignorehitpause = 1

[State -4, 1]
type = removeexplod
trigger1 = numexplod(1995) > 0
trigger1 = var(3) < 1
id = 1995
[State -4, 1]
type = removeexplod
trigger1 = numexplod(1997) > 0
trigger1 = var(3) < 1
id = 1997

[State -2, 1]
type = varadd
trigger1 = var(50) > 0
var(50) = -1
ignorehitpause = 1

[State -2, 17]
type = PalFX
trigger1 = (GameTime%2)=0
trigger1 = Var(3) > 0
time = 1
add = 120,100,40
ignorehitpause = 1

[State -2, 1]
type = PalFX
trigger1 = var(50) > 6 && gametime%2 = 0
time = 1
add = 255,255,255 
ignorehitpause = 1

[State -4, 1] 
type = modifyexplod
trigger1 = numexplod(1997) > 0 && var(3) > 0
id = 1997
scale = var(3)/769.0,1
ignorehitpause = 1

[State -2, 15]
type = null ;AttackMulSet
trigger1 = stateno != [1999,4000]
trigger1 = stateno != [6999,7103]
trigger1 = stateno != [7599,7630]
trigger1 = stateno != [3000,4000]
trigger1 = var(3) > 0
value = 0.7

[State -2, 15]
type = null ;AttackMulSet
triggerall = var(59) = 1
trigger1 = stateno = 1350
value = .5

[State -2, Stp Chrge Snd]
type = StopSnd
trigger1 = MoveType = H
channel = 2
value = f21,0


;--------------------------------------------------------------------------------------------------------------------
;카운터모드
[State -2, Player 1 Setting]
type = VarSet
trigger1 = Facing = 1 && roundstate = 0
var(36) = 1

[State -2, Player 2 Setting]
type = VarSet
trigger1 = Facing = -1 && roundstate = 0
var(36) = 2

[State -2, Counter Hit Envcolor]
type = EnvColor
trigger1 = NumExplod(8004) = 0 && !Win = 1 && var(38) = 1 && movehit = 1
value = 255,255,255
persistent = 0
time = 1
ignorehitpause = 1
under = 1

[State -2, Counter hit Logo (Player 1)]
type = Explod
triggerall = var(36) = 1 && NumExplod(8004) = 0 && !Win = 1 && var(38) = 1 
trigger1 = stateno < 800 && movehit > 0
trigger2 = stateno >= 900 && movehit > 0
trigger3 = projhittime(0) >= 0 && projhittime(0) <= 10
anim = 8004
ID = 8004
pos = -1,75
postype = left
sprpriority = 5
removetime = 42
ontop = 1
shadow = 0,0,0
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State -2, Counter hit Logo (Player 2)]
type = Explod
triggerall = var(36) = 2 && NumExplod(8004) = 0 && !Win = 1 && var(38) = 1 
trigger1 = stateno < 800 && movehit > 0
trigger2 = stateno >= 900 && movehit > 0
trigger3 = projhittime(0) >= 0 && projhittime(0) <= 10
anim = 8005
ID = 8004
pos = 1,75
postype = right
sprpriority = 5
removetime = 42
ontop = 1
shadow = 0,0,0
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(37) != -1 && !win = 1 && p2life != 0
trigger1 = enemy,stateno = [1000,4999]
var(37) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(38) != -1 && !win = 1 && p2life != 0
trigger1 = enemy,stateno = [1000,4999]
var(38) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
trigger3 = NumExplod(8004) = 1
;trigger3 = var(38) = 1 && movehit > 0
var(38) = 0
ignorehitpause = 1

[State -2, var(37)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
trigger3 = fvar(22) = 1 && movehit = 1
var(37) = 0
ignorehitpause = 1

[State -2, Counter Hit Envcolor]
type = VarSet
trigger1 = NumExplod(8004) = 1 && var(23) = 1
fvar(22) = 1
ignorehitpause = 1

[State -2, var(37)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
fvar(22) = 0
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(39) != -1 && !win = 1 && p2life != 0
trigger1 = enemy,stateno = [1000,4999]
var(39) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype != A && var(39) != -1
trigger2 = NumExplod(8004) = 1
var(39) = 0
ignorehitpause = 1

;--------------------------------------------------------------------------------------------------------------------

;--------------------------
; Dizzy mode system 2
;--------------------------

; Var(57) for counting dizzy mode
[State -3, 2.1]
type = Varadd
trigger1 = var(57) > 0 && movetype != H && TimeMod = 4, = 0
var(57) = -1
ignorehitpause = 1

[State -2, DizzyIncreasing ]
type = Varadd
triggerall = gethitvar(damage) > 0 && gethitvar(hitcount) < 3
triggerall = UniqHitCount <= 1
trigger1 = enemy,movehit
trigger2 = enemy,projhit = 1
var(57) = ifelse(GetHitVar(damage) <= 100,GetHitVar(damage),120) ;floor((ifelse(GetHitVar(damage) <= 100,GetHitVar(damage),100))/gethitvar(hitcount))*2
ignorehitpause = 1
persistent = 0

[State -3, 2.5]
type = ChangeState
trigger1 = var(57) >= 500
value = 5300
ctrl = 0
ignorehitpause = 1

[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "JorNoqueo = %d "
params = var(57)


;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State -3, Corner]
type = Velset
trigger1 = FrontEdgeDist < 10 && vel x > 0.1
x = 0.1

[State -2, Width]
type = width
;triggerall = enemyNear,authorname = "zzzasd"
;trigger1 = stateno = 20 || stateno = 21 || stateno = 40 || stateno = 41 || stateno = 42 || stateno = 43
;trigger2 = stateno = 2040 || stateno = 2041 || stateno = 2042 || stateno = 2043 || stateno = 50 || stateno = 2045
;trigger3 = stateno =[0,4000]
trigger1 = stateno =[0,9000]
edge = ifelse(enemyNear,authorname = "zzzasd",12,3),ifelse(enemyNear,authorname = "zzzasd",9,0)	;9,9

[state -3, stopsound]
type = stopsnd
trigger1 = stateno != 1500 && stateno != 1510 && stateno != 1550 && stateno != 1560 && stateno != 3010 && stateno != 1200 && stateno != 3200
trigger2 = movetype = H
trigger3 = stateno = 1505
channel = 4

[state -3, stopsound]
type = stopsnd
trigger1 = stateno != 1500 && stateno != 1510 && stateno != 1550 && stateno != 1560
trigger2 = movetype = H
trigger3 = stateno = 1505
channel = 6

[state -3, stopsound]
type = stopsnd
trigger1 = stateno != 100 && stateno != 3100 && stateno != 3150 && stateno != 3300
trigger2 = movetype = H
channel = 5

;--------------------------------------------------------------------------
;--------------------------------------------------------------------------
;장풍히트시 멈춤설정 바리바리막타
[State -2]
type = Helper
triggerall = numhelper(3600) = 0
trigger1 = MoveHit = 1 && stateno = 3020
trigger2 = MoveHit = 1 && stateno = 3200
ID = 3600
stateno = 3600
ownpal = 1
ignorehitpause = 1

;바리바리막타 충격파
[State -2]
type = Helper
triggerall = P2movetype = H
triggerall = numhelper(3610) = 0
trigger1 = P2StateNo = 3031
trigger2 = P2StateNo = 3341
ID = 3610
stateno = 3610
ownpal = 1
ignorehitpause = 1

;언블록 충격파
[State -2]
type = Helper
triggerall = P2movetype = H
triggerall = numhelper(3605) = 0
trigger1 = P2StateNo = 1211
ID = 3605
stateno = 3605
ownpal = 1
ignorehitpause = 1

;------------------------------------------------------------
;참영유성권 막타 번쩍임
[State -2, 15]
type = EnvColor
trigger1 = projhit3190 = 1
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

;--------------------------------------------------------------------------------------------------------------------
;신음소리
[State -3, 1]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 700
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
trigger1 = stateno = 5000
trigger1 = anim = 5000
trigger2 = stateno = 5000
trigger2 = anim = 5010
trigger3 = stateno = 5010
trigger3 = anim = 5020 
trigger4 = stateno = 5020
trigger4 = anim = 5000 
trigger5 = stateno = 5020
trigger5 = anim = 5010 
value = 11,(ifelse(Random <= 499,1,11))
channel = 3

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 700
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
trigger1 = stateno = 5000
trigger1 = anim = 5001
trigger2 = stateno = 5000
trigger2 = anim = 5011
trigger3 = stateno = 5010
trigger3 = anim = 5021 
trigger4 = stateno = 5020
trigger4 = anim = 5001 
trigger5 = stateno = 5020
trigger5 = anim = 5011 
value = 11,(ifelse(Random <= 499,3,33))
volume = 50
channel = 3

[State -3, 1.4]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 700
;triggerall = var(16) < 1
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
trigger1 = stateno = 5000
trigger1 = anim = 5002
trigger2 = stateno = 5000
trigger2 = anim = 5012
trigger3 = stateno = 5010
trigger3 = anim = 5022 
trigger4 = stateno = 5020
trigger4 = anim = 5002 
trigger5 = stateno = 5020
trigger5 = anim = 5012 
value = 11,(ifelse(Random <= 499,4,44))
ignorehitpause = 1
channel = 3

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
trigger1 = stateno = 5100
value = 11,(ifelse(Random <= 499,2,22))
channel = 3

[State -2, 11]
type = PlaySnd
triggerall = random < 500
triggerall = stateno = 5035
trigger1 = anim = 5035
trigger1 = time = 0
value = 11,(ifelse(Random <= 499,2,22))
channel = 3

[State -2, 11]
type = PlaySnd
triggerall = random < 700
triggerall = stateno = 5070
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
triggerall = alive
trigger1 = time = 1
value = 11,(ifelse(Random <= 499,2,22))
channel = 3

;---------------ko시의변환
[State -2, 2]
type = PlaySnd
triggerall = PrevStateNo != [5030,6000]
triggerall = loseko && SelfAnimexist(5950)
trigger1 = PrevStateNo = 130 || PrevStateNo = 131
trigger2 = PrevStateNo = 140 || PrevStateNo = 141
trigger3 = PrevStateNo = 120 || PrevStateNo = 121
trigger4 = PrevStateNo = 150 || PrevStateNo = 151
;trigger2 = P2StateNo = [199,799]
value = 5950,1
channel = 1
lowpriority = 1

[State -2, 2]
type = PlaySnd
triggerall = (P2StateNo != [250,269]) && (P2StateNo != [650,659])
triggerall = loseko && (P2StateNo != [800,999]) && (P2StateNo != [0,199]) && Pos Y >= 0 && SelfAnimexist(5950) && fvar(33) = 0
trigger1 = var(54) = 1 || var(54) = 2
value = 5950,1
channel = 1
lowpriority = 1

[State -2, 2]
type = PlaySnd
triggerall = (stateno != [120,159]) && (stateno != [5950,5951]) && fvar(33) = 0
trigger1 = loseko
value = 5950,0
channel = 1
lowpriority = 1

[State -2, fvar(33)]
type = VarSet
trigger1 = Lose
fvar(33) = 1
ignorehitpause = 1

[State -2, fvar(33)]
type = Varadd
trigger1 = fvar(33) >= 1
fvar(33) = 1
ignorehitpause = 1

;원인치맞췄을때 사운드효과
[State -2]
type = PlaySnd
trigger1 = P2stateno = 3275
value = 3275,1
ignorehitpause = 1
persistent = 0
lowpriority = 3
channel = 3

;--------------------------------------------------------------------------------------------------------------------
;구석에서의 움직임 제어


[State -2, var(41)]
type = Varadd
trigger1 = (enemynear,backedgedist < 10) && (enemynear,FrontEdgeBodyDist > 200)
trigger2 = (enemynear,FrontEdgeBodyDist < 13) && (enemynear,backedgedist > 200)
var(41) = 1

[State -2, var(41)]
type = Varset
trigger1 = var(41) >= 3
var(41) = 3

[State -2, var(41)]
type = VarSet
trigger1 = (enemynear,backedgedist > 9) && (enemynear,FrontEdgeBodyDist > 200)
trigger2 = (enemynear,FrontEdgeBodyDist > 12) && (enemynear,backedgedist > 200)
var(41) = 0

;점프했을때 움직임 제어
[State -2, ANIM3]
type = VarSet
trigger1 = stateno != 2045
var(30) = 3
ignorehitpause = 1

[State -2, ANIM2]
type = VarSet
trigger1 = stateno != 2041 && vel x != 0
var(30) = 2
ignorehitpause = 1

[State -2, ANIM1]
type = VarSet
trigger1 = stateno != 2041 && vel x = 0
var(30) = 1
ignorehitpause = 1

;[State -2, var(30)]
;type = VarSet
;trigger1 = vel y <= 0
;var(30) = 0
;ignorehitpause = 1

;------------------------------------------------------------------------------------------
;착지한순간
[State -2, fvar(21)]
type = Varadd
trigger1 = statetype != A;	pos y = 0
fvar(21) = 1

[State -2, fvar(21)]
type = Varset
trigger1 = fvar(21) >= 60
fvar(21) = 3

[State -2, fvar(21)]
type = VarSet
trigger1 = statetype = A
trigger2 = stateno = [200,9999]
fvar(21) = 0

[State -3, 15]
type = AttackMulSet
trigger1 = stateno < 200
value = 1
;----------------------------------------------------------------------
;------------------------------------------------------------------------------------------
;------------------------------------------------------------------------------
ko당했을시 움직임제어
[State -2]
type = Velset
trigger1 = StateNo = 5150
x = 0

[State -2]
type = PosSet
trigger1 = StateNo = 5150
y = 0

;---------------------------------------------------------

;밀려나기 소스
[State -2, 15]
type = Velset
triggerall = (statetype != A && P2statetype != A) && var(41) >= 1
triggerall = (ProjContactTime(0) = -1 || ProjContactTime(0) >= 30)
triggerall = ((P2stateno = [5000,5029]) || (P2stateno = [4000,4029]) || (P2stateno = [120,159]))
trigger1 = target,GetHitVar(xvel) = 0
trigger2 = target,GetHitVar(yvel) != 0 && movecontact = 1
;trigger3 = movecontact = 1;추가
x = 0
persistent = 0;추가
ignorehitpause = 1

;밀려나기 소스
[State -2, 15]
type = Velset
triggerall = (statetype != A && P2statetype != A) && var(41) >= 1
triggerall = (ProjContactTime(0) = -1 || ProjContactTime(0) >= 30)
triggerall = ((P2stateno = [5000,5029]) || (P2stateno = [4000,4029]) || (P2stateno = [120,159]))
trigger1 = target,Vel x
;x = (target,Vel x)
;x = (target,Vel x) * ifelse((P2stateno = [120,159])&&fvar(23) = 2,1.22,ifelse((P2stateno = [120,159])&&fvar(23) = 1,1.5,ifelse((P2stateno = [120,159])&&fvar(23) = 3,1.14,1)))
;x = ((target,Vel x)*ifelse(fvar(21)>=1,0.6,1))*ifelse((P2stateno = [120,159]),1.2,1)
;x = ((target,Vel x)*ifelse(fvar(21)>=1,0.6,1))*ifelse((P2stateno = [120,159]) && var(41) >= 1,1.2,1)
x = ((((target,Vel x)*ifelse(fvar(21)>=1,0.6,1))*ifelse((P2stateno = [120,159]) && var(41) >= 1,1.2,1))*ifelse(target,Vel x>0,-1,1))
persistent = 0;추가
ignorehitpause = 1
;기억하라 상대vel만큼밀려나고 착지하고 움직이지않았을때 "임의"로 그힘의 60%만 작동하고 상대가 가드칠때도 "임의"로 1.2곱한다
;상대vel만큼밀려나고 착지하고 움직이지않았을때 "임의"로 그힘의 60%만 작동하고 상대가 "구석"에서 가드칠때도 "임의"로 1.2곱한다
;---------------------------------------------------------
;밀려나기 단계구분

[State -2]
type = varset
trigger1 = ((StateNo = [200,209]) || (StateNo = [230,239]) || (StateNo = [400,409]) || (StateNo = [430,439]))
;trigger2 = ((StateNo = [610,619]) || (StateNo = [640,649])) && (movecontact = 1 && statetype = A)
;trigger3 = ((StateNo = [600,609]) || (StateNo = [630,639]) || ( StateNo = [1000,9999])) && (movecontact = 1 && statetype = A)
fvar(23) = 1
ignorehitpause = 1

[State -2]
type = varset
triggerall = statetype != A
trigger1 = ((StateNo = [210,219]) || (StateNo = [240,249]) || (StateNo = [410,419]) || (StateNo = [440,449]))
trigger2 = ((StateNo = [450,459]) || (StateNo = [700,999]))
trigger3 = (StateNo = [1000,9999]) && movecontact = 1
;trigger4 = (StateNo = [650,659]) && movecontact = 1
fvar(23) = 2
ignorehitpause = 1

[State -2]
type = varset
trigger1 = (StateNo = [250,269]) && movecontact = 1
trigger2 = (StateNo = [650,659]) && movecontact = 1
fvar(23) = 3
ignorehitpause = 1

;---------------------------------------------------------
;가드포즈결정바

[State -2]
type = varset
trigger1 = (P2StateNo = [200,209]) || (P2StateNo = [230,239]) || (P2StateNo = [400,409]) || (P2StateNo = [430,439])
trigger2 = (P2StateNo = [600,609]) || (P2StateNo = [630,639])
var(54) = 1
ignorehitpause = 1

[State -2]
type = varset
trigger1 = (P2StateNo = [210,219]) || (P2StateNo = [240,249]) || (P2StateNo = [410,419]) || (P2StateNo = [440,449])
trigger2 = (P2StateNo = [250,269]) || (P2StateNo = [450,459]) || (P2StateNo = [700,999])
trigger3 = (P2StateNo = [610,619]) || (P2StateNo = [640,649]) || (P2StateNo = [650,659])
var(54) = 2
ignorehitpause = 1

[State -2]
type = varset
trigger1 = P2StateNo = [1000,9999]
var(54) = 3
ignorehitpause = 1

;------------------------------------------------------------------------------------------
[State -2, 1]
type = null ;DisplayToClipboard
trigger1 = 1
text="P2Dist x = %d Pos y = %d BackEdgeDist = %d var(12) = %d"
params = floor(P2Dist x),floor(P2Dist y),floor(BackEdgeDist),floor(var(12))
ignorehitpause = 1

;----------------------------------------------
;공격히트백설정

;보통뜰때 1칸 적게뜬다 다리걸땐 높이 59인데 그냥 보통으로한다
;갑환처럼 높게뛰우는것도 1높다 그런데 아무리해도 전체적으로 안맞춰진다

;약공격 평지
[state -2]
type = varset
trigger1 = 1
fvar(1) = -6;-4.72

;약공격 구석
[state -2]
type = varset
trigger1 = 1
fvar(2) = -7.2	;-8

;강공격 평지
[state -2]
type = varset
trigger1 = 1
fvar(3) = -11 ;-10.46

;강공격 구석
[state -2]
type = varset
trigger1 = 1
fvar(4) = -13;-10.2

;날리기공격 평지
[state -2]
type = varset
trigger1 = 1
fvar(5) = -14.4

;날리기공격 구석
[state -2]
type = varset
trigger1 = 1
fvar(6) = -17.2

;약공격 코너푸쉬
[state -2]
type = varset
trigger1 = 1
fvar(7) = -6

;강공격 코너푸쉬
[state -2]
type = varset
trigger1 = 1
fvar(8) = -18

;날리기공격 코너푸쉬
[state -2]
type = varset
trigger1 = 1
fvar(9) = -24

;맞고 날아가는 x축
[state -2]
type = varset
trigger1 = 1
fvar(10) = -4.64

;맞고 날아가는 y축
[state -2]
type = varset
trigger1 = 1
fvar(11) = -8.09

;미닛맞고 날아가기 x축
[state -2]
type = varset
trigger1 = 1
fvar(24) = -6.34

;미닛맞고 날아가기 y축
[state -2]
type = varset
trigger1 = 1
fvar(25) = -8.78

;맞고 (멀리,돌면서?) 날아가는 x축	;미닛이랑똑같네;;
[state -2]
type = varset
trigger1 = 1
fvar(26) = -6.34

;맞고 (멀리,돌면서?) 날아가는 y축	;미닛이랑똑같네;;
[state -2]
type = varset
trigger1 = 1
fvar(27) = -8.78

;맞고 (멀리,돌면서?)날아가는 중력
[state -2]
type = varset
trigger1 = 1
fvar(28) = 0.48

;갑환 초필처럼 진짜높게날아가는 x축
[state -2]
type = varset
trigger1 = 1
fvar(29) = -2.09

;갑환 초필처럼 진짜높게날아가는 y축
[state -2]
type = varset
trigger1 = 1
fvar(30) = -13.91

;갑환 초필처럼 진짜높게날아가는 중력
[state -2]
type = varset
trigger1 = 1
fvar(31) = 0.602

;맞는 상대 중력값
[state -2]
type = varset
trigger1 = 1
fvar(12) = 0.523

;높게뜨는 x축
[state -2]
type = varset
trigger1 = 1
fvar(13) = -2.48

;높게뜨는 y축
[state -2]
type = varset
trigger1 = 1
fvar(14) = -11.56

;다리걸때 x축
[state -2]
type = varset
trigger1 = 1
fvar(20) = -1.76

;레드킥맞고 밑으로 떨어질때 x축
[state -2]
type = varset
trigger1 = 1
fvar(34) = -6

;레드킥맞고 밑으로 떨어질때 y축
[state -2]
type = varset
trigger1 = 1
fvar(35) = 8

;xi 시스템 막았을때 더밀리기?
[state -2]
type = varset
trigger1 = 1
fvar(15) = 1;1.2

;가드시 히트백이 0일때
[state -2]
type = varset
trigger1 = 1
fvar(16) = 0

;pausetime 의 나 (보통강공격)
[state -2]
type = varset
trigger1 = 1
var(45) = 12

;pausetime 히트시 상대 (보통강공격)
[state -2]
type = varset
trigger1 = 1
var(46) = 13;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;pausetime 가드시 상대 (보통강공격)
[state -2]
type = varset
trigger1 = 1
var(47) = 11;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;pausetime 의 나 (보통약공격)
[state -2]
type = varset
trigger1 = 1
var(10) = 8

;pausetime 히트시 상대 (보통약공격)
[state -2]
type = varset
trigger1 = 1
var(11) = 9;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;pausetime 가드시 상대 (보통약공격)
[state -2]
type = varset
trigger1 = 1
var(15) = 7;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;약공격 hittime
[state -2]
type = varset
trigger1 = 1
var(34) = 8;+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;강공격 hittime
[state -2]
type = varset
trigger1 = 1
var(35) = 16;+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;약공격 hittime 가드시
[state -2]
type = varset
trigger1 = 1
var(29) = (8*2);+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;강공격 hittime 가드시
[state -2]
type = varset
trigger1 = 1
var(31) = (16*2);+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;스파크위치 x축에쓰임 1
[state -2]
type = varset
trigger1 = 1
var(28) = Ceil(P2dist x);+((hitcount-1)*8)	;P2dist x-target,Const(size.head.pos.x)
ignorehitpause = 1

;스파크위치 y축에쓰임 1
[state -2]
type = varset
trigger1 = 1
var(32) = Ceil(ifelse(P2statetype != A,0,(enemyNear,pos y+36)))	; + 상대키에따라 달라지는 수치(현제 없음)
ignorehitpause = 1

;------------------------------------------------------------------
;------------------------------------------------------------------------------------------